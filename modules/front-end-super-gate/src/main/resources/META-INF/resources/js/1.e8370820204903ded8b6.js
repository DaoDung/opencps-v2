webpackJsonp([1,2,11,12,13,14,16],{471:function(t,e,n){var i=n(195)(n(512),n(521),null,null);t.exports=i.exports},472:function(t,e,n){var i=n(195)(n(514),n(518),null,null);t.exports=i.exports},473:function(t,e,n){var i=n(195)(n(515),n(519),null,null);t.exports=i.exports},474:function(t,e,n){var i=n(195)(n(516),n(523),null,null);t.exports=i.exports},475:function(t,e,n){var i=n(195)(n(517),n(522),null,null);t.exports=i.exports},476:function(t,e,n){var i=n(195)(n(524),n(555),null,null);t.exports=i.exports},492:function(t,e,n){var i=n(195)(n(567),n(571),null,null);t.exports=i.exports},505:function(t,e,n){var i=n(19),o=n(30),a=n(123),s=n(506),r=n(55).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=a?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||r(e,t,{value:s.f(t)})}},506:function(t,e,n){e.f=n(20)},509:function(t,e,n){t.exports={default:n(535),__esModule:!0}},510:function(t,e,n){var i=n(203),o=n(126).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},511:function(t,e,n){"use strict";(function(t,e){var i=n(530),o=n.n(i),a=n(509),s=n.n(a),r=n(533),l=n.n(r);!function(i){"function"==typeof define&&n(207)?define(["jquery"],i):"object"===l()(e)&&e.exports?e.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?n(48):n(48)(t)),i(e),e}:i(t)}(function(e){var n={$el:null,commentsById:{},usersById:{},dataFetched:!1,currentSortKey:"",options:{},events:{click:"closeDropdowns","keydown [contenteditable]":"saveOnKeydown","focus [contenteditable]":"saveEditableContent","keyup [contenteditable]":"checkEditableContentForChange","paste [contenteditable]":"checkEditableContentForChange","input [contenteditable]":"checkEditableContentForChange","blur [contenteditable]":"checkEditableContentForChange","click .navigation li[data-sort-key]":"navigationElementClicked","click .navigation li.title":"toggleNavigationDropdown","click .commenting-field.main .textarea":"showMainCommentingField","click .commenting-field.main .close":"hideMainCommentingField","click .commenting-field .textarea":"increaseTextareaHeight","change .commenting-field .textarea":"increaseTextareaHeight textareaContentChanged","click .commenting-field:not(.main) .close":"removeCommentingField","click .commenting-field .send.enabled":"postComment","click .commenting-field .update.enabled":"putComment","click .commenting-field .delete.enabled":"deleteComment",'change .commenting-field .upload.enabled input[type="file"]':"fileInputChanged","click li.comment button.upvote":"upvoteComment","click li.comment button.delete.enabled":"deleteComment","click li.comment .hashtag":"hashtagClicked","click li.comment .ping":"pingClicked","click li.comment ul.child-comments .toggle-all":"toggleReplies","click li.comment button.reply":"replyButtonClicked","click li.comment button.edit":"editButtonClicked",dragenter:"showDroppableOverlay","dragenter .droppable-overlay":"handleDragEnter","dragleave .droppable-overlay":"handleDragLeaveForOverlay","dragenter .droppable-overlay .droppable":"handleDragEnter","dragleave .droppable-overlay .droppable":"handleDragLeaveForDroppable","dragover .droppable-overlay":"handleDragOverForOverlay","drop .droppable-overlay":"handleDrop","click .dropdown.autocomplete":"stopPropagation","mousedown .dropdown.autocomplete":"stopPropagation","touchstart .dropdown.autocomplete":"stopPropagation"},getDefaultOptions:function(){return{profilePictureURL:"",currentUserIsAdmin:!1,currentUserId:null,spinnerIconURL:"",upvoteIconURL:"",replyIconURL:"",uploadIconURL:"",attachmentIconURL:"",fileIconURL:"",noCommentsIconURL:"",noCommentsImptIconURL:"",textareaPlaceholderText:"Thêm bình luận mới",newestText:"Mới nhất",oldestText:"Cũ nhất",importantCmtText:"Ý kiến chính thức",popularText:"Phổ biến",attachmentsText:"Tệp đính kèm",sendText:"Gửi",replyText:"Trả lời",editText:"Sửa",editedText:"Đã sửa",youText:"You",saveText:"Ghi lại",deleteText:"Xoá",newText:"Mới",viewAllRepliesText:"Xem tất cả __replyCount__ trả lời",hideRepliesText:"Hide replies",noCommentsText:"Không có bình luận",noCommentsImportantText:"Không có ý kiến chính thức",noAttachmentsText:"Không có tệp đính kèm",attachmentDropText:"Kéo thả tệp để tải lên",textFormatter:function(t){return t},enableReplying:!0,enableEditing:!0,enableUpvoting:!0,enableDeleting:!0,enableAttachments:!1,enableHashtags:!1,enablePinging:!1,enableDeletingCommentWithReplies:!1,enableNavigation:!0,postCommentOnEnter:!1,forceResponsive:!1,readOnly:!1,defaultNavigationSortKey:"newest",highlightColor:"#2793e6",deleteButtonColor:"#C9302C",scrollContainer:this.$el,roundProfilePictures:!1,textareaRows:2,textareaRowsOnFocus:2,textareaMaxRows:5,maxRepliesVisible:2,fieldMappings:{id:"id",parent:"parent",created:"createdDate",modified:"modifiedDate",content:"content",file:"file",fileURL:"file_url",fileMimeType:"file_mime_type",pings:"pings",creator:"creator",fullname:"fullname",profileURL:"profile_url",profilePictureURL:"profile_picture_url",isNew:"is_new",createdByAdmin:"created_by_admin",createdByCurrentUser:"created_by_current_user",upvoteCount:"upvote_count",userHasUpvoted:"user_has_upvoted"},getUsers:function(t,e){t([])},getComments:function(t,e){t([])},postComment:function(t,e,n){e(t)},putComment:function(t,e,n){e(t)},deleteComment:function(t,e,n){e()},upvoteComment:function(t,e,n){e(t)},hashtagClicked:function(t){},pingClicked:function(t){},uploadAttachments:function(t,e,n){e(t)},refresh:function(){},timeFormatter:function(t){return new Date(t).toLocaleDateString()},appendNewComments:function(t,e,n){e([])}}},init:function(n,i){this.$el=e(i),this.$el.addClass("jquery-comments"),this.undelegateEvents(),this.delegateEvents(),function(e){(t.browser=t.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),e.browser.mobile&&this.$el.addClass("mobile"),this.options=e.extend(!0,{},this.getDefaultOptions(),n),this.options.readOnly&&this.$el.addClass("read-only"),this.currentSortKey=this.options.defaultNavigationSortKey,this.createCssDeclarations(),this.fetchDataAndRender()},delegateEvents:function(){this.bindEvents(!1)},undelegateEvents:function(){this.bindEvents(!0)},bindEvents:function(t){var n=t?"off":"on";for(var i in this.events){var o=i.split(" ")[0],a=i.split(" ").slice(1).join(" "),s=this.events[i].split(" ");for(var r in s)if(s.hasOwnProperty(r)){var l=this[s[r]];l=e.proxy(l,this),""==a?this.$el[n](o,l):this.$el[n](o,a,l)}}},fetchDataAndRender:function(){var t=this;setTimeout(function(){t.appendNewComments()},3e4),this.commentsById={},this.usersById={},this.$el.empty(),this.createHTML();var n=this.after(this.options.enablePinging?2:1,function(){t.dataFetched=!0,t.render()}),i=function(i){var o=i.map(function(e){return t.createCommentModel(e)});t.sortComments(o,"oldest"),e(o).each(function(e,n){t.addCommentToDataModel(n)}),n()};if(this.options.getComments(i,n),this.options.enablePinging){var o=function(i){e(i).each(function(e,n){t.usersById[n.id]=n}),n()};this.options.getUsers(o,n)}},fetchNext:function(){var t=this,n=this.createSpinner();this.$el.find("ul#comment-list").append(n);var i=function(i){e(i).each(function(e,n){t.createComment(n)}),n.remove()},o=function(){n.remove()};this.options.getComments(i,o)},createCommentModel:function(t){var e=this.applyInternalMappings(t);return e.childs=[],this.commentsById[e.id]=e,e},addCommentToDataModel:function(t){if(!(t.id in this.commentsById)&&(this.commentsById[t.id]=t,t.parent)){this.getOutermostParent(t.parent).childs.push(t.id)}},updateCommentModel:function(t){e.extend(this.commentsById[t.id],t)},render:function(){this.dataFetched&&(this.showActiveContainer(),this.createComments(),this.options.enableAttachments&&this.createAttachments(),this.createImportantComments(),this.$el.find("> .spinner").remove(),this.options.refresh())},showActiveContainer:function(){var t=this.$el.find(".navigation li[data-container-name].active"),e=t.data("container-name"),n=this.$el.find('[data-container="'+e+'"]');n.siblings("[data-container]").hide(),n.show()},createComments:function(){var t=this;this.$el.find("#comment-list").remove();var n=e("<ul/>",{id:"comment-list",class:"main"}),i=[],o=[];e(this.getComments()).each(function(t,e){null==e.parent?i.push(e):o.push(e)}),this.sortComments(i,this.currentSortKey),i.reverse(),e(i).each(function(e,i){t.addComment(i,n)}),this.sortComments(o,"oldest"),e(o).each(function(e,i){t.addComment(i,n)}),this.$el.find('[data-container="comments"]').prepend(n)},createAttachments:function(){var t=this;this.$el.find("#attachment-list").remove();var n=e("<ul/>",{id:"attachment-list",class:"main"}),i=this.getAttachments();this.sortComments(i,"newest"),i.reverse(),e(i).each(function(e,i){t.addAttachment(i,n)}),this.$el.find('[data-container="attachments"]').prepend(n)},createImportantComments:function(){var t=this;this.$el.find("#importantCmt-list").remove();var n=e("<ul/>",{id:"importantCmt-list",class:"main"}),i=this.getImportantCmt();this.sortComments(i,"newest"),i.reverse(),e(i).each(function(e,i){t.addImportantCmt(i,n)}),this.$el.find('[data-container="importantCmt"]').prepend(n)},addComment:function(t,e){e=e||this.$el.find("#comment-list");var n=this.createCommentElement(t);if(t.parent){var i=e.find('.comment[data-id="'+t.parent+'"]');this.reRenderCommentActionBar(t.parent);var o=i.parents(".comment").last();0==o.length&&(o=i);var a=o.find(".child-comments"),s=a.find(".commenting-field");s.length?s.before(n):a.append(n),this.updateToggleAllButton(o)}else e.prepend(n)},addAttachment:function(t,e){e=e||this.$el.find("#attachment-list");var n=this.createCommentElement(t);e.prepend(n)},addImportantCmt:function(t,e){e=e||this.$el.find("#importantCmt-list");var n=this.createCommentElement(t);e.prepend(n)},removeComment:function(t){var n=this,i=this.commentsById[t],o=this.getChildComments(i.id);if(e(o).each(function(t,e){n.removeComment(e.id)}),i.parent){var a=this.getOutermostParent(i.parent),s=a.childs.indexOf(i.id);a.childs.splice(s,1)}delete this.commentsById[t];var r=this.$el.find('li.comment[data-id="'+t+'"]'),l=r.parents("li.comment").last();r.remove(),this.updateToggleAllButton(l)},uploadAttachments:function(t,n){var i=this;n||(n=this.$el.find(".commenting-field.main"));var o=!n.hasClass("main"),a=t.length;if(a){var s=n.find(".upload"),r=n.find(".textarea");s.removeClass("enabled");var l=this.createSpinner(),c=this.createSpinner();this.$el.find("ul#attachment-list").prepend(l),o?n.before(c):this.$el.find("ul#comment-list").prepend(c);var d=function(t){e(t).each(function(t,e){var n=i.createCommentModel(e);i.addCommentToDataModel(n),i.addComment(n),i.addAttachment(n)}),t.length==a&&0==i.getTextareaContent(r).length&&n.find(".close").trigger("click"),s.addClass("enabled"),c.remove(),l.remove()},h=function(){s.addClass("enabled"),c.remove(),l.remove()},p=[];e(t).each(function(t,e){var n=i.createCommentJSON(r);n.id+="-"+t,n.content="",n.file=e,n.fileURL="C:/fakepath/"+e.name,n.fileMimeType=e.type,n=i.applyExternalMappings(n),p.push(n)}),i.options.uploadAttachments(p,d,h)}s.find("input").val("")},updateToggleAllButton:function(t){if(null!=this.options.maxRepliesVisible){var n=t.find(".child-comments"),i=n.find(".comment"),o=n.find("li.toggle-all");if(i.removeClass("hidden-reply"),0===this.options.maxRepliesVisible)var a=i;else var a=i.slice(0,-this.options.maxRepliesVisible);if(a.addClass("hidden-reply"),o.find("span.text").text()==this.options.textFormatter(this.options.hideRepliesText)&&a.addClass("visible"),i.length>this.options.maxRepliesVisible){if(!o.length){o=e("<li/>",{class:"toggle-all highlight-font-bold"});var s=e("<span/>",{class:"text"}),r=e("<span/>",{class:"caret"});o.append(s).append(r),n.prepend(o)}this.setToggleAllButtonText(o,!1)}else o.remove()}},sortComments:function(t,e){var n=this;"popularity"==e?t.sort(function(t,e){var i=t.childs.length,o=e.childs.length;if(n.options.enableUpvoting&&(i+=t.upvoteCount,o+=e.upvoteCount),o!=i)return o-i;var a=new Date(t.created).getTime();return new Date(e.created).getTime()-a}):t.sort(function(t,n){var i=new Date(t.created).getTime(),o=new Date(n.created).getTime();return"oldest"==e?i-o:o-i})},sortUsers:function(t){t.sort(function(t,e){var n=t.fullname.toLowerCase().trim(),i=e.fullname.toLowerCase().trim();return n<i?-1:n>i?1:0})},sortAndReArrangeComments:function(t){var n=this.$el.find("#comment-list"),i=this.getComments().filter(function(t){return!t.parent});this.sortComments(i,t),e(i).each(function(t,e){var i=n.find("> li.comment[data-id="+e.id+"]");n.append(i)})},showActiveSort:function(){var t=this.$el.find('.navigation li[data-sort-key="'+this.currentSortKey+'"]');this.$el.find(".navigation li").removeClass("active"),t.addClass("active");var e=this.$el.find(".navigation .title");if("attachments"!=this.currentSortKey)e.addClass("active"),e.find("header").html(t.first().html());else{var n=this.$el.find(".navigation ul.dropdown").children().first();e.find("header").html(n.html())}this.showActiveContainer()},forceResponsive:function(){this.$el.addClass("responsive")},closeDropdowns:function(){this.$el.find(".dropdown").hide()},saveOnKeydown:function(t){if(13==t.keyCode){var n=t.metaKey||t.ctrlKey;if(this.options.postCommentOnEnter||n){e(t.currentTarget).siblings(".control-row").find(".save").trigger("click"),t.stopPropagation(),t.preventDefault()}}},saveEditableContent:function(t){var n=e(t.currentTarget);n.data("before",n.html())},checkEditableContentForChange:function(t){var n=e(t.currentTarget);n.data("before")!=n.html()&&(n.data("before",n.html()),n.trigger("change"))},navigationElementClicked:function(t){var n=e(t.currentTarget),i=n.data().sortKey;"attachments"!=i&&this.sortAndReArrangeComments(i),this.currentSortKey=i,this.showActiveSort()},toggleNavigationDropdown:function(t){t.stopPropagation(),e(t.currentTarget).find("~ .dropdown").toggle()},showMainCommentingField:function(t){var n=e(t.currentTarget);n.siblings(".control-row").show(),n.parent().find(".close").show(),n.focus()},hideMainCommentingField:function(t){var n=e(t.currentTarget),i=this.$el.find(".commenting-field.main .textarea"),o=this.$el.find(".commenting-field.main .control-row");this.clearTextarea(i),this.adjustTextareaHeight(i,!1),o.hide(),n.hide(),i.blur()},increaseTextareaHeight:function(t){var n=e(t.currentTarget);this.adjustTextareaHeight(n,!0)},textareaContentChanged:function(t){var n=e(t.currentTarget),i=n.siblings(".control-row").find(".save");if(!n.find(".reply-to.tag").length){var o=n.attr("data-comment");if(o){var a=n.parents("li.comment");if(a.length>1){var s=a.last().data("id");n.attr("data-parent",s)}}else{var s=n.parents("li.comment").last().data("id");n.attr("data-parent",s)}}var r=n.parents(".commenting-field").first();n[0].scrollHeight>n.outerHeight()?r.addClass("scrollable"):r.removeClass("scrollable");var l=!0,c=this.getTextareaContent(n,!0);if(o=n.attr("data-comment")){var d,h=c!=this.commentsById[o].content;this.commentsById[o].parent&&(d=this.commentsById[o].parent.toString());var p=n.attr("data-parent")!=d;l=h||p}c.length&&l?i.addClass("enabled"):i.removeClass("enabled")},removeCommentingField:function(t){var n=e(t.currentTarget);n.siblings(".textarea").attr("data-comment")&&n.parents("li.comment").first().removeClass("edit"),n.parents(".commenting-field").first().remove()},appendNewComments:function(){var t=this;if(console.log(e(t.$el.context),e(t.$el.context).length),0==e(t.$el.context).length)return void clearTimeout(a);var n=this.getComments(),i=function(e,n){for(var i in e)t.createComment(e[i]);for(var o in n){var a=t.createCommentModel(n[o]);t.updateCommentModel(a),t.reRenderComment(a.id)}},o=function(){console.log("jquery comment append new error")},a=setTimeout(function(){t.appendNewComments()},3e4);this.options.appendNewComments(n,i,o)},postComment:function(t){var n=this,i=e(t.currentTarget),o=i.parents(".commenting-field").first(),a=o.find(".textarea");i.removeClass("enabled");var s=this.createCommentJSON(a);s=this.applyExternalMappings(s);var r=function(t){n.currentSortKey="newest",n.showActiveSort(),n.createComment(t),o.find(".close").trigger("click")},l=function(){i.addClass("enabled")};this.options.postComment(s,r,l)},createComment:function(t){var e=this.createCommentModel(t);this.addCommentToDataModel(e),this.addComment(e),1==e.opinion&&this.addImportantCmt(e)},putComment:function(t){var n=this,i=e(t.currentTarget),o=i.parents(".commenting-field").first(),a=o.find(".textarea");i.removeClass("enabled");var s=e.extend({},this.commentsById[a.attr("data-comment")]);e.extend(s,{parent:a.attr("data-parent")||null,content:this.getTextareaContent(a),pings:this.getPings(a),modified:(new Date).getTime()}),s=this.applyExternalMappings(s);var r=function(t){var e=n.createCommentModel(t);delete e.childs,n.updateCommentModel(e),o.find(".close").trigger("click"),n.reRenderComment(e.id)},l=function(){i.addClass("enabled")};this.options.putComment(s,r,l)},deleteComment:function(t){var n=this,i=e(t.currentTarget),o=i.parents(".comment").first(),a=e.extend({},this.commentsById[o.attr("data-id")]),s=a.id,r=a.parent;i.removeClass("enabled"),a=this.applyExternalMappings(a);var l=function(){n.removeComment(s),r&&n.reRenderCommentActionBar(r),1==a.opinion&&e("[data-sort-key="+n.currentSortKey+"]").trigger("click")},c=function(){i.addClass("enabled")};this.options.deleteComment(a,l,c)},hashtagClicked:function(t){var n=e(t.currentTarget),i=n.attr("data-value");this.options.hashtagClicked(i)},pingClicked:function(t){var n=e(t.currentTarget),i=n.attr("data-value");this.options.pingClicked(i)},fileInputChanged:function(t,n){var n=t.currentTarget.files,i=e(t.currentTarget).parents(".commenting-field").first();this.uploadAttachments(n,i)},upvoteComment:function(t){var n,i=this,o=e(t.currentTarget).parents("li.comment").first(),a=o.data().model,s=a.upvoteCount;n=a.userHasUpvoted?s-1:s+1,a.userHasUpvoted=!a.userHasUpvoted,a.upvoteCount=n,this.reRenderUpvotes(a.id);var r=e.extend({},a);r=this.applyExternalMappings(r);var l=function(t){var e=i.createCommentModel(t);i.updateCommentModel(e),i.reRenderUpvotes(e.id)},c=function(){a.userHasUpvoted=!a.userHasUpvoted,a.upvoteCount=s,i.reRenderUpvotes(a.id)};this.options.upvoteComment(r,l,c)},toggleReplies:function(t){var n=e(t.currentTarget);n.siblings(".hidden-reply").toggleClass("visible"),this.setToggleAllButtonText(n,!0)},replyButtonClicked:function(t){var n=e(t.currentTarget),i=n.parents("li.comment").last(),o=n.parents(".comment").first().data().id,a=i.find(".child-comments > .commenting-field");if(a.length&&a.remove(),a.find(".textarea").attr("data-parent")!=o){a=this.createCommentingFieldElement(o,null,!1),i.find(".child-comments").append(a);var s=a.find(".textarea");this.moveCursorToEnd(s);var r=this.options.scrollContainer.scrollTop(),l=r+a.position().top+a.outerHeight(),c=r+this.options.scrollContainer.outerHeight();if(l>c){var d=r+(l-c);this.options.scrollContainer.scrollTop(d)}}},editButtonClicked:function(t){var n=e(t.currentTarget),i=n.parents("li.comment").first(),o=i.data().model;o=this.commentsById[o.id],i.addClass("edit");var a=this.createCommentingFieldElement(o.parent,o.id,!1);i.find(".comment-wrapper").first().append(a);var s=a.find(".textarea");s.attr("data-comment",o.id),s.append(this.getFormattedCommentContent(o,!0)),this.moveCursorToEnd(s)},showDroppableOverlay:function(t){this.options.enableAttachments&&(this.$el.find(".droppable-overlay").css("top",this.$el[0].scrollTop),this.$el.find(".droppable-overlay").show(),this.$el.addClass("drag-ongoing"))},handleDragEnter:function(t){var n=e(t.currentTarget).data("dnd-count")||0;n++,e(t.currentTarget).data("dnd-count",n),e(t.currentTarget).addClass("drag-over")},handleDragLeave:function(t,n){var i=e(t.currentTarget).data("dnd-count");i--,e(t.currentTarget).data("dnd-count",i),0==i&&(e(t.currentTarget).removeClass("drag-over"),n&&n())},handleDragLeaveForOverlay:function(t){var e=this;this.handleDragLeave(t,function(){e.hideDroppableOverlay()})},handleDragLeaveForDroppable:function(t){this.handleDragLeave(t)},handleDragOverForOverlay:function(t){t.stopPropagation(),t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="copy"},hideDroppableOverlay:function(){this.$el.find(".droppable-overlay").hide(),this.$el.removeClass("drag-ongoing")},handleDrop:function(t){t.preventDefault(),e(t.target).trigger("dragleave"),this.hideDroppableOverlay(),this.uploadAttachments(t.originalEvent.dataTransfer.files)},stopPropagation:function(t){t.stopPropagation()},createHTML:function(){var t=this.createCommentingFieldElement(null,null,!0);t.addClass("main"),this.$el.append(t),t.find(".control-row").hide(),t.find(".close").hide(),this.options.enableNavigation&&(this.$el.append(this.createNavigationElement()),this.showActiveSort());var n=this.createSpinner();this.$el.append(n);var i=e("<div/>",{class:"data-container overflowComment","data-container":"comments"});this.$el.append(i);var o=e("<div/>",{class:"no-comments no-data",text:this.options.textFormatter(this.options.noCommentsText)}),a=e("<i/>",{class:"fa fa-comments fa-2x"});this.options.noCommentsIconURL.length&&(a.css("background-image",'url("'+this.options.noCommentsIconURL+'")'),a.addClass("image")),o.prepend(e("<br/>")).prepend(a),i.append(o);var s=e("<div/>",{class:"data-container overflowComment","data-container":"importantCmt"});this.$el.append(s);var r=e("<div/>",{class:"no-comments no-data",text:this.options.textFormatter(this.options.noCommentsImportantText)}),l=e("<i/>",{class:"fa fa-comments fa-2x"});if(this.options.noCommentsImptIconURL.length&&(l.css("background-image",'url("'+this.options.noCommentsImptIconURL+'")'),l.addClass("image")),r.prepend(e("<br/>")).prepend(l),s.append(r),this.options.enableAttachments){var c=e("<div/>",{class:"data-container overflowComment","data-container":"attachments"});this.$el.append(c);var d=e("<div/>",{class:"no-attachments no-data",text:this.options.textFormatter(this.options.noAttachmentsText)}),h=e("<i/>",{class:"fa fa-paperclip fa-2x"});this.options.attachmentIconURL.length&&(h.css("background-image",'url("'+this.options.attachmentIconURL+'")'),h.addClass("image")),d.prepend(e("<br/>")).prepend(h),c.append(d);var p=e("<div/>",{class:"droppable-overlay"}),u=e("<div/>",{class:"droppable-container"}),m=e("<div/>",{class:"droppable"}),f=e("<i/>",{class:"fa fa-upload fa-4x"});this.options.uploadIconURL.length&&(f.css("background-image",'url("'+this.options.uploadIconURL+'")'),f.addClass("image"));var v=e("<div/>",{text:this.options.textFormatter(this.options.attachmentDropText)});m.append(f),m.append(v),p.html(u.html(m)).hide(),this.$el.append(p)}},createProfilePictureElement:function(t){if(t)var n=e("<img/>",{src:t});else var n=e("<i/>",{class:"fa fa-user"});return n.addClass("profile-picture"),this.options.roundProfilePictures&&n.addClass("round"),n},createCommentingFieldElement:function(t,n,i){var o=this,a=e("<div/>",{class:"commenting-field"});if(n)var s=this.commentsById[n].profilePictureURL;else var s=this.options.profilePictureURL;var r=this.createProfilePictureElement(s),l=e("<div/>",{class:"textarea-wrapper"}),c=e("<div/>",{class:"control-row"}),d=e("<div/>",{class:"textarea","data-placeholder":this.options.textFormatter(this.options.textareaPlaceholderText),contenteditable:!0});this.adjustTextareaHeight(d,!1);var h=e("<span/>",{class:"close"}).append(e('<span class="left"/>')).append(e('<span class="right"/>'));if(n)var p=this.options.textFormatter(this.options.saveText),u=n;else{var p=this.options.textFormatter(this.options.sendText),u="";if(this.options.enableAttachments){var m=e("<span/>",{class:"enabled upload"}),f=e("<i/>",{class:"md-icon",text:"Tải lên"}),v=e("<input/>",{type:"file","data-role":"none"});e.browser.mobile||v.attr("multiple","multiple"),this.options.uploadIconURL.length&&(f.css("background-image",'url("'+this.options.uploadIconURL+'")'),f.addClass("image")),m.append(f).append(v),c.append(m)}}var g=n?"update":"send",_=e("<span/>",{class:g+" save highlight-background",text:p});if(i){var C=e("<input/>",{class:"opinion checkOpinion mt-1 mr-1",id:"opinion"+u,name:"opinion"+u,type:"checkbox"}),x=e("<label/>",{class:"opinion label-opinion",for:"opinion"+u,text:"Ý kiến chính thức"});c.append(C).append(x)}if(c.prepend(_),l.append(h).append(d).append(c),a.append(r).append(l),t){d.attr("data-parent",t);var y=this.commentsById[t];if(y.parent){d.html("&nbsp;");var b="@"+y.fullname,T=this.createTagElement(b,"reply-to",y.creator);d.prepend(T)}}return this.options.enablePinging&&(d.textcomplete([{match:/(^|\s)@(([0-9]|[^\u0000-\u007F]|[a-zäöüß]|\s)*)$/im,search:function(t,n){t=o.normalizeSpaces(t);var i=o.getPings(d),a=o.getUsers().filter(function(t){var e=t.id==o.options.currentUserId,n=-1!=i.indexOf(t.id);return!e&&!n});o.sortUsers(a),n(e.map(a,function(e){var n=t.toLowerCase(),i=-1!=e.fullname.toLowerCase().indexOf(n),o=-1!=e.email.toLowerCase().indexOf(n);return i||o?e:null}))},template:function(t){var n=e("<div/>"),i=e("<img/>",{src:t.pictureUrl,class:"profile-picture round"}),o=e("<div/>",{class:"details"}),a=e("<div/>",{class:"name"}).html(t.fullname),s=e("<div/>",{class:"email"}).html(t.email);return t.email?o.append(a).append(s):(o.addClass("no-email"),o.append(a)),n.append(i).append(o),n.html()},replace:function(t){return" "+o.createTagElement("@"+t.fullname,"ping",t.id)[0].outerHTML+" "}}],{appendTo:".jquery-comments",dropdownClassName:"dropdown autocomplete",maxCount:5,rightEdgeOffset:0}),e.fn.textcomplete.Dropdown.prototype.render=function(t){var n=this._buildContents(t),i=e.map(t,function(t){return t.value});if(t.length){var a=t[0].strategy;a.id?this.$el.attr("data-strategy",a.id):this.$el.removeAttr("data-strategy"),this._renderHeader(i),this._renderFooter(i),n&&(this._renderContents(n),this._fitToBottom(),this._fitToRight(),this._activateIndexedItem()),this._setScroll()}else this.noResultsMessage?this._renderNoResultsMessage(i):this.shown&&this.deactivate();var s=parseInt(this.$el.css("top"))+o.options.scrollContainer.scrollTop();this.$el.css("top",s);var r=this.$el.css("left");this.$el.css("left",0);var l=o.$el.width()-this.$el.outerWidth(),c=Math.min(l,parseInt(r));this.$el.css("left",c)}),a},createNavigationElement:function(){var t=e("<ul/>",{class:"navigation"}),n=e("<div/>",{class:"navigation-wrapper"});t.append(n);var i=e("<li/>",{text:this.options.textFormatter(this.options.newestText),"data-sort-key":"newest","data-container-name":"comments"}),o=e("<li/>",{text:this.options.textFormatter(this.options.oldestText),"data-sort-key":"oldest","data-container-name":"comments"}),a=e("<li/>",{text:this.options.textFormatter(this.options.importantCmtText),"data-sort-key":"important","data-container-name":"importantCmt"}),s=e("<li/>",{text:this.options.textFormatter(this.options.popularText),"data-sort-key":"popularity","data-container-name":"comments"}),r=e("<li/>",{text:this.options.textFormatter(this.options.attachmentsText),"data-sort-key":"attachments","data-container-name":"attachments"}),l=e("<i/>",{class:"fa fa-paperclip"});this.options.attachmentIconURL.length&&(l.css("background-image",'url("'+this.options.attachmentIconURL+'")'),l.addClass("image")),r.prepend(l);var c=e("<div/>",{class:"navigation-wrapper responsive"}),d=e("<ul/>",{class:"dropdown"}),h=e("<li/>",{class:"title"}),p=e("<header/>");return h.append(p),c.append(h),c.append(d),t.append(c),n.append(i).append(o).append(a),d.append(i.clone()).append(o.clone()).append(a.clone()),(this.options.enableReplying||this.options.enableUpvoting)&&(n.append(s),d.append(s.clone())),this.options.enableAttachments&&(n.append(r),c.append(r.clone())),this.options.forceResponsive&&this.forceResponsive(),t},createSpinner:function(){var t=e("<div/>",{class:"spinner"}),n=e("<i/>",{class:"fa fa-spinner fa-spin"});return this.options.spinnerIconURL.length&&(n.css("background-image",'url("'+this.options.spinnerIconURL+'")'),n.addClass("image")),t.html(n),t},createCommentElement:function(t){var n=e("<li/>",{"data-id":t.id,class:"comment"}).data("model",t);t.createdByCurrentUser&&n.addClass("by-current-user"),t.createdByAdmin&&n.addClass("by-admin");var i=e("<ul/>",{class:"child-comments"}),o=this.createCommentWrapperElement(t);return n.append(o),null==t.parent&&n.append(i),n},createCommentWrapperElement:function(t){var n=e("<div/>",{class:"comment-wrapper"}),i=this.createProfilePictureElement(t.profilePictureURL),o=e("<time/>",{text:this.options.timeFormatter(t.created),"data-original":t.created}),a=t.createdByCurrentUser?this.options.textFormatter(this.options.youText):t.fullname,s=e("<div/>",{class:"name"});if(t.profileURL){var r=e("<a/>",{href:t.profileURL,text:a});s.html(r)}else s.text(a);if((t.createdByCurrentUser||t.createdByAdmin)&&s.addClass("highlight-font-bold"),t.parent){var l=this.commentsById[t.parent];if(l.parent){var c=e("<span/>",{class:"reply-to",text:l.fullname}),d=e("<i/>",{class:"fa fa-share"});this.options.replyIconURL.length&&(d.css("background-image",'url("'+this.options.replyIconURL+'")'),d.addClass("image")),c.prepend(d),s.append(c)}}if(t.isNew){var h=e("<span/>",{class:"new highlight-background",text:this.options.newText});s.append(h)}var p=e("<div/>",{class:"wrapper"}),u=e("<div/>",{class:"note-opinion",text:"(Ý kiến chính thức)"}),m=e("<div/>",{class:"content"}),f=void 0!=t.fileURL;if(f){var v=null,g=null;if(t.fileMimeType){var _=t.fileMimeType.split("/");2==_.length&&(v=_[1],g=_[0])}var r=e("<a/>",{class:"attachment",href:t.fileURL,target:"_blank"});if("image"==g){var C=e("<img/>",{src:t.fileURL});r.html(C)}else if("video"==g){var x=e("<video/>",{src:t.fileURL,type:t.fileMimeType,controls:"controls"});r.html(x)}else{var y=["archive","audio","code","excel","image","movie","pdf","photo","picture","powerpoint","sound","video","word","zip"],b="fa fa-file-o";y.indexOf(v)>0?b="fa fa-file-"+v+"-o":y.indexOf(g)>0&&(b="fa fa-file-"+g+"-o");var T=e("<i/>",{class:b});this.options.fileIconURL.length&&(T.css("background-image",'url("'+this.options.fileIconURL+'")'),T.addClass("image"));var w=t.fileName;r.text(w),r.prepend(T)}m.html(r)}else m.html(this.getFormattedCommentContent(t));if(t.modified&&t.modified!=t.created){var E=this.options.timeFormatter(t.modified),D=e("<time/>",{class:"edited",text:this.options.textFormatter(this.options.editedText)+" "+E,"data-original":t.modified});m.append(D)}var P=e("<span/>",{class:"actions"}),S=e("<button/>",{class:"action reply",type:"button",text:this.options.textFormatter(this.options.replyText)}),k=e("<i/>",{class:"fa fa-thumbs-up"});this.options.upvoteIconURL.length&&(k.css("background-image",'url("'+this.options.upvoteIconURL+'")'),k.addClass("image"));var I=this.createUpvoteElement(t);if(this.options.enableReplying&&P.append(S),this.options.enableUpvoting&&P.append(I),t.createdByCurrentUser||this.options.currentUserIsAdmin)if(f&&this.isAllowedToDelete(t.id)){var $=e("<button/>",{class:"action delete enabled",text:this.options.textFormatter(this.options.deleteText)});P.append($)}else if(!f&&this.options.enableEditing){var A=e("<button/>",{class:"action edit",text:this.options.textFormatter(this.options.editText)});P.append(A);var $=e("<button/>",{class:"action delete enabled",text:this.options.textFormatter(this.options.deleteText)});P.append($)}return p.append(m),1==t.opinion&&p.append(u),p.append(P),n.append(i).append(o).append(s).append(p),n},createUpvoteElement:function(t){var n=e("<i/>",{class:"fa fa-thumbs-up"});return this.options.upvoteIconURL.length&&(n.css("background-image",'url("'+this.options.upvoteIconURL+'")'),n.addClass("image")),e("<button/>",{class:"action upvote"+(t.userHasUpvoted?" highlight-font":"")}).append(e("<span/>",{text:t.upvoteCount,class:"upvote-count"})).append(n)},createTagElement:function(t,n,i){var o=e("<input/>",{class:"tag",type:"button","data-role":"none"});return n&&o.addClass(n),o.val(t),o.attr("data-value",i),o},reRenderComment:function(t){var n=this.commentsById[t],i=this;this.$el.find('li.comment[data-id="'+n.id+'"]').each(function(t,o){var a=i.createCommentWrapperElement(n);e(o).find(".comment-wrapper").first().replaceWith(a)})},reRenderCommentActionBar:function(t){var n=this.commentsById[t],i=this;this.$el.find('li.comment[data-id="'+n.id+'"]').each(function(t,o){var a=i.createCommentWrapperElement(n);e(o).find(".actions").first().replaceWith(a.find(".actions"))})},reRenderUpvotes:function(t){var n=this.commentsById[t],i=this;this.$el.find('li.comment[data-id="'+n.id+'"]').each(function(t,o){var a=i.createUpvoteElement(n);e(o).find(".upvote").first().replaceWith(a)})},createCssDeclarations:function(){e("head style.jquery-comments-css").remove(),this.createCss(".jquery-comments ul.navigation li.active:after {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments ul.navigation ul.dropdown li.active {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments .highlight-background {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments .highlight-font {color: "+this.options.highlightColor+" !important;}"),this.createCss(".jquery-comments .highlight-font-bold {color: "+this.options.highlightColor+" !important;font-weight: bold;}")},createCss:function(t){var n=e("<style/>",{type:"text/css",class:"jquery-comments-css",text:t});e("head").append(n)},getComments:function(){var t=this,n=s()(this.commentsById).map(function(e){return t.commentsById[e]}),i=n.filter(function(t){return t.opinion}),o=n.filter(function(t){return t.opinion&&t.createdByCurrentUser}),a=n.filter(function(t){return void 0!=t.fileURL});return n.length>3?e(".data-container[data-container=comments]").addClass("lessEl"):e(".data-container[data-container=comments]").addClass("fullEl"),i.length>3?e(".data-container[data-container=importantCmt]").addClass("lessEl"):e(".data-container[data-container=importantCmt]").addClass("fullEl"),o.length>0?e(".opinion").hide():e(".opinion").show(),a.length>3?e(".data-container[data-container=attachments]").addClass("lessEl"):e(".data-container[data-container=attachments]").addClass("fullEl"),s()(this.commentsById).map(function(e){return t.commentsById[e]})},getUsers:function(){var t=this;return s()(this.usersById).map(function(e){return t.usersById[e]})},getChildComments:function(t){return this.getComments().filter(function(e){return e.parent==t})},getAttachments:function(){return this.getComments().filter(function(t){return void 0!=t.fileURL})},getImportantCmt:function(){return this.getComments().filter(function(t){return 1==t.opinion})},getOutermostParent:function(t){var e=t;do{var n=this.commentsById[e];e=n.parent}while(null!=n.parent);return n},createCommentJSON:function(t){var e=(new Date).toISOString();return{id:"c"+(this.getComments().length+1),parent:t.attr("data-parent")||null,created:e,modified:e,content:this.getTextareaContent(t),pings:this.getPings(t),fullname:this.options.textFormatter(this.options.youText),profilePictureURL:this.options.profilePictureURL,createdByCurrentUser:!0,upvoteCount:0,userHasUpvoted:!1}},isAllowedToDelete:function(t){if(this.options.enableDeleting){var n=!0;return this.options.enableDeletingCommentWithReplies||e(this.getComments()).each(function(e,i){i.parent==t&&(n=!1)}),n}return!1},setToggleAllButtonText:function(t,e){var n=this,i=t.find("span.text"),o=t.find(".caret"),a=function(){var e=n.options.textFormatter(n.options.viewAllRepliesText),o=t.siblings(".comment").length;e=e.replace("__replyCount__",o),i.text(e)},s=this.options.textFormatter(this.options.hideRepliesText);e?(i.text()==s?a():i.text(s),o.toggleClass("up")):i.text()!=s&&a()},adjustTextareaHeight:function(t,n){t=e(t);var i=1==n?this.options.textareaRowsOnFocus:this.options.textareaRows;do{!function(e){var n=2.2+1.45*(e-1);t.css("height",n+"em")}(i),i++;var o=t[0].scrollHeight>t.outerHeight(),a=0!=this.options.textareaMaxRows&&i>this.options.textareaMaxRows}while(o&&!a)},clearTextarea:function(t){t.empty().trigger("input")},getTextareaContent:function(t,n){var i=t.clone();i.find(".reply-to.tag").remove(),i.find(".tag.hashtag").replaceWith(function(){return n?e(this).val():"#"+e(this).attr("data-value")}),i.find(".tag.ping").replaceWith(function(){return n?e(this).val():"@"+e(this).attr("data-value")});var o=e("<pre/>").html(i.html());o.find("div, p, br").replaceWith(function(){return"\n"+this.innerHTML});var a=o.text().replace(/^\s+/g,""),a=this.normalizeSpaces(a);return a},getFormattedCommentContent:function(t,e){var n=this.escape(t.content);return n=this.linkify(n),n=this.highlightTags(t,n),e&&(n=n.replace(/(?:\n)/g,"<br>")),n},getPings:function(t){return e.map(t.find(".ping"),function(t){return parseInt(e(t).attr("data-value"))})},moveCursorToEnd:function(t){if(t=e(t)[0],e(t).trigger("input"),e(t).scrollTop(t.scrollHeight),void 0!==window.getSelection&&void 0!==document.createRange){var n=document.createRange();n.selectNodeContents(t),n.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(n)}else if(void 0!==document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(t),o.collapse(!1),o.select()}t.focus()},escape:function(t){return e("<pre/>").text(this.normalizeSpaces(t)).html()},normalizeSpaces:function(t){return t.replace(new RegExp(" ","g")," ")},after:function(t,e){var n=this;return function(){if(0==--t)return e.apply(n,arguments)}},highlightTags:function(t,e){return this.options.enableHashtags&&(e=this.highlightHashtags(t,e)),this.options.enablePinging&&(e=this.highlightPings(t,e)),e},highlightHashtags:function(t,e){var n=this;if(-1!=e.indexOf("#")){var i=function(t){var t=n.createTagElement("#"+t,"hashtag",t);return t[0].outerHTML},o=/(^|\s)#([a-zäöüß\d-_]+)/gim;e=e.replace(o,function(t,e,n){return e+i(n)})}return e},highlightPings:function(t,n){var i=this;if(-1!=n.indexOf("@")){var o=function(t){return i.createTagElement("@"+t.fullname,"ping",t.id)[0].outerHTML},a="";return e(t.pings).each(function(t,e){if(e in i.usersById){var s=i.usersById[e],r="@"+s.id,l=n.indexOf(r)+r.length,c=n.slice(0,l);a+=c.replace(r,o(s)),n=n.slice(l)}}),a+=n}return n},linkify:function(t){var e,n,i,o;if(n=/(^|\s)((https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,e=t.replace(n,'$1<a href="$2" target="_blank">$2</a>'),i=/(^|\s)(www\.[\S]+(\b|$))/gim,e=e.replace(i,'$1<a href="http://$2" target="_blank">$2</a>'),o=/(^|\s)(([a-zA-Z0-9\-\_\.]+)@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e=e.replace(o,'$1<a href="mailto:$2">$2</a>'),(t.match(/<a href/g)||[]).length>0){for(var a=t.split(/(<\/a>)/g),s=0;s<a.length;s++)null==a[s].match(/<a href/g)&&(a[s]=a[s].replace(n,'<a href="$1" target="_blank">$1</a>').replace(i,'$1<a href="http://$2" target="_blank">$2</a>').replace(o,'<a href="mailto:$1">$1</a>'));return a.join("")}return e},waitUntil:function(t,e){var n=this;t()?e():setTimeout(function(){n.waitUntil(t,e)},100)},applyInternalMappings:function(t){var e={},n=this.options.fieldMappings;for(var i in n)n.hasOwnProperty(i)&&(e[n[i]]=i);return this.applyMappings(e,t)},applyExternalMappings:function(t){var e=this.options.fieldMappings;return this.applyMappings(e,t)},applyMappings:function(t,e){var n={};for(var i in e)if(i in t){var o=t[i];n[o]=e[i]}return n}};e.fn.comments=function(t){return this.each(function(){var i=o()(n);e.data(this,"comments",i),i.init(t||{},this)})}})}).call(e,n(48),n(557)(t))},512:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{assign_items:{type:Array,default:function(){return[]}},type:{type:Number,default:function(){return 1}}},model:{prop:"assign_items"},data:function(){return{data_phancong:[],assignedtype_items:{2:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2}],3:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2},{text:"Theo dõi",value:3}]},title_asign:{1:"PHÂN CÔNG NGƯỜI THỰC HIỆN",2:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP",3:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP VÀ THEO DÕI"}}},mounted:function(){this.data_phancong=this.assign_items},methods:{changeAssigned:function(t,e){var n=this;1===n.type?n.assign_items[e].assigned=!0===t?1:0:n.assign_items[e].assigned=t.value}}}},514:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{detailDossier:{type:Object,default:function(){}}},watch:{detailDossier:function(t){this.thongTinChiTietHoSo=t}},components:{},data:function(){return{thongTinChiTietHoSo:{},showContactDetail:!1}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){},methods:{initData:function(t){var e=this;e.$store.dispatch("getDetailDossier",t).then(function(t){e.thongTinChiTietHoSo=t})},goBack:function(){window.history.back()}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()+" | "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}return""}}}},515:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{resultFiles:{type:Array,default:function(){return[]}}},data:function(){return{dossierId:"",loadingAction:!1,headers:[{text:"STT",align:"center",sortable:!1},{text:"Số giấy",align:"center",sortable:!1},{text:"Ngày cấp",align:"center",sortable:!1},{text:"Tên giấy tờ",align:"center",sortable:!1}]}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){this.$nextTick(function(){})},methods:{},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()}return""},filterFileResult:function(t){if(t.length>0){return t.filter(function(t,e){return 2===t.dossierPartType&&!1===t.eForm})}}}}},516:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{payments:{type:Object,default:function(){}},payment_type:{type:Number,default:function(){return 5}}},data:function(){return{dossierId:"",loadingAction:!1,feeAmount:"",checkPaid:!1}},computed:{loading:function(){return this.$store.getters.loading},loadingTable:function(){return this.$store.getters.loadingTable}},created:function(){this.$nextTick(function(){})},methods:{initData:function(t){var e=this;e.dossierId=t,e.$store.dispatch("getDetailDossier",t).then(function(t){e.$store.dispatch("loadDossierPayments",t).then(function(t){e.feeAmount=t.feeAmount}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},currency:function(t){if(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""}}}},517:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{user_note:{type:Number,required:!0}},data:function(){return{ykien:"",valid:!0}},methods:{initData:function(t){var e=this;e.$store.dispatch("getDetailDossier",t).then(function(t){e.thongTinChiTietHoSo=t})},doValidate:function(){var t=this,e=!1;return t.$refs.userNoteForm.validate()&&(e=!0),e}}}},518:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-expansion-panel",{staticClass:"expansion-pl ext__form"},[n("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"background-triangle-small"},[n("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("THÔNG TIN CHUNG HỒ SƠ")]),t._v(" "),n("v-card",[n("v-card-text",{staticClass:"py-2 px-2"},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0"},[t._v("Tên doanh nghiệp: ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0 header-text-field"},[t._v(" "+t._s(t.thongTinChiTietHoSo.applicantName))])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0"},[t._v("Thời gian gửi: ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0 header-text-field"},[t._v(" "+t._s(t.thongTinChiTietHoSo.submitDate)+" ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0"},[t._v("Mã hồ sơ: ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0 header-text-field"},[t._v("  "+t._s(t.thongTinChiTietHoSo.dossierIdCTN)+" ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0"},[t._v("Thời gian tiếp nhận: ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0 header-text-field"},[t._v(" "+t._s(t._f("dateTimeView")(t.thongTinChiTietHoSo.receiveDate)))])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0"},[t._v("Số hồ sơ: ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0 header-text-field"},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierNo)+" ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0"},[t._v("Thời hạn xử lý: ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0 header-text-field"},[n("i",[t._v(t._s(t.thongTinChiTietHoSo.durationDate)+" làm việc")])])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0 hover-pointer",attrs:{title:t.showContactDetail?"Thu gọn":"Chi tiết liên hệ"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.showContactDetail=!t.showContactDetail}}},[t._v("\n              Thông tin liên hệ:\n            ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0 header-text-field hover-pointer"},[n("span",{attrs:{title:t.showContactDetail?"Thu gọn":"Chi tiết liên hệ"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.showContactDetail=!t.showContactDetail}}},[t.showContactDetail?t._e():n("v-icon",{attrs:{color:"primary"}},[t._v("keyboard_arrow_down")]),t._v(" "),t.showContactDetail?n("v-icon",{attrs:{color:"primary"}},[t._v("keyboard_arrow_up")]):t._e()],1)])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0"},[t._v("Trạng thái: ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-subheader",{staticClass:"pl-0 header-text-field"},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierStatusText)+" ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm12:""}},[n("v-slide-y-transition",[t.showContactDetail?n("div",[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm2:""}},[n("v-subheader",{staticClass:"pl-0"},[n("i",[t._v("Tên doanh nghiệp: ")])])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-subheader",{staticClass:"pl-0 header-text-field"},[t._v(" "+t._s(t.thongTinChiTietHoSo.applicantName)+" ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm2:""}},[n("v-subheader",{staticClass:"pl-0"},[n("i",[t._v("Địa chỉ Email: ")])])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-subheader",{staticClass:"pl-0 header-text-field"},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactEmail)+" ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm2:""}},[n("v-subheader",{staticClass:"pl-0"},[n("i",[t._v("Số điện thoại: ")])])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-subheader",{staticClass:"pl-0 header-text-field"},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactTelNo)+" ")])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm2:""}},[n("v-subheader",{staticClass:"pl-0"},[n("i",[t._v("Địa chỉ: ")])])],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-subheader",{staticClass:"pl-0 header-text-field"},[t._v(" "+t._s(t.thongTinChiTietHoSo.address)+" ")])],1)],1)],1):t._e()])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},519:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"traketqua"},[n("v-expansion-panel",{staticClass:"expansion-pl"},[n("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"background-triangle-small"},[n("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("GIẤY TỜ KẾT QUẢ\n      ")]),t._v(" "),n("v-card",[n("v-card-text",[n("v-data-table",{staticClass:"table-bordered",attrs:{headers:t.headers,items:t._f("filterFileResult")(t.resultFiles),"item-key":"no","hide-actions":"","no-data-text":"Không có giấy tờ kết quả"},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[n("v-tooltip",{attrs:{bottom:""}},[n("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                  "+t._s(e.header.text)+"\n                ")]),t._v(" "),n("span",[t._v("\n                  "+t._s(e.header.text)+"\n                ")])])]}},{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-center",staticStyle:{width:"5%"}},[t._v(" "+t._s(e.index+1)+" ")]),t._v(" "),n("td",{staticClass:"text-xs-left",staticStyle:{width:"10%"}},[t._v(" "+t._s(e.item.deliverableCode)+" ")]),t._v(" "),n("td",{staticClass:"text-xs-left",staticStyle:{width:"10%"}},[t._v(" "+t._s(t._f("dateTimeView")(e.item.createDate))+" ")]),t._v(" "),n("td",{staticClass:"text-xs-left",staticStyle:{width:"75%"}},[t._v(" "+t._s(e.item.displayName)+" ")])]}}])})],1)],1)],1)],1)],1)},staticRenderFns:[]}},521:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"phancong",staticStyle:{"background-color":"white"}},[n("div",{attrs:{xs12:""}},[n("v-expansion-panel",{staticClass:"expansion-pl"},[n("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"background-triangle-small"},[n("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v(t._s(t.title_asign[t.type])+"\n        ")]),t._v(" "),n("v-card",[n("v-card-text",t._l(t.data_phancong,function(e,i){return n("div",{key:e.userId,staticClass:"ml-3",staticStyle:{display:"inline-block"}},[1===t.type?n("v-layout",{attrs:{wrap:""}},[n("v-flex",[n("v-checkbox",{on:{change:function(e){t.changeAssigned(e,i)}},model:{value:e.assigned,callback:function(n){t.$set(e,"assigned",n)},expression:"item.assigned"}})],1),t._v(" "),n("v-flex",{staticClass:"pt-1"},[n("span",[t._v(t._s(e.userName))]),t._v("     \n                ")])],1):n("v-layout",{staticClass:"my-1",attrs:{wrap:""}},[n("v-flex",{staticClass:"pt-1"},[t._v(t._s(e.userName))]),t._v("    \n                "),n("v-flex",[n("v-select",{staticStyle:{"max-width":"160px"},attrs:{items:t.assignedtype_items[t.type],value:e.assigned,"item-text":"text","item-value":"value","return-object":"","hide-selected":""},on:{change:function(e){t.changeAssigned(e,i)}}})],1),t._v("\n                   \n              ")],1)],1)}))],1)],1)],1)],1)])},staticRenderFns:[]}},522:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-expansion-panel",{staticClass:"expansion-pl ext__form"},[n("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"background-triangle-small"},[n("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n    Ý kiến cán bộ "),2===t.user_note?n("span",{staticClass:"red--text text--darken-3"},[t._v("*")]):t._e()]),t._v(" "),n("v-card",[n("v-card-text",{staticClass:"py-2 px-2"},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-form",{ref:"userNoteForm",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{textarea:"",rows:2,rules:2===t.user_note?[function(t){return!!t||"lý do bắt buộc phải nhập"}]:[]},model:{value:t.ykien,callback:function(e){t.ykien=e},expression:"ykien"}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},523:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-expansion-panel",{staticClass:"expansion-pl"},[n("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"background-triangle-small"},[n("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("XÁC NHẬN THU PHÍ\n    ")]),t._v(" "),n("v-card",[n("v-card-text",[5===t.payment_type?n("div",{staticClass:"pl-3 fee-info"},[n("v-checkbox",{attrs:{label:"Phí phải nộp: "+t.currency(t.payments.feeAmount)+" VNĐ"},model:{value:t.checkPaid,callback:function(e){t.checkPaid=e},expression:"checkPaid"}}),t._v(" "),n("span",{staticClass:"red--text"},[t._v("* ")]),t._v(" Đánh dấu để xác định người làm thủ tục đã hoàn thành nộp phí.\n        ")],1):t._e()])],1)],1)],1)},staticRenderFns:[]}},524:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),o=n.n(i),a=n(48),s=n.n(a),r=n(549);n.n(r),n(511);e.default={props:["classPK","className"],data:function(){return{usersComment:[{id:1,fullname:"Trịnh Công Trình",email:"trinhtc@fds.vn.com",pictureUrl:"https://app.viima.com/static/media/user_profiles/user-icon.png"},{id:2,fullname:"Thái Hoàng Anh",email:"anhth@fds.vn",pictureUrl:"https://app.viima.com/static/media/user_profiles/user-icon.png"}],comment:[],argShowMore:!0,checkOpinion:!0}},computed:{loading:function(){return this.$store.getters.loading},initData:function(){return this.$store.getters.loadingInitData}},watch:{classPK:function(t){var e=this;e.$store.dispatch("loadUsersComment",t).then(function(t){e.usersComment=t,e.initComment()}).catch(function(t){e.initComment()})}},created:function(){},mounted:function(){var t=this;t.classPK&&t.$store.dispatch("loadUsersComment",t.classPK).then(function(e){t.usersComment=e,t.initComment()}).catch(function(e){t.initComment()})},methods:{initComment:function(){var t=this;s()("#comments-container-el").comments({profilePictureURL:"https://viima-app.s3.amazonaws.com/media/user_profiles/user-icon.png",textareaRows:2,enableAttachments:!0,enableHashtags:!0,enablePinging:!0,postCommentOnEnter:!1,forceResponsive:!1,readOnly:!1,textareaPlaceholderText:"Thêm bình luận mới",newestText:"Mới nhất",oldestText:"Cũ nhất",popularText:"Phổ biến",attachmentsText:"Đính kèm",sendText:"Gửi",replyText:"Trả lời",editText:"Sửa",editedText:"Đã sửa",youText:"Bạn",saveText:"Ghi lại",deleteText:"Xóa",hideRepliesText:"Ẩn câu trả lời",noCommentsText:"Không có bình luận nào",noAttachmentsText:"Không có tệp đính kèm",attachmentDropText:"Kéo thả tệp đính kèm",fieldMappings:{id:"commentId",parent:"parent",userId:"userId",created:"createdDate",modified:"modifiedDate",content:"content",fileURL:"fileUrl",fileMimeType:"fileType",fileName:"fileName",pings:"pings",creator:"userId",fullname:"fullname",profileURL:"profileUrl",profilePictureURL:"pictureUrl",isNew:"isNew",createdByAdmin:"isAdmin",createdByCurrentUser:"createdByCurrentUser",upvoteCount:"upvoteCount",userHasUpvoted:"userHasUpvoted",email:"email",opinion:"opinion",className:"className",classPK:"classPK"},timeFormatter:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()+" "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}return""},getUsers:function(e,n){e(t.usersComment)},getComments:function(e,n){var i={classPK:t.classPK,className:t.className};t.$store.dispatch("loadCommentItems",i).then(function(n){var i=[];s.a.each(n,function(e,n){t.comment=n,t.formatComment(t.comment),i.push(t.comment)}),e(i)}).catch(function(t){e([]),n()})},postComment:function(e,n,i){e.classPK=t.classPK,e.className=t.className,e.opinion=document.getElementById("opinion").checked,t.$store.dispatch("postComment",e).then(function(e){e.opinion&&s()(".opinion").hide(),document.getElementById("opinion").checked=!1,t.comment=e,t.formatComment(t.comment),n(t.comment)})},putComment:function(e,n,i){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("putComment",e).then(function(e){t.comment=e,t.formatComment(t.comment),n(t.comment)})},deleteComment:function(e,n,i){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("deleteComment",e).then(function(t){n()}).catch(function(t){i(),console.log(t)})},upvoteComment:function(e,n,i){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("upvoteComment",e).then(function(e){t.comment=e,t.formatComment(t.comment),n(t.comment)}).catch(function(t){console.log(t)})},uploadAttachments:function(e,n,i){var a=0,r=[],l=function(){++a===e.length&&(0===r.length?i():n(r))};s()(e).each(function(e,n){var i=new FormData;s()(o()(n)).each(function(t,e){var o=n[e];o&&i.append(e,o)}),i.append("file",n.file),i.append("className",t.className),i.append("classPK",t.classPK),i.append("parent",null!=n.parent?n.parent:0),i.append("fileName",n.file.name),i.append("fileType",n.file.type),i.append("fileSize",n.file.size),i.append("pings",n.pings.join()),i.append("email",t.initData.user.userEmail),i.append("fullname",t.initData.user.userName),s.a.ajax({url:t.initData.commentApi+"/uploads",dataType:"json",type:"POST",headers:{groupId:t.initData.groupId},data:i,cache:!1,contentType:!1,processData:!1,success:function(e){t.formatComment(e),r.push(t.comment),l()},error:function(t,e){l()}})})}})},formatComment:function(t){var e=this;e.comment=t,0===t.parent&&(e.comment.parent=null),""===t.fileName&&(e.comment.fileName=null),""===t.fileType&&(e.comment.fileType=null),""===t.fileUrl&&(e.comment.fileUrl=null),""===t.pictureUrl&&(e.comment.pictureUrl="https://viima-app.s3.amazonaws.com/media/user_profiles/user-icon.png"),e.comment.fullname=t.fullname,e.comment.opinion=t.opinion,e.comment.pings=t.pings.toString().split(","),e.comment.createdDate=e.comment.createDate,e.comment.modifiedDate=e.comment.modifiedDate},dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()+" "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}return""}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()+"  "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}return""}}}},530:function(t,e,n){t.exports={default:n(534),__esModule:!0}},531:function(t,e,n){t.exports={default:n(536),__esModule:!0}},532:function(t,e,n){t.exports={default:n(537),__esModule:!0}},533:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(532),a=i(o),s=n(531),r=i(s),l="function"==typeof r.default&&"symbol"==typeof a.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};e.default="function"==typeof r.default&&"symbol"===l(a.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":l(t)}},534:function(t,e,n){n(544);var i=n(30).Object;t.exports=function(t,e){return i.create(t,e)}},535:function(t,e,n){n(545),t.exports=n(30).Object.keys},536:function(t,e,n){n(546),n(205),n(547),n(548),t.exports=n(30).Symbol},537:function(t,e,n){n(128),n(206),t.exports=n(506).f("iterator")},538:function(t,e,n){var i=n(122),o=n(199),a=n(197);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var s,r=n(t),l=a.f,c=0;r.length>c;)l.call(t,s=r[c++])&&e.push(s);return e}},539:function(t,e,n){var i=n(64);t.exports=Array.isArray||function(t){return"Array"==i(t)}},540:function(t,e,n){var i=n(124)("meta"),o=n(57),a=n(63),s=n(55).f,r=0,l=Object.isExtensible||function(){return!0},c=!n(82)(function(){return l(Object.preventExtensions({}))}),d=function(t){s(t,i,{value:{i:"O"+ ++r,w:{}}})},h=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[i].i},p=function(t,e){if(!a(t,i)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[i].w},u=function(t){return c&&m.NEED&&l(t)&&!a(t,i)&&d(t),t},m=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:p,onFreeze:u}},541:function(t,e,n){var i=n(197),o=n(84),a=n(83),s=n(200),r=n(63),l=n(202),c=Object.getOwnPropertyDescriptor;e.f=n(56)?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(r(t,e))return o(!i.f.call(t,e),t[e])}},542:function(t,e,n){var i=n(83),o=n(510).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return o(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?r(t):o(i(t))}},543:function(t,e,n){var i=n(49),o=n(30),a=n(82);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*a(function(){n(1)}),"Object",s)}},544:function(t,e,n){var i=n(49);i(i.S,"Object",{create:n(198)})},545:function(t,e,n){var i=n(86),o=n(122);n(543)("keys",function(){return function(t){return o(i(t))}})},546:function(t,e,n){"use strict";var i=n(19),o=n(63),a=n(56),s=n(49),r=n(204),l=n(540).KEY,c=n(82),d=n(127),h=n(85),p=n(124),u=n(20),m=n(506),f=n(505),v=n(538),g=n(539),_=n(35),C=n(57),x=n(83),y=n(200),b=n(84),T=n(198),w=n(542),E=n(541),D=n(55),P=n(122),S=E.f,k=D.f,I=w.f,$=i.Symbol,A=i.JSON,O=A&&A.stringify,N=u("_hidden"),M=u("toPrimitive"),R={}.propertyIsEnumerable,H=d("symbol-registry"),U=d("symbols"),F=d("op-symbols"),L=Object.prototype,K="function"==typeof $,B=i.QObject,j=!B||!B.prototype||!B.prototype.findChild,W=a&&c(function(){return 7!=T(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=S(L,e);i&&delete L[e],k(t,e,n),i&&t!==L&&k(L,e,i)}:k,q=function(t){var e=U[t]=T($.prototype);return e._k=t,e},z=K&&"symbol"==typeof $.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof $},Y=function(t,e,n){return t===L&&Y(F,e,n),_(t),e=y(e,!0),_(n),o(U,e)?(n.enumerable?(o(t,N)&&t[N][e]&&(t[N][e]=!1),n=T(n,{enumerable:b(0,!1)})):(o(t,N)||k(t,N,b(1,{})),t[N][e]=!0),W(t,e,n)):k(t,e,n)},V=function(t,e){_(t);for(var n,i=v(e=x(e)),o=0,a=i.length;a>o;)Y(t,n=i[o++],e[n]);return t},Q=function(t,e){return void 0===e?T(t):V(T(t),e)},G=function(t){var e=R.call(this,t=y(t,!0));return!(this===L&&o(U,t)&&!o(F,t))&&(!(e||!o(this,t)||!o(U,t)||o(this,N)&&this[N][t])||e)},X=function(t,e){if(t=x(t),e=y(e,!0),t!==L||!o(U,e)||o(F,e)){var n=S(t,e);return!n||!o(U,e)||o(t,N)&&t[N][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=I(x(t)),i=[],a=0;n.length>a;)o(U,e=n[a++])||e==N||e==l||i.push(e);return i},Z=function(t){for(var e,n=t===L,i=I(n?F:x(t)),a=[],s=0;i.length>s;)!o(U,e=i[s++])||n&&!o(L,e)||a.push(U[e]);return a};K||($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===L&&e.call(F,n),o(this,N)&&o(this[N],t)&&(this[N][t]=!1),W(this,t,b(1,n))};return a&&j&&W(L,t,{configurable:!0,set:e}),q(t)},r($.prototype,"toString",function(){return this._k}),E.f=X,D.f=Y,n(510).f=w.f=J,n(197).f=G,n(199).f=Z,a&&!n(123)&&r(L,"propertyIsEnumerable",G,!0),m.f=function(t){return q(u(t))}),s(s.G+s.W+s.F*!K,{Symbol:$});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)u(tt[et++]);for(var nt=P(u.store),it=0;nt.length>it;)f(nt[it++]);s(s.S+s.F*!K,"Symbol",{for:function(t){return o(H,t+="")?H[t]:H[t]=$(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in H)if(H[e]===t)return e},useSetter:function(){j=!0},useSimple:function(){j=!1}}),s(s.S+s.F*!K,"Object",{create:Q,defineProperty:Y,defineProperties:V,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),A&&s(s.S+s.F*(!K||c(function(){var t=$();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(C(e)||void 0!==t)&&!z(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),i[1]=e,O.apply(A,i)}}),$.prototype[M]||n(50)($.prototype,M,$.prototype.valueOf),h($,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},547:function(t,e,n){n(505)("asyncIterator")},548:function(t,e,n){n(505)("observable")},549:function(t,e,n){var i,o,a;!function(s){o=[n(48)],i=s,void 0!==(a="function"==typeof i?i.apply(e,o):i)&&(t.exports=a)}(function(t){/*!
 * jQuery.textcomplete
 *
 * Repository: https://github.com/yuku-t/jquery-textcomplete
 * License:    MIT (https://github.com/yuku-t/jquery-textcomplete/blob/master/LICENSE)
 * Author:     Yuku Takahashi
 */
if(void 0===t)throw new Error("jQuery.textcomplete requires jQuery");return function(t){"use strict";var e=function(t){console.warn&&console.warn(t)},n=1;t.fn.textcomplete=function(i,o){var a=Array.prototype.slice.call(arguments);return this.each(function(){var s=this,r=t(this),l=r.data("textComplete");if(l||(o||(o={}),o._oid=n++,l=new t.fn.textcomplete.Completer(this,o),r.data("textComplete",l)),"string"==typeof i){if(!l)return;a.shift(),l[i].apply(l,a),"destroy"===i&&r.removeData("textComplete")}else t.each(i,function(n){t.each(["header","footer","placement","maxCount"],function(t){n[t]&&(l.option[t]=n[t],e(t+"as a strategy param is deprecated. Use option."),delete n[t])})}),l.register(t.fn.textcomplete.Strategy.parse(i,{el:s,$el:r}))})}}(t),function(t){"use strict";function e(n,a){if(this.$el=t(n),this.id="textcomplete"+i++,this.strategies=[],this.views=[],this.option=t.extend({},e.defaults,a),!(this.$el.is("input[type=text]")||this.$el.is("input[type=search]")||this.$el.is("textarea")||n.isContentEditable||"true"==n.contentEditable))throw new Error("textcomplete must be called on a Textarea or a ContentEditable.");if(n===n.ownerDocument.activeElement)this.initialize();else{var s=this;this.$el.one("focus."+this.id,function(){s.initialize()}),this.option.adapter&&"CKEditor"!=this.option.adapter||"undefined"==typeof CKEDITOR||!this.$el.is("textarea")||CKEDITOR.on("instanceReady",function(e){-1==t.inArray(e.editor.id,o)&&(o.push(e.editor.id),e.editor.on("focus",function(n){s.$el=t(e.editor.editable().$),s.option.adapter||(s.option.adapter=t.fn.textcomplete.CKEditor),s.option.ckeditor_instance=e.editor,s.initialize()}))})}}var n=function(t){return"[object String]"===Object.prototype.toString.call(t)},i=0,o=[];e.defaults={appendTo:"body",className:"",dropdownClassName:"dropdown-menu textcomplete-dropdown",maxCount:10,zIndex:"100",rightEdgeOffset:30},t.extend(e.prototype,{id:null,option:null,strategies:null,adapter:null,dropdown:null,$el:null,$iframe:null,initialize:function(){var e=this.$el.get(0);if(this.$el.prop("ownerDocument")!==document&&window.frames.length)for(var n=0;n<window.frames.length;n++)if(this.$el.prop("ownerDocument")===window.frames[n].document){this.$iframe=t(window.frames[n].frameElement);break}this.dropdown=new t.fn.textcomplete.Dropdown(e,this,this.option);var i,o;this.option.adapter?i=this.option.adapter:(o=this.$el.is("textarea")||this.$el.is("input[type=text]")||this.$el.is("input[type=search]")?"number"==typeof e.selectionEnd?"Textarea":"IETextarea":"ContentEditable",i=t.fn.textcomplete[o]),this.adapter=new i(e,this,this.option)},destroy:function(){this.$el.off("."+this.id),this.adapter&&this.adapter.destroy(),this.dropdown&&this.dropdown.destroy(),this.$el=this.adapter=this.dropdown=null},deactivate:function(){this.dropdown&&this.dropdown.deactivate()},trigger:function(t,e){this.dropdown||this.initialize(),null!=t||(t=this.adapter.getTextFromHeadToCaret());var n=this._extractSearchQuery(t);if(n.length){var i=n[1];if(e&&this._term===i&&""!==i)return;this._term=i,this._search.apply(this,n)}else this._term=null,this.dropdown.deactivate()},fire:function(t){var e=Array.prototype.slice.call(arguments,1);return this.$el.trigger(t,e),this},register:function(t){Array.prototype.push.apply(this.strategies,t)},select:function(t,e,n){this._term=null,this.adapter.select(t,e,n),this.fire("change").fire("textComplete:select",t,e),this.adapter.focus()},_clearAtNext:!0,_term:null,_extractSearchQuery:function(e){for(var i=0;i<this.strategies.length;i++){var o=this.strategies[i],a=o.context(e);if(a||""===a){var s=t.isFunction(o.match)?o.match(e):o.match;n(a)&&(e=a);var r=e.match(s);if(r)return[o,r[o.index],r]}}return[]},_search:function(t){var e,n;return function(){var i=Array.prototype.slice.call(arguments);if(e)return void(n=i);e=!0;var o=this;i.unshift(function i(){if(n){var a=n;n=void 0,a.unshift(i),t.apply(o,a)}else e=!1}),t.apply(this,i)}}(function(t,e,n,i){var o=this;e.search(n,function(i,a){o.dropdown.shown||o.dropdown.activate(),o._clearAtNext&&(o.dropdown.clear(),o._clearAtNext=!1),o.dropdown.setPosition(o.adapter.getCaretPosition()),o.dropdown.render(o._zip(i,e,n)),a||(t(),o._clearAtNext=!0)},i)}),_zip:function(e,n,i){return t.map(e,function(t){return{value:t,strategy:n,term:i}})}}),t.fn.textcomplete.Completer=e}(t),function(t){"use strict";function e(n,i,a){this.$el=e.createElement(a),this.completer=i,this.id=i.id+"dropdown",this._data=[],this.$inputEl=t(n),this.option=a,a.listPosition&&(this.setPosition=a.listPosition),a.height&&this.$el.height(a.height);var s=this;t.each(["maxCount","placement","footer","header","noResultsMessage","className"],function(t,e){null!=a[e]&&(s[e]=a[e])}),this._bindEvents(n),o[this.id]=this}var n=t(window),i=function(t,e){var n,i,o=e.strategy.idProperty;for(n=0;n<t.length;n++)if(i=t[n],i.strategy===e.strategy)if(o){if(i.value[o]===e.value[o])return!0}else if(i.value===e.value)return!0;return!1},o={};t(document).on("click",function(e){var n=e.originalEvent&&e.originalEvent.keepTextCompleteDropdown;t.each(o,function(t,e){t!==n&&e.deactivate()})});var a={SKIP_DEFAULT:0,KEY_UP:1,KEY_DOWN:2,KEY_ENTER:3,KEY_PAGEUP:4,KEY_PAGEDOWN:5,KEY_ESCAPE:6};t.extend(e,{createElement:function(e){var n=e.appendTo;return n instanceof t||(n=t(n)),t("<ul></ul>").addClass(e.dropdownClassName).attr("id","textcomplete-dropdown-"+e._oid).css({display:"none",left:0,position:"absolute",zIndex:e.zIndex}).appendTo(n)}}),t.extend(e.prototype,{$el:null,$inputEl:null,completer:null,footer:null,header:null,id:null,maxCount:null,placement:"",shown:!1,data:[],className:"",destroy:function(){this.deactivate(),this.$el.off("."+this.id),this.$inputEl.off("."+this.id),this.clear(),this.$el.remove(),this.$el=this.$inputEl=this.completer=null,delete o[this.id]},render:function(e){var n=this._buildContents(e),i=t.map(e,function(t){return t.value});if(e.length){var o=e[0].strategy;o.id?this.$el.attr("data-strategy",o.id):this.$el.removeAttr("data-strategy"),this._renderHeader(i),this._renderFooter(i),n&&(this._renderContents(n),this._fitToBottom(),this._fitToRight(),this._activateIndexedItem()),this._setScroll()}else this.noResultsMessage?this._renderNoResultsMessage(i):this.shown&&this.deactivate()},setPosition:function(e){var i="absolute";return this.$inputEl.add(this.$inputEl.parents()).each(function(){return"absolute"!==t(this).css("position")&&("fixed"===t(this).css("position")?(e.top-=n.scrollTop(),e.left-=n.scrollLeft(),i="fixed",!1):void 0)}),this.$el.css(this._applyPlacement(e)),this.$el.css({position:i}),this},clear:function(){this.$el.html(""),this.data=[],this._index=0,this._$header=this._$footer=this._$noResultsMessage=null},activate:function(){return this.shown||(this.clear(),this.$el.show(),this.className&&this.$el.addClass(this.className),this.completer.fire("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.className&&this.$el.removeClass(this.className),this.completer.fire("textComplete:hide"),this.shown=!1),this},isUp:function(t){return 38===t.keyCode||t.ctrlKey&&80===t.keyCode},isDown:function(t){return 40===t.keyCode||t.ctrlKey&&78===t.keyCode},isEnter:function(t){return!(t.ctrlKey||t.altKey||t.metaKey||t.shiftKey)&&(13===t.keyCode||9===t.keyCode||!0===this.option.completeOnSpace&&32===t.keyCode)},isPageup:function(t){return 33===t.keyCode},isPagedown:function(t){return 34===t.keyCode},isEscape:function(t){return 27===t.keyCode},_data:null,_index:null,_$header:null,_$noResultsMessage:null,_$footer:null,_bindEvents:function(){this.$el.on("mousedown."+this.id,".textcomplete-item",t.proxy(this._onClick,this)),this.$el.on("touchstart."+this.id,".textcomplete-item",t.proxy(this._onClick,this)),this.$el.on("mouseover."+this.id,".textcomplete-item",t.proxy(this._onMouseover,this)),this.$inputEl.on("keydown."+this.id,t.proxy(this._onKeydown,this))},_onClick:function(e){var n=t(e.target);e.preventDefault(),e.originalEvent.keepTextCompleteDropdown=this.id,n.hasClass("textcomplete-item")||(n=n.closest(".textcomplete-item"));var i=this.data[parseInt(n.data("index"),10)];this.completer.select(i.value,i.strategy,e);var o=this;setTimeout(function(){o.deactivate(),"touchstart"===e.type&&o.$inputEl.focus()},0)},_onMouseover:function(e){var n=t(e.target);e.preventDefault(),n.hasClass("textcomplete-item")||(n=n.closest(".textcomplete-item")),this._index=parseInt(n.data("index"),10),this._activateIndexedItem()},_onKeydown:function(e){if(this.shown){var n;switch(t.isFunction(this.option.onKeydown)&&(n=this.option.onKeydown(e,a)),null==n&&(n=this._defaultKeydown(e)),n){case a.KEY_UP:e.preventDefault(),this._up();break;case a.KEY_DOWN:e.preventDefault(),this._down();break;case a.KEY_ENTER:e.preventDefault(),this._enter(e);break;case a.KEY_PAGEUP:e.preventDefault(),this._pageup();break;case a.KEY_PAGEDOWN:e.preventDefault(),this._pagedown();break;case a.KEY_ESCAPE:e.preventDefault(),this.deactivate()}}},_defaultKeydown:function(t){return this.isUp(t)?a.KEY_UP:this.isDown(t)?a.KEY_DOWN:this.isEnter(t)?a.KEY_ENTER:this.isPageup(t)?a.KEY_PAGEUP:this.isPagedown(t)?a.KEY_PAGEDOWN:this.isEscape(t)?a.KEY_ESCAPE:void 0},_up:function(){0===this._index?this._index=this.data.length-1:this._index-=1,this._activateIndexedItem(),this._setScroll()},_down:function(){this._index===this.data.length-1?this._index=0:this._index+=1,this._activateIndexedItem(),this._setScroll()},_enter:function(t){var e=this.data[parseInt(this._getActiveElement().data("index"),10)];this.completer.select(e.value,e.strategy,t),this.deactivate()},_pageup:function(){var e=0,n=this._getActiveElement().position().top-this.$el.innerHeight();this.$el.children().each(function(i){if(t(this).position().top+t(this).outerHeight()>n)return e=i,!1}),this._index=e,this._activateIndexedItem(),this._setScroll()},_pagedown:function(){var e=this.data.length-1,n=this._getActiveElement().position().top+this.$el.innerHeight();this.$el.children().each(function(i){if(t(this).position().top>n)return e=i,!1}),this._index=e,this._activateIndexedItem(),this._setScroll()},_activateIndexedItem:function(){this.$el.find(".textcomplete-item.active").removeClass("active"),this._getActiveElement().addClass("active")},_getActiveElement:function(){return this.$el.children(".textcomplete-item:nth("+this._index+")")},_setScroll:function(){var t=this._getActiveElement(),e=t.position().top,n=t.outerHeight(),i=this.$el.innerHeight(),o=this.$el.scrollTop();0===this._index||this._index==this.data.length-1||e<0?this.$el.scrollTop(e+o):e+n>i&&this.$el.scrollTop(e+n+o-i)},_buildContents:function(t){var e,n,o,a="";for(n=0;n<t.length&&this.data.length!==this.maxCount;n++)e=t[n],i(this.data,e)||(o=this.data.length,this.data.push(e),a+='<li class="textcomplete-item" data-index="'+o+'"><a>',a+=e.strategy.template(e.value,e.term),a+="</a></li>");return a},_renderHeader:function(e){if(this.header){this._$header||(this._$header=t('<li class="textcomplete-header"></li>').prependTo(this.$el));var n=t.isFunction(this.header)?this.header(e):this.header;this._$header.html(n)}},_renderFooter:function(e){if(this.footer){this._$footer||(this._$footer=t('<li class="textcomplete-footer"></li>').appendTo(this.$el));var n=t.isFunction(this.footer)?this.footer(e):this.footer;this._$footer.html(n)}},_renderNoResultsMessage:function(e){if(this.noResultsMessage){this._$noResultsMessage||(this._$noResultsMessage=t('<li class="textcomplete-no-results-message"></li>').appendTo(this.$el));var n=t.isFunction(this.noResultsMessage)?this.noResultsMessage(e):this.noResultsMessage;this._$noResultsMessage.html(n)}},_renderContents:function(t){this._$footer?this._$footer.before(t):this.$el.append(t)},_fitToBottom:function(){var t=n.scrollTop()+n.height(),e=this.$el.height();this.$el.position().top+e>t&&(this.completer.$iframe||this.$el.offset({top:t-e}))},_fitToRight:function(){for(var t,e=this.option.rightEdgeOffset,i=this.$el.offset().left,o=this.$el.width(),a=n.width()-e;i+o>a&&(this.$el.offset({left:i-e}),!((t=this.$el.offset().left)>=i));)i=t},_applyPlacement:function(t){return-1!==this.placement.indexOf("top")?t={top:"auto",bottom:this.$el.parent().height()-t.top+t.lineHeight,left:t.left}:(t.bottom="auto",delete t.lineHeight),-1!==this.placement.indexOf("absleft")?t.left=0:-1!==this.placement.indexOf("absright")&&(t.right=0,t.left="auto"),t}}),t.fn.textcomplete.Dropdown=e,t.extend(t.fn.textcomplete,a)}(t),function(t){"use strict";function e(e){t.extend(this,e),this.cache&&(this.search=n(this.search))}var n=function(t){var e={};return function(n,i){e[n]?i(e[n]):t.call(this,n,function(t){e[n]=(e[n]||[]).concat(t),i.apply(null,arguments)})}};e.parse=function(n,i){return t.map(n,function(t){var n=new e(t);return n.el=i.el,n.$el=i.$el,n})},t.extend(e.prototype,{match:null,replace:null,search:null,id:null,cache:!1,context:function(){return!0},index:2,template:function(t){return t},idProperty:null}),t.fn.textcomplete.Strategy=e}(t),function(t){"use strict";function e(){}var n=Date.now||function(){return(new Date).getTime()},i=function(t,e){var i,o,a,s,r,l=function(){var c=n()-s;c<e?i=setTimeout(l,e-c):(i=null,r=t.apply(a,o),a=o=null)};return function(){return a=this,o=arguments,s=n(),i||(i=setTimeout(l,e)),r}};t.extend(e.prototype,{id:null,completer:null,el:null,$el:null,option:null,initialize:function(e,n,o){this.el=e,this.$el=t(e),this.id=n.id+this.constructor.name,this.completer=n,this.option=o,this.option.debounce&&(this._onKeyup=i(this._onKeyup,this.option.debounce)),this._bindEvents()},destroy:function(){this.$el.off("."+this.id),this.$el=this.el=this.completer=null},select:function(){throw new Error("Not implemented")},getCaretPosition:function(){var e=this._getCaretRelativePosition(),n=this.$el.offset(),i=this.option.appendTo;if(i){i instanceof t||(i=t(i));var o=i.offsetParent().offset();n.top-=o.top,n.left-=o.left}return e.top+=n.top,e.left+=n.left,e},focus:function(){this.$el.focus()},_bindEvents:function(){this.$el.on("keyup."+this.id,t.proxy(this._onKeyup,this))},_onKeyup:function(t){this._skipSearch(t)||this.completer.trigger(this.getTextFromHeadToCaret(),!0)},_skipSearch:function(t){switch(t.keyCode){case 9:case 13:case 16:case 17:case 18:case 33:case 34:case 40:case 38:case 27:return!0}if(t.ctrlKey)switch(t.keyCode){case 78:case 80:return!0}}}),t.fn.textcomplete.Adapter=e}(t),function(t){"use strict";function e(t,e,n){this.initialize(t,e,n)}t.extend(e.prototype,t.fn.textcomplete.Adapter.prototype,{select:function(e,n,i){var o,a=this.getTextFromHeadToCaret(),s=this.el.value.substring(this.el.selectionEnd),r=n.replace(e,i);void 0!==r&&(t.isArray(r)&&(s=r[1]+s,r=r[0]),o=t.isFunction(n.match)?n.match(a):n.match,a=a.replace(o,r),this.$el.val(a+s),this.el.selectionStart=this.el.selectionEnd=a.length)},getTextFromHeadToCaret:function(){return this.el.value.substring(0,this.el.selectionEnd)},_getCaretRelativePosition:function(){var e=t.fn.textcomplete.getCaretCoordinates(this.el,this.el.selectionStart);return{top:e.top+this._calculateLineHeight()-this.$el.scrollTop(),left:e.left-this.$el.scrollLeft(),lineHeight:this._calculateLineHeight()}},_calculateLineHeight:function(){var t=parseInt(this.$el.css("line-height"),10);if(isNaN(t)){var e=this.el.parentNode,n=document.createElement(this.el.nodeName),i=this.el.style;n.setAttribute("style","margin:0px;padding:0px;font-family:"+i.fontFamily+";font-size:"+i.fontSize),n.innerHTML="test",e.appendChild(n),t=n.clientHeight,e.removeChild(n)}return t}}),t.fn.textcomplete.Textarea=e}(t),function(t){"use strict";function e(e,i,o){this.initialize(e,i,o),t("<span>"+n+"</span>").css({position:"absolute",top:-9999,left:-9999}).insertBefore(e)}var n="吶";t.extend(e.prototype,t.fn.textcomplete.Textarea.prototype,{select:function(e,n,i){var o,a=this.getTextFromHeadToCaret(),s=this.el.value.substring(a.length),r=n.replace(e,i);if(void 0!==r){t.isArray(r)&&(s=r[1]+s,r=r[0]),o=t.isFunction(n.match)?n.match(a):n.match,a=a.replace(o,r),this.$el.val(a+s),this.el.focus();var l=this.el.createTextRange();l.collapse(!0),l.moveEnd("character",a.length),l.moveStart("character",a.length),l.select()}},getTextFromHeadToCaret:function(){this.el.focus();var t=document.selection.createRange();t.moveStart("character",-this.el.value.length);var e=t.text.split(n);return 1===e.length?e[0]:e[1]}}),t.fn.textcomplete.IETextarea=e}(t),function(t){"use strict";function e(t,e,n){this.initialize(t,e,n)}t.extend(e.prototype,t.fn.textcomplete.Adapter.prototype,{select:function(e,n,i){var o=this.getTextFromHeadToCaret(),a=this.el.ownerDocument.getSelection(),s=a.getRangeAt(0),r=s.cloneRange();r.selectNodeContents(s.startContainer);var l,c=r.toString(),d=c.substring(s.startOffset),h=n.replace(e,i);if(void 0!==h){t.isArray(h)&&(d=h[1]+d,h=h[0]),l=t.isFunction(n.match)?n.match(o):n.match,o=o.replace(l,h).replace(/ $/,"&nbsp"),s.selectNodeContents(s.startContainer),s.deleteContents();var p=this.el.ownerDocument.createElement("div");p.innerHTML=o;var u=this.el.ownerDocument.createElement("div");u.innerHTML=d;for(var m,f,v=this.el.ownerDocument.createDocumentFragment();m=p.firstChild;)f=v.appendChild(m);for(;m=u.firstChild;)v.appendChild(m);s.insertNode(v),s.setStartAfter(f),s.collapse(!0),a.removeAllRanges(),a.addRange(s)}},_getCaretRelativePosition:function(){var e=this.el.ownerDocument.getSelection().getRangeAt(0).cloneRange(),n=e.endContainer.parentNode,i=this.el.ownerDocument.createElement("span");e.insertNode(i),e.selectNodeContents(i),e.deleteContents(),setTimeout(function(){n.normalize()},0);var o=t(i),a=o.offset();if(a.left-=this.$el.offset().left,a.top+=o.height()-this.$el.offset().top,a.lineHeight=o.height(),this.completer.$iframe){var s=this.completer.$iframe.offset();a.top+=s.top,a.left+=s.left,a.top-=t(this.completer.$iframe[0].contentWindow.document).scrollTop()}return o.remove(),a},getTextFromHeadToCaret:function(){var t=this.el.ownerDocument.getSelection().getRangeAt(0),e=t.cloneRange();return e.selectNodeContents(t.startContainer),e.toString().substring(0,t.startOffset)}}),t.fn.textcomplete.ContentEditable=e}(t),function(t){"use strict";function e(t,e,n){this.initialize(t,e,n)}t.extend(e.prototype,t.fn.textcomplete.ContentEditable.prototype,{_bindEvents:function(){var e=this;this.option.ckeditor_instance.on("key",function(t){var n=t.data;if(e._onKeyup(n),e.completer.dropdown.shown&&e._skipSearch(n))return!1},null,null,1),this.$el.on("keyup."+this.id,t.proxy(this._onKeyup,this))}}),t.fn.textcomplete.CKEditor=e}(t),function(t){function e(t,e,a){if(!i)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=a&&a.debug||!1;if(s){var r=document.querySelector("#input-textarea-caret-position-mirror-div");r&&r.parentNode.removeChild(r)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var c=l.style,d=window.getComputedStyle?getComputedStyle(t):t.currentStyle;c.whiteSpace="pre-wrap","INPUT"!==t.nodeName&&(c.wordWrap="break-word"),c.position="absolute",s||(c.visibility="hidden"),n.forEach(function(t){c[t]=d[t]}),o?t.scrollHeight>parseInt(d.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=t.value.substring(0,e),"INPUT"===t.nodeName&&(l.textContent=l.textContent.replace(/\s/g," "));var h=document.createElement("span");h.textContent=t.value.substring(e)||".",l.appendChild(h);var p={top:h.offsetTop+parseInt(d.borderTopWidth),left:h.offsetLeft+parseInt(d.borderLeftWidth)};return s?h.style.backgroundColor="#aaa":document.body.removeChild(l),p}var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],i="undefined"!=typeof window,o=i&&null!=window.mozInnerScreenX;t.fn.textcomplete.getCaretCoordinates=e}(t),t})},555:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-temp"},[n("div",[n("v-expansion-panel",{staticClass:"expansion-pl-transparent"},[n("v-expansion-panel-content",{attrs:{"hide-actions":"",value:!0}},[n("v-card",{staticClass:"comments__container"},[n("v-card-text",[n("div",{attrs:{id:"comments-container-el"}})])],1)],1)],1)],1)])},staticRenderFns:[]}},557:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},567:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(201),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__=__webpack_require__(196),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_2__router__=__webpack_require__(81),__WEBPACK_IMPORTED_MODULE_3_jquery__=__webpack_require__(48),__WEBPACK_IMPORTED_MODULE_3_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jquery__),__WEBPACK_IMPORTED_MODULE_4__store_jquery_comment__=__webpack_require__(511),__WEBPACK_IMPORTED_MODULE_5__Comment_vue__=__webpack_require__(476),__WEBPACK_IMPORTED_MODULE_5__Comment_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__Comment_vue__),__WEBPACK_IMPORTED_MODULE_6__form_xu_ly_ThongTinCoBanHoSo_vue__=__webpack_require__(472),__WEBPACK_IMPORTED_MODULE_6__form_xu_ly_ThongTinCoBanHoSo_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__form_xu_ly_ThongTinCoBanHoSo_vue__),__WEBPACK_IMPORTED_MODULE_7__form_xu_ly_PhanCongNguoiThucHien_vue__=__webpack_require__(471),__WEBPACK_IMPORTED_MODULE_7__form_xu_ly_PhanCongNguoiThucHien_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__form_xu_ly_PhanCongNguoiThucHien_vue__),__WEBPACK_IMPORTED_MODULE_8__form_xu_ly_TraKetQua_vue__=__webpack_require__(473),__WEBPACK_IMPORTED_MODULE_8__form_xu_ly_TraKetQua_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__form_xu_ly_TraKetQua_vue__),__WEBPACK_IMPORTED_MODULE_9__form_xu_ly_XacNhanThuPhi_vue__=__webpack_require__(474),__WEBPACK_IMPORTED_MODULE_9__form_xu_ly_XacNhanThuPhi_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__form_xu_ly_XacNhanThuPhi_vue__),__WEBPACK_IMPORTED_MODULE_10__form_xu_ly_YkienCanBoThucHien_vue__=__webpack_require__(475),__WEBPACK_IMPORTED_MODULE_10__form_xu_ly_YkienCanBoThucHien_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__form_xu_ly_YkienCanBoThucHien_vue__);__webpack_exports__.default={props:["index","id"],components:{comment:__WEBPACK_IMPORTED_MODULE_5__Comment_vue___default.a,"thong-tin-co-ban-ho-so":__WEBPACK_IMPORTED_MODULE_6__form_xu_ly_ThongTinCoBanHoSo_vue___default.a,"phan-cong":__WEBPACK_IMPORTED_MODULE_7__form_xu_ly_PhanCongNguoiThucHien_vue___default.a,"tra-ket-qua":__WEBPACK_IMPORTED_MODULE_8__form_xu_ly_TraKetQua_vue___default.a,"xac-nhan-thu-phi":__WEBPACK_IMPORTED_MODULE_9__form_xu_ly_XacNhanThuPhi_vue___default.a,"y-kien-can-bo":__WEBPACK_IMPORTED_MODULE_10__form_xu_ly_YkienCanBoThucHien_vue___default.a},data:function(){return{btnDossierDynamics:[],btnStepsDynamics:[],loadingAction:!1,indexAction:-1,indexActionStep:-1,dossierId:"",className:"org.opencps.dossiermgt.model.Dossier",dossierFilesItems:[],dossierTemplatesItems:[],showContactDetail:!1,listHistoryProcessing:[],dossierTemplatesTN:[],dossierTemplatesKQ:[],thongTinChiTietHoSo:{},loadingAlpacajsForm:!1,nextActions:[],processSteps:[],documents:[],payments:[],dossierActions:[],itemselect:"",dossierSyncs:[],stepModel:null,actionNote:"",actionsSubmitLoading:!1,showThongTinCoBanHoSo:!1,showYkienCanBoThucHien:!1,showFormBoSungThongTinNgan:!1,showPhanCongNguoiThucHien:!1,showTaoTaiLieuKetQua:!1,showKyPheDuyetTaiLieu:!1,showTraKetQua:!1,showXacNhanThuPhi:!1,showThucHienThanhToanDienTu:!1,dossierItemDialogPick:"",itemDialogPick:"",resultDialogPick:"",indexDialogPick:"",userNote:0,payment_type:0,type_assign:0,returnFiles:[],assign_items:[],btnStateVisible:!0,dialogActionProcess:!1,headers:[{text:"Vai trò",align:"center",sortable:!1,class:"vaitro_column"},{text:"Công việc",align:"center",sortable:!1,class:"congviec_column"},{text:"Thời hạn quy định",align:"center",sortable:!1,class:"thoihanquydinh_column"},{text:"Ngày bắt đầu",align:"center",sortable:!1,class:"ngaybatdau_column"},{text:"Người thực hiện",align:"center",sortable:!1,class:"nguoithuchien_column"},{text:"Kết quả",align:"center",sortable:!1,class:"ketqua_column"}],headerSyncs:[{text:"Nhật kí hồ sơ",align:"center",sortable:!1,class:"nhatki_column"},{text:"Trao đổi trực tuyến",align:"center",sortable:!1,class:"traodoitructuyen_column"}],filterDossierActionItems:[{text:"Tất cả",value:""},{text:"Có thao tác thực hiện",value:"1"},{text:"Không thao tác thực hiện",value:"2"}],filterDossierAction:null,filterDossierSyncItems:[{text:"Tất cả",value:"1,2"},{text:"Thông tin trao đổi",value:"2"}],filterDossierSync:null,messageChat:""}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var t=this;t.$nextTick(function(){t.initData(t.id)})},updated:function(){var t=this;t.$nextTick(function(){var e=t.$router.history.current.params;t.$router.history.current.query;e.hasOwnProperty("step")&&t.isCallBack&&(t.isCallBack=!1,t.btnDossierDynamics=[],t.btnStepsDynamics=[])})},watch:{$route:function(t,e){var n=this;t.query.hasOwnProperty("step")&&(n.btnDossierDynamics=[],n.btnStepsDynamics=[])}},methods:{initData:function(t){var e=this;e.dossierId=t,console.log(t),e.$store.dispatch("getDetailDossier",t).then(function(t){e.thongTinChiTietHoSo=t;var n=[];console.log(t.dossierId),n.push(e.$store.dispatch("loadDossierTemplates",t)),n.push(e.$store.dispatch("loadDossierFiles",t.dossierId)),e.thongTinHoSo=t,__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.all(n).then(function(t){console.log(t);var n=t[0],i=t[1];n.forEach(function(t){1===t.partType?e.dossierTemplatesTN.push(t):e.dossierTemplatesKQ.push(t)}),e.dossierFilesItems=i,e.dossierTemplatesItems=n,e.recountFileTemplates()}).catch(function(t){}),e.$store.dispatch("loadDossierDocuments",t).then(function(t){e.documents=t}),e.$store.dispatch("loadDossierPayments",t).then(function(t){e.payments=t})})},recountFileTemplates:function(){var t=this;t.dossierTemplatesItems.forEach(function(e){e.count=0,t.dossierFilesItems.forEach(function(t){e.partNo===t.dossierPartNo&&e.count++})})},goBack:function(){window.history.back()},viewFile:function(t){var e=this,n=this;n.dossierFilesItems.forEach(function(i){i.dossierId=n.thongTinChiTietHoSo.dossierId,i.dossierPartNo===t.partNo&&e.$store.dispatch("viewFile",i)})},downloadFileLogs:function(t){var e=this,n={fileAttachId:t,dossierId:e.id};this.$store.dispatch("downloadFile",n)},loadDossierActions:function(t){var e=this;if(e.thongTinChiTietHoSo.dossierId){var n={dossierId:e.thongTinChiTietHoSo.dossierId,stepType:t};e.$store.dispatch("loadDossierActions",n).then(function(t){e.dossierActions=t.data})}},loadDossierSyncs:function(t){var e=this;if(e.thongTinChiTietHoSo.dossierId){var n={dossierId:e.thongTinChiTietHoSo.dossierId,info:"1,2"};e.$store.dispatch("loadDossierSyncs",n).then(function(t){console.log("resultSyncs++++++++++++++++",t),e.dossierSyncs=t})}},loadDossierLogs:function(t){var e=this,n={dossierId:e.thongTinChiTietHoSo.dossierId};e.$store.dispatch("getListHistoryProcessingItems",n).then(function(t){e.listHistoryProcessing=[],e.listHistoryProcessing=t})},deleteDossierFileVersion:function(t){var e=this;t.dossierId=e.thongTinChiTietHoSo.dossierId,e.$store.dispatch("deleteAttackFiles",t).then(function(t){})},pickFile:function(t){document.getElementById("file"+t.partNo).click()},postChat:function(){var t=this,e={dossierId:t.thongTinChiTietHoSo.dossierId,actionCode:8200,actionNote:t.messageChat,actionUser:""};t.$store.dispatch("postAction",e).then(function(e){t.loadDossierSyncs()}),t.messageChat=""},getNextAction:function(t){var e=this;if(1===t.type){var n={dossierId:e.thongTinChiTietHoSo.dossierId,actionId:t.processActionId};e.$store.dispatch("getNextAction",n).then(function(t){e.stepModel=t}).catch(function(t){e.stepModel=null})}else{var i={dossierId:e.thongTinChiTietHoSo.dossierId,actionId:t.processActionId};e.$store.dispatch("loadPlugin",i).then(function(t){console.log("resultPlugin+++++++++",t),e.stepModel=t}).catch(function(t){e.stepModel=null})}},processPullBtnDetailRouter:function(t,e,n,i){console.log("result Nextaction",n);var o=this,a=!1;o.dossierId=t.dossierId,o.showYkienCanBoThucHien=!1,o.showFormBoSungThongTinNgan=!1,o.showPhanCongNguoiThucHien=!1,o.showTaoTaiLieuKetQua=!1,o.showKyPheDuyetTaiLieu=!1,o.showTraKetQua=!1,o.showXacNhanThuPhi=!1,o.showThucHienThanhToanDienTu=!1,o.dossierItemDialogPick=t,o.itemDialogPick=e,o.resultDialogPick=n,o.indexDialogPick=i,o.userNote=0,null!==n&&void 0!==n&&"undefined"!==n&&(n.hasOwnProperty("userNote")||n.hasOwnProperty("extraForm")||n.hasOwnProperty("allowAssignUser")||n.hasOwnProperty("createFiles")||n.hasOwnProperty("eSignature")||n.hasOwnProperty("returnFiles")||n.hasOwnProperty("payment"))&&(!n.hasOwnProperty("userNote")||1!==n.userNote&&"1"!==n.userNote&&2!==n.userNote&&"2"!==n.userNote||(a=!0,o.showYkienCanBoThucHien=!0,o.userNote=n.userNote),n.hasOwnProperty("extraForm")&&n.extraForm&&(a=!0,o.showFormBoSungThongTinNgan=!0),n.hasOwnProperty("allowAssignUser")&&0!==n.allowAssignUser&&(o.assign_items=n.toUsers,o.type_assign=n.allowAssignUser,a=!0,o.showPhanCongNguoiThucHien=!0),n.hasOwnProperty("returnFiles")&&null!==n.createFiles&&void 0!==n.createFiles&&"undefined"!==n.createFiles&&n.createFiles.length>0&&(a=!0,o.showTaoTaiLieuKetQua=!0),n.hasOwnProperty("eSignature")&&n.eSignature&&(a=!0,o.showKyPheDuyetTaiLieu=!0),n.hasOwnProperty("returnFiles")&&null!==n.returnFiles&&void 0!==n.returnFiles&&"undefined"!==n.returnFiles&&n.returnFiles.length>0&&(a=!0,o.showTraKetQua=!0,o.returnFiles=n.returnFiles),n.hasOwnProperty("payment")&&null!==n.payment&&void 0!==n.payment&&"undefined"!==n.payment&&5===n.payment.requestPayment&&(a=!0,o.showXacNhanThuPhi=!0,o.payments=n.payment,o.payment_type=n.payment.requestPayment)),a?(o.dialogActionProcess=!0,o.loadingActionProcess=!1):o.processAction(o.thongTinChiTietHoSo,e,n,i,!0)},processPullBtnDetail:function(t,e){var n=this;n.itemAction=t;var i={dossierId:n.thongTinChiTietHoSo.dossierId,actionId:t.processActionId};n.dossierId=n.thongTinChiTietHoSo.dossierId,n.loadingActionProcess=!0,n.$store.dispatch("processPullBtnDetail",i).then(function(i){n.processPullBtnDetailRouter(n.thongTinChiTietHoSo,t,i,e)})},btnActionEvent:function(t,e,n){var i=this;if(i.itemAction=t,i.indexAction=e,"NEW"===String(t.form)){var o=!0;null!==i.dichVuSelected&&void 0!==i.dichVuSelected&&"undefined"!==i.dichVuSelected&&null!==i.listDichVu&&void 0!==i.listDichVu&&1===i.listDichVu.length&&(o=!1),o?i.dialogAction=!0:i.doCreateDossier()}else if("UPDATE"===String(t.form))__WEBPACK_IMPORTED_MODULE_2__router__.a.push({path:"/danh-sach-ho-so/"+i.index+"/ho-so/"+i.thongTinChiTietHoSo.dossierId+"/"+i.itemAction.form,query:i.$router.history.current.query});else if("ADD"===String(t.form))__WEBPACK_IMPORTED_MODULE_2__router__.a.push({path:"/danh-sach-ho-so/"+i.index+"/bo-sung-ho-so/"+i.thongTinChiTietHoSo.dossierId,query:i.$router.history.current.query});else if("COPY"===String(t.form))i.doCopy(i.thongTinChiTietHoSo,t,e,n);else if("CANCEL"===String(t.form))i.doCancel(i.thongTinChiTietHoSo,t,e,n);else if("PRINT_01"===String(t.form))i.doPrint01(i.thongTinChiTietHoSo,t,e,n);else if("PRINT_02"===String(t.form))i.doPrint02(i.thongTinChiTietHoSo,t,e,n);else if("PRINT_03"===String(t.form))i.doPrint03(i.thongTinChiTietHoSo,t,e,n);else if("GUIDE"===String(t.form))i.doGuiding(i.thongTinChiTietHoSo,t,e,n);else if("PREVIEW"===String(t.form))i.doPreview(i.thongTinChiTietHoSo,t,e,n);else if("ACTIONS"===String(t.form))i.doActions(i.thongTinChiTietHoSo,t,e,n);else if("DELETE"===String(t.form))i.doDeleteDossier(i.thongTinChiTietHoSo,t,e,n);else if("ROLLBACK_01"===String(t.form)){var a={actionCode:9e3};i.processAction(i.thongTinChiTietHoSo,t,a,e,!0)}else if("ROLLBACK_02"===String(t.form)){var s={actionCode:9e3};i.processAction(i.thongTinChiTietHoSo,t,s,e,!0)}else if("OVERDUE"===String(t.form)){var r={actionCode:8500};i.processAction(i.thongTinChiTietHoSo,t,r,e,!0)}else if("BETIMES"===String(t.form)){var l={actionCode:8400};i.processAction(i.thongTinChiTietHoSo,t,l,e,!0)}},doCopy:function(t,e,n,i){var o=this,a={dossierId:t.dossierId};o.loadingAction=!0,o.$store.dispatch("doCopy",a).then(function(t){o.loadingAction=!1,o.indexAction=-1,__WEBPACK_IMPORTED_MODULE_2__router__.a.push({path:"/danh-sach-ho-so/"+o.index+"/ho-so/"+t.dossierId+"/"+o.itemAction.form,query:o.$router.history.current.query})})},doCancel:function(t,e,n,i){var o=this;if(o.loadingAction=!0,i)console.log(o.selected);else{var a={dossierId:t.dossierId};o.$store.dispatch("doCancel",a).then(function(t){o.loadingAction=!1,o.indexAction=-1,__WEBPACK_IMPORTED_MODULE_2__router__.a.push({path:"/danh-sach-ho-so/"+o.index+"/ho-so/"+t.dossierId+"/"+o.itemAction.form,query:o.$router.history.current.query})})}},rollBack:function(){var t=this,e={dossierId:t.thongTinChiTietHoSo.dossierId};t.$store.dispatch("rollBack",e).then(function(e){t.getNextActions(),t.btnStateVisible=!0})},processAction:function(t,e,n,i,o){var a=this,s={dossierId:t.dossierId,actionCode:n.actionCode};a.dossierId=t.dossierId;var r=a.$router.history.current.query;if(a.loadingActionProcess=!0,o){if(!confirm("Bạn có muốn thực hiện hành động này?"))return!1;a.$store.dispatch("processDossierRouter",s).then(function(t){a.dialogActionProcess=!1,a.loadingActionProcess=!1,a.btnStateVisible=!1,t.rollbackable&&(a.rollbackable=!0),__WEBPACK_IMPORTED_MODULE_2__router__.a.push({path:a.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:r.q}})})}else if(a.showPhanCongNguoiThucHien){var l={dossierId:a.thongTinChiTietHoSo.dossierId,toUsers:a.assign_items};a.$store.dispatch("reassignDossier",l).then(function(t){a.$store.dispatch("processDossierRouter",s).then(function(t){a.dialogActionProcess=!1,a.loadingActionProcess=!1,a.btnStateVisible=!1,t.rollbackable&&(a.rollbackable=!0),"ACTIONS"===String(e.form)||__WEBPACK_IMPORTED_MODULE_2__router__.a.push({path:a.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:r.q}})})})}else a.$store.dispatch("processDossierRouter",s).then(function(t){a.dialogActionProcess=!1,a.loadingActionProcess=!1,a.btnStateVisible=!1,t.rollbackable&&(a.rollbackable=!0),"ACTIONS"===String(e.form)||__WEBPACK_IMPORTED_MODULE_2__router__.a.push({path:a.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:r.q}})})},doPrint02:function(t,e,n,i){var o=this;if(null===o.thuTucHanhChinhSelected||void 0===o.thuTucHanhChinhSelected||"undefined"===o.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var a={document:e.document,serviceCode:o.thuTucHanhChinhSelected.serviceCode,govAgencyCode:o.thuTucHanhChinhSelected.govAgencyCode,dossiers:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(o.selected)};o.dialogPDFLoading=!0,o.dialogPDF=!0,o.$store.dispatch("doPrint02",a).then(function(t){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t})}},doPrint03:function(t,e,n,i){var o=this;o.dialogPDFLoading=!0,o.dialogPDF=!0;var a={dossierId:t.dossierId,document:e.document};o.$store.dispatch("doPrint03",a).then(function(t){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t})},doGuiding:function(t,e,n,i){var o=this;if(null===o.thuTucHanhChinhSelected||void 0===o.thuTucHanhChinhSelected||"undefined"===o.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var a={serviceConfigId:o.thuTucHanhChinhSelected.serviceConfigId};o.dialogPDFLoading=!0,o.dialogPDF=!0,o.$store.dispatch("doGuiding",a).then(function(t){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t})}},getNextActions:function(){var t=this,e={dossierId:t.thongTinChiTietHoSo.dossierId};t.dossierId=t.thongTinChiTietHoSo.dossierId,t.$store.dispatch("pullNextactions",e).then(function(e){t.btnDossierDynamics=e})},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item.eform&&vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formAlpaca"+item.partNo).alpaca(formScript)})})},onUploadSingleFile:function(t,e,n){var i=this;t.dataItem=e,t.dossierId=i.thongTinChiTietHoSo.dossierId,t.dossierTemplateNo=i.thongTinChiTietHoSo.dossierTemplateNo,i.$store.dispatch("uploadSingleFile",t).then(function(t){}).catch(function(t){})},submitAlpacajsForm:function(t){var e=this,n={dossierId:e.thongTinChiTietHoSo.dossierId,dossierPartNo:t.partNo};e.$store.dispatch("putAlpacaForm",n)},getColorChat:function(t){return 1===t?"pink":"cyan lighten-1"},postNextActions:function(t){var e=this;if(t.dossierId=e.thongTinChiTietHoSo.dossierId,t.allowAssignUser>0)e.$store.dispatch("reassignDossier",t).then(function(n){console.log(n);var i={dossierId:e.dossierId,actionCode:t.actionCode,actionNote:e.actionNote,actionUser:"",payload:"",security:"",assignUsers:"",payment:"",createDossiers:""};e.$store.dispatch("postAction",i).then(function(t){console.log(t)})});else{var n={dossierId:e.dossierId,actionCode:t.actionCode,actionNote:e.actionNote,actionUser:"",payload:"",security:"",assignUsers:"",payment:"",createDossiers:""};e.$store.dispatch("postAction",n).then(function(t){console.log(t)})}}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()+" | "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}return""},getMaxDueDate:function(t){return Math.max.apply(Math,t.map(function(t){return t.actionOverdue}))}}}},571:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-chitiet"},[t.loading?n("content-placeholders",{staticClass:"mt-3"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",{staticClass:"row-header"},[n("div",{staticClass:"background-triangle-big"},[n("span",[t._v("CHI TIẾT HỒ SƠ")])]),t._v(" "),n("div",{staticClass:"layout row wrap header_tools row-blue"},[n("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:t.thongTinChiTietHoSo.serviceName}},[t._v("\n        "+t._s(t.thongTinChiTietHoSo.serviceName)+"\n      ")]),t._v(" "),n("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[n("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:t.goBack}},[t._v("\n          Quay lại  \n          "),n("v-icon",{attrs:{size:"16"}},[t._v("undo")])],1)],1)])]),t._v(" "),n("thong-tin-co-ban-ho-so",{ref:"thong-tin-co-ban-ho-so",attrs:{detailDossier:t.thongTinChiTietHoSo}}),t._v(" "),n("div",[n("v-tabs",{staticClass:"mb-4",attrs:{"icons-and-text":"",centered:""}},[n("v-tabs-slider",{attrs:{color:"primary"}}),t._v(" "),n("v-tab",{key:1,attrs:{href:"#1"}},[n("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[t._v("\n          THÀNH PHẦN HỒ SƠ\n        ")])],1),t._v(" "),n("v-tab",{key:2,attrs:{href:"#2"},on:{click:function(e){t.getNextActions()}}},[n("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[t._v("\n          THỤ LÝ HỒ SƠ\n        ")])],1),t._v(" "),n("v-tab",{key:3,attrs:{href:"#3"},on:{click:function(e){t.loadDossierActions()}}},[n("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[t._v("\n          TIẾN TRÌNH THỤ LÝ\n        ")])],1),t._v(" "),n("v-tab",{key:4,attrs:{href:"#4"},on:{click:function(e){t.loadDossierLogs()}}},[n("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[t._v("\n          NHẬT KÝ HỒ SƠ\n        ")])],1),t._v(" "),n("v-tab",{key:5,attrs:{href:"#5"}},[n("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[t._v("\n          TRAO ĐỔI THẢO LUẬN\n        ")])],1),t._v(" "),n("v-tab",{key:6,attrs:{href:"#6"},on:{click:function(e){t.loadDossierSyncs()}}},[n("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[t._v("\n          TRAO ĐỔI NỘI BỘ\n        ")])],1),t._v(" "),n("v-tabs-items",[n("v-tab-item",{attrs:{id:"1","reverse-transition":"fade-transition",transition:"fade-transition"}},[n("v-expansion-panel",{staticClass:"my-0 expansion-pl-transparent",staticStyle:{border:"none"},attrs:{expand:""}},[n("v-expansion-panel-content",{attrs:{value:!0}},[n("div",{staticClass:"text-bold",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"background-triangle-small"},[t._v(" I.")]),t._v("\n                Tài liệu nộp\n              ")]),t._v(" "),t._l(t.dossierTemplatesTN,function(e,i){return n("div",{key:e.partNo},[n("v-card",[n("v-layout",{staticClass:"px-3 py-1 align-center row-list-style",staticStyle:{"border-bottom":"1px solid #ddd"},attrs:{wrap:""}},[n("v-flex",{attrs:{xs11:""}},[n("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[t._v(t._s(i+1)+".")]),t._v(" "),n("div",{staticStyle:{"margin-left":"30px"}},[t._v(t._s(e.partName))])]),t._v(" "),n("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 my-0",staticStyle:{height:"25px",width:"25px"},attrs:{slot:"activator",fab:"",dark:"",small:"",color:"primary"},on:{click:function(n){t.viewFile(e)}},slot:"activator"},[t._v("\n                          "+t._s(e.count)+"\n                        ")]),t._v(" "),n("span",[t._v("Xem")])],1)],1)],1)],1)],1)})],2)],1),t._v(" "),n("v-expansion-panel",{staticClass:"my-0 expansion-pl-transparent",staticStyle:{border:"none"},attrs:{expand:""}},[n("v-expansion-panel-content",{attrs:{value:!0}},[n("div",{staticClass:"text-bold",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"background-triangle-small"},[t._v(" II.")]),t._v("\n                Kết quả\n              ")]),t._v(" "),t._l(t.dossierTemplatesKQ,function(e,i){return n("div",{key:e.partNo},[n("v-card",[n("v-layout",{staticClass:"px-3 py-1 align-center row-list-style",staticStyle:{"border-bottom":"1px solid #ddd"},attrs:{wrap:""}},[n("v-flex",{attrs:{xs11:""}},[n("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[t._v(t._s(i+1)+".")]),t._v(" "),n("div",{staticStyle:{"margin-left":"30px"}},[t._v(t._s(e.partName))])]),t._v(" "),n("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 my-0",staticStyle:{height:"25px",width:"25px"},attrs:{slot:"activator",fab:"",dark:"",small:"",color:"primary"},on:{click:function(n){t.viewFile(e)}},slot:"activator"},[t._v("\n                          "+t._s(e.count)+"\n                        ")]),t._v(" "),n("span",[t._v("Xem")])],1)],1)],1)],1)],1)})],2)],1),t._v(" "),n("v-expansion-panel",{staticClass:"my-0 expansion-pl-transparent",staticStyle:{border:"none"},attrs:{expand:""}},[n("v-expansion-panel-content",{attrs:{value:!0}},[n("div",{staticClass:"text-bold",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"background-triangle-small"},[t._v(" III.")]),t._v("\n                Văn bản hành chính\n              ")]),t._v(" "),t._l(t.documents,function(e,i){return n("div",{key:e.documentCode},[n("v-card",[n("v-layout",{staticClass:"px-3 py-1 align-center row-list-style",staticStyle:{"border-bottom":"1px solid #ddd"},attrs:{wrap:""}},[n("v-flex",{attrs:{xs11:""}},[n("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[t._v(t._s(i+1)+".")]),t._v(" "),n("div",{staticStyle:{"margin-left":"30px"}},[t._v(t._s(e.documentName))])]),t._v(" "),n("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 my-0",staticStyle:{height:"25px",width:"25px"},attrs:{slot:"activator",fab:"",dark:"",small:"",color:"primary"},on:{click:function(n){t.viewFile(e)}},slot:"activator"},[n("v-icon",[t._v("visibility")])],1),t._v(" "),n("span",[t._v("Xem")])],1)],1)],1)],1)],1)})],2)],1)],1),t._v(" "),n("v-tab-item",{attrs:{id:"2","reverse-transition":"fade-transition",transition:"fade-transition"}},[t.btnStateVisible?n("div",{},[t._l(t.btnDossierDynamics,function(e,i){return n("v-btn",{key:i,attrs:{color:"primary",loading:t.loadingAction&&i===t.indexAction,disabled:t.loadingAction&&i===t.indexAction},nativeOn:{click:function(n){t.processPullBtnDetail(e,i)}}},[t._v("\n              "+t._s(e.actionName)+"\n              "),n("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])}),t._v(" "),t._l(t.btnStepsDynamics,function(e,i){return"NEW"!==String(e.form)?n("v-btn",{key:i,attrs:{color:"primary",loading:t.loadingAction&&i===t.indexActionStep,disabled:t.loadingAction&&i===t.indexActionStep},nativeOn:{click:function(n){t.btnActionEvent(e,i,!0)}}},[t._v("\n              "+t._s(e.title)+t._s(e.tiltle)+"\n              "),n("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])]):t._e()})],2):t._e(),t._v(" "),t.dialogActionProcess?n("v-layout",{attrs:{wrap:""}},[t.showPhanCongNguoiThucHien?n("phan-cong",{attrs:{type:t.type_assign},model:{value:t.assign_items,callback:function(e){t.assign_items=e},expression:"assign_items"}}):t._e(),t._v(" "),t.showTraKetQua?n("tra-ket-qua",{attrs:{resultFiles:t.returnFiles}}):t._e(),t._v(" "),t.showXacNhanThuPhi?n("xac-nhan-thu-phi",{attrs:{payments:t.payments,payment_type:t.payment_type}}):t._e(),t._v(" "),t.showYkienCanBoThucHien?n("y-kien-can-bo",{attrs:{user_note:t.userNote}}):t._e(),t._v(" "),t.dialogActionProcess?n("v-btn",{attrs:{color:"primary",flat:"flat",loading:t.loadingActionProcess,disabled:t.loadingActionProcess},nativeOn:{click:function(e){t.processAction(t.dossierItemDialogPick,t.itemDialogPick,t.resultDialogPick,t.indexDialogPick,!1)}}},[t._v("\n            Xác nhận\n            "),n("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])]):t._e(),t._v(" "),t.rollbackable?n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.rollBack()}}},[t._v("Quay lui")]):t._e()],1):t._e()],1),t._v(" "),n("v-tab-item",{attrs:{id:"3","reverse-transition":"fade-transition",transition:"fade-transition"}},[n("div",[n("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:t.headers,items:t.dossierActions,"hide-actions":"","no-data-text":"Không có dữ liệu"},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[n("v-tooltip",{attrs:{bottom:""}},[n("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                  "+t._s(e.header.text)+"\n                ")]),t._v(" "),n("span",[t._v("\n                  "+t._s(e.header.text)+"\n                ")])])]}},{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.sequenceRole))]),t._v(" "),n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.sequenceName))]),t._v(" "),n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.durationCount)+" ngày")]),t._v(" "),n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.startDate))]),t._v(" "),n("td",{staticClass:"text-xs-center"},t._l(e.item.assignUsers,function(e){return n("div",{key:e.userId},[t._v("\n                  "+t._s(e.userName)+" "),n("br")])})),t._v(" "),n("td",t._l(e.item.actions,function(i,o){return n("div",{key:o},[t._v("\n                  "+t._s(i.actionName)+" : ("+t._s(i.createDate)+")\n                  "),o===e.item.actions.length-1?n("div",[i.actionOverdue>0?n("span",{staticStyle:{color:"red"}},[t._v("Quá hạn "+t._s(i.actionOverdue)+" ngày")]):0===i.state?n("span",{staticStyle:{color:"blue"}},[t._v("Đang chờ thực hiện")]):1===i.state?n("span",{staticStyle:{color:"blue"}},[t._v("Đã thực hiện")]):n("span",{staticStyle:{color:"blue"}},[t._v("Quay lại bước trước")])]):t._e()])}))]}}])})],1)]),t._v(" "),n("v-tab-item",{attrs:{id:"4","reverse-transition":"fade-transition",transition:"fade-transition"}},t._l(t.listHistoryProcessing,function(e,i){return n("div",{key:e.dossierLogId,staticClass:"list_history_style"},[n("td",{staticClass:"px-2 pt-2",class:i%2!=0?"col-tien-trinh-1":"col-tien-trinh-2"},[t._v(t._s(i+1))]),t._v(" "),n("td",{staticClass:"text-xs-left px-2 py-2"},[n("p",{staticClass:"mb-2"},[t._v(" Ông/bà "),n("b",[t._v(t._s(e.author))]),t._v(" "),n("span",{staticStyle:{color:"#0b72ba"}},[t._v("( "+t._s(e.payload.stepName)+" )")]),t._v(" "),n("br"),t._v(" "),n("span",{staticStyle:{color:"#939393"}},[t._v(t._s(t._f("dateTimeView")(e.createDate)))])]),t._v("\n                Ý kiến: "),n("span",{domProps:{innerHTML:t._s(e.content)}}),t._v(" "),n("br"),t._v(" "),t._l(e.payload.files,function(e){return n("p",{key:e.dossierFileId,staticClass:"history__download__link hover-pointer-download",attrs:{title:"Tải file"},on:{click:function(n){n.preventDefault(),n.stopPropagation(),t.downloadFileLogs(e.dossierFileId)}}},[n("v-icon",[t._v("file_download")]),t._v(" "),n("span",[t._v(t._s(e.fileName))])],1)})],2)])})),t._v(" "),n("v-tab-item",{attrs:{id:"5","reverse-transition":"fade-transition",transition:"fade-transition"}},[n("comment",{attrs:{classPK:t.dossierId,className:t.className}})],1),t._v(" "),n("v-tab-item",{attrs:{id:"6","reverse-transition":"fade-transition",transition:"fade-transition"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",sm3:""}}),t._v(" "),n("v-flex",{attrs:{xs12:"",sm6:""}},[n("v-card",[n("div",{staticStyle:{height:"400px",overflow:"auto","margin-bottom":"10px"}},t._l(t.dossierSyncs,function(e,i){return n("div",{key:i},[n("div",{class:{"text-xs-left":1===e.syncType,"text-xs-right":2===e.syncType}},[n("v-chip",{attrs:{label:"",color:t.getColorChat(e.syncType),"text-color":"white"}},[t._v("\n                        "+t._s(e.actionUser)+": "+t._s(e.actionNote)+"\n                      ")])],1)])})),t._v(" "),n("v-text-field",{attrs:{solo:"",label:"Nhập trao đổi","append-icon":"send"},on:{change:t.postChat},model:{value:t.messageChat,callback:function(e){t.messageChat=e},expression:"messageChat"}})],1)],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm3:""}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=1.e8370820204903ded8b6.js.map