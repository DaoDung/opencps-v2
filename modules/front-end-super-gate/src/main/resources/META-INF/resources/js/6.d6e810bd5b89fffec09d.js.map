{"version":3,"sources":["webpack:///./src/components/TiepNhan/TiepNhanHoSo_ThanhPhanHoSo.vue?7895**","webpack:///./src/components/form_xu_ly/FeeDetail.vue","webpack:///./src/components/toggleButton.vue?ba6a**","webpack:///./src/components/form_xu_ly/PhanCongNguoiThucHien.vue?c354*","webpack:///./src/components/form_xu_ly/ThongTinCoBanHoSo.vue?232e*","webpack:///./src/components/form_xu_ly/TraKetQua.vue?03da*","webpack:///./src/components/form_xu_ly/YkienCanBoThucHien.vue?d9ad*","webpack:///./src/components/Comment.vue?2e8a*","webpack:///./src/components/form_xu_ly/FormBoSungThongTinNgan.vue?e1eb*","webpack:///./src/components/form_xu_ly/KyPheDuyetTaiLieu.vue?d579*","webpack:///./src/components/form_xu_ly/TaoTaiLieuKetQua.vue?efcc*","webpack:///./src/components/XuLyHoSo.vue","webpack:///./~/core-js/library/modules/_wks-define.js?b6e0*","webpack:///./~/core-js/library/modules/_wks-ext.js?6ee2*","webpack:///./~/babel-runtime/core-js/object/keys.js?fe06*****","webpack:///./~/core-js/library/modules/_object-gopn.js?1e07*","webpack:///./~/core-js/library/fn/object/keys.js?cc3f*****","webpack:///./~/core-js/library/modules/_object-sap.js?a03e*****","webpack:///./~/core-js/library/modules/es6.object.keys.js?c98f*****","webpack:///./~/babel-runtime/helpers/typeof.js?f4bd*","webpack:///TiepNhanHoSo_ThanhPhanHoSo.vue?645e**","webpack:///./~/v-money/dist/v-money.js?aeec**","webpack:///./src/components/TiepNhan/TiepNhanHoSo_ThanhPhanHoSo.vue?7f5c***","webpack:///FeeDetail.vue?532a**","webpack:///toggleButton.vue?9b87*","webpack:///./~/babel-runtime/core-js/symbol.js?a70d*","webpack:///./~/babel-runtime/core-js/symbol/iterator.js?d16b*","webpack:///./~/core-js/library/fn/symbol/index.js?f07a*","webpack:///./~/core-js/library/fn/symbol/iterator.js?238d*","webpack:///./~/core-js/library/modules/_enum-keys.js?727a*","webpack:///./~/core-js/library/modules/_is-array.js?1843*","webpack:///./~/core-js/library/modules/_meta.js?553d*","webpack:///./~/core-js/library/modules/_object-gopd.js?d7d8*","webpack:///./~/core-js/library/modules/_object-gopn-ext.js?d238*","webpack:///./~/core-js/library/modules/es6.symbol.js?670a*","webpack:///./~/core-js/library/modules/es7.symbol.async-iterator.js?b8c5*","webpack:///./~/core-js/library/modules/es7.symbol.observable.js?daa4*","webpack:///./src/components/form_xu_ly/FeeDetail.vue?eab3***","webpack:///./src/components/toggleButton.vue?cb39**","webpack:///PhanCongNguoiThucHien.vue?3dce*","webpack:///ThongTinCoBanHoSo.vue?0d38*","webpack:///TraKetQua.vue?6629*","webpack:///YkienCanBoThucHien.vue?3c21*","webpack:///./src/components/form_xu_ly/ThongTinCoBanHoSo.vue?946a**","webpack:///./src/components/form_xu_ly/TraKetQua.vue?cebd**","webpack:///./src/components/form_xu_ly/PhanCongNguoiThucHien.vue?d6a8**","webpack:///./src/components/form_xu_ly/YkienCanBoThucHien.vue?ddbd**","webpack:///Comment.vue?4481*","webpack:///FormBoSungThongTinNgan.vue?5e35*","webpack:///KyPheDuyetTaiLieu.vue?b903*","webpack:///TaoTaiLieuKetQua.vue?54dd*","webpack:///./~/jquery-comments/js/jquery-comments.js?3fc0*","webpack:///./~/jquery-textcomplete/dist/jquery.textcomplete.js?3e1f*","webpack:///./src/components/form_xu_ly/FormBoSungThongTinNgan.vue?e583**","webpack:///./src/components/form_xu_ly/TaoTaiLieuKetQua.vue?52e9**","webpack:///./src/components/Comment.vue?0237**","webpack:///./src/components/form_xu_ly/KyPheDuyetTaiLieu.vue?d84c**","webpack:///./src/store/jquery_comment.js?b1d5*","webpack:///./~/babel-runtime/core-js/object/create.js?aa4b*","webpack:///./~/core-js/library/fn/object/create.js?738c*","webpack:///./~/core-js/library/modules/es6.object.create.js?9034*","webpack:///(webpack)/buildin/harmony-module.js?cc96*","webpack:///XuLyHoSo.vue","webpack:///./src/components/XuLyHoSo.vue?4efb"],"names":["factory","define","module","exports","root","jQuery","undefined","window","require","$","Comments","$el","commentsById","usersById","dataFetched","currentSortKey","options","events","getDefaultOptions","profilePictureURL","currentUserIsAdmin","currentUserId","spinnerIconURL","upvoteIconURL","replyIconURL","uploadIconURL","attachmentIconURL","fileIconURL","noCommentsIconURL","noCommentsImptIconURL","textareaPlaceholderText","newestText","oldestText","importantCmtText","popularText","attachmentsText","sendText","replyText","editText","editedText","youText","saveText","deleteText","newText","viewAllRepliesText","hideRepliesText","noCommentsText","noCommentsImportantText","noAttachmentsText","attachmentDropText","textFormatter","text","enableReplying","enableEditing","enableUpvoting","enableDeleting","enableAttachments","enableHashtags","enablePinging","enableDeletingCommentWithReplies","enableNavigation","postCommentOnEnter","forceResponsive","readOnly","defaultNavigationSortKey","highlightColor","deleteButtonColor","scrollContainer","roundProfilePictures","textareaRows","textareaRowsOnFocus","textareaMaxRows","maxRepliesVisible","fieldMappings","id","parent","created","modified","content","file","fileURL","fileMimeType","pings","creator","fullname","profileURL","isNew","createdByAdmin","createdByCurrentUser","upvoteCount","userHasUpvoted","getUsers","success","error","getComments","postComment","commentJSON","putComment","deleteComment","upvoteComment","hashtagClicked","hashtag","pingClicked","userId","uploadAttachments","commentArray","refresh","timeFormatter","time","Date","toLocaleDateString","appendNewComments","commentJSONs","init","el","addClass","undelegateEvents","delegateEvents","a","browser","mobile","test","substr","navigator","userAgent","vendor","opera","extend","createCssDeclarations","fetchDataAndRender","bindEvents","unbind","bindFunction","key","eventName","split","selector","slice","join","methodNames","index","hasOwnProperty","method","proxy","self","setTimeout","empty","createHTML","after","render","commentsFetched","commentsArray","commentModels","map","commentsJSON","createCommentModel","sortComments","each","commentModel","addCommentToDataModel","usersFetched","userArray","user","fetchNext","spinner","createSpinner","find","append","createComment","remove","applyInternalMappings","childs","outermostParent","getOutermostParent","push","updateCommentModel","showActiveContainer","createComments","createAttachments","createImportantComments","activeNavigationEl","containerName","data","containerEl","siblings","hide","show","commentList","mainLevelComments","replies","reverse","addComment","prepend","attachmentList","attachments","getAttachments","addAttachment","importantCmtList","importantCmt","getImportantCmt","addImportantCmt","commentEl","createCommentElement","directParentEl","reRenderCommentActionBar","outerMostParent","parents","last","length","childCommentsEl","commentingField","before","updateToggleAllButton","removeComment","commentId","childComments","getChildComments","childComment","indexToRemove","indexOf","splice","commentElements","parentEl","files","isReply","hasClass","fileCount","uploadButton","textarea","removeClass","attachmentListSpinner","commentListSpinner","getTextareaContent","trigger","createCommentJSON","name","type","applyExternalMappings","val","toggleAllButton","hiddenReplies","toggleAllButtonText","caret","setToggleAllButtonText","comments","sortKey","sort","commentA","commentB","pointsOfA","pointsOfB","createdA","getTime","createdB","sortUsers","users","b","nameA","toLowerCase","trim","nameB","sortAndReArrangeComments","filter","showActiveSort","activeElements","titleEl","html","first","defaultDropdownEl","children","closeDropdowns","saveOnKeydown","ev","keyCode","metaKey","ctrlKey","currentTarget","stopPropagation","preventDefault","saveEditableContent","checkEditableContentForChange","navigationElementClicked","navigationEl","toggleNavigationDropdown","dropdown","toggle","showMainCommentingField","mainTextarea","focus","hideMainCommentingField","closeButton","mainControlRow","clearTextarea","adjustTextareaHeight","blur","increaseTextareaHeight","textareaContentChanged","saveButton","attr","parentComments","parentId","scrollHeight","outerHeight","contentOrParentChangedIfEditing","contentChanged","parentFromModel","toString","parentChanged","removeCommentingField","context","clearTimeout","myVar","commentsNew","commentsEdit","c","cmt","reRenderComment","sendButton","opinion","getPings","deleteButton","value","fileInputChanged","model","previousUpvoteCount","newUpvoteCount","reRenderUpvotes","toggleReplies","toggleClass","replyButtonClicked","replyButton","replyField","previousParentId","createCommentingFieldElement","moveCursorToEnd","scrollTop","endOfReply","position","top","endOfScrollable","newScrollTop","editButtonClicked","editButton","editField","getFormattedCommentContent","showDroppableOverlay","css","handleDragEnter","count","handleDragLeave","callback","handleDragLeaveForOverlay","hideDroppableOverlay","handleDragLeaveForDroppable","handleDragOverForOverlay","originalEvent","dataTransfer","dropEffect","handleDrop","target","mainCommentingField","createNavigationElement","commentsContainer","noComments","noCommentsIcon","importantCmtContainer","noCommentsImpt","noCommentsImptIcon","attachmentsContainer","noAttachments","noAttachmentsIcon","droppableOverlay","droppableContainer","droppable","uploadIcon","dropAttachmentText","createProfilePictureElement","src","profilePicture","existingCommentId","enableOpinion","textareaWrapper","controlRow","contenteditable","saveButtonText","opinionCmtId","fileInput","saveButtonClass","checkOpinion","labelCheckOpinion","parentModel","replyToName","replyToTag","createTagElement","textcomplete","match","search","term","normalizeSpaces","isSelf","alreadyPinged","lowercaseTerm","nameMatch","emailMatch","email","template","wrapper","profilePictureEl","pictureUrl","detailsEl","nameEl","emailEl","replace","tag","outerHTML","appendTo","dropdownClassName","maxCount","rightEdgeOffset","fn","Dropdown","prototype","zippedData","contentsHtml","_buildContents","unzippedData","d","strategy","removeAttr","_renderHeader","_renderFooter","_renderContents","_fitToBottom","_fitToRight","_activateIndexedItem","_setScroll","noResultsMessage","_renderNoResultsMessage","shown","deactivate","parseInt","originalLeft","maxLeft","width","outerWidth","left","Math","min","navigationWrapper","newest","oldest","important","popular","attachmentsIcon","dropdownNavigationWrapper","dropdownNavigation","dropdownTitle","dropdownTitleHeader","clone","spinnerIcon","commentWrapper","createCommentWrapperElement","nameText","link","href","replyTo","replyIcon","newTag","noteOpinion","isAttachment","format","mimeTypeParts","image","video","controls","availableIcons","iconClass","fileIcon","fileName","editedTime","edited","actions","reply","upvoteIcon","upvotes","createUpvoteElement","isAllowedToDelete","upvoteEl","extraClasses","tagEl","replaceWith","createCss","styleEl","commentArr","importantCmtArr","comment","importantCmtUser","attachCmtArr","directParentId","parentComment","toISOString","textContainer","showExpandingText","replyCount","textareaBaseHeight","lineHeight","setRows","rows","height","rowCount","isAreaScrollable","maxRowsUsed","humanReadable","textareaClone","ce","innerHTML","replaceNewLines","escape","linkify","highlightTags","getSelection","document","createRange","range","selectNodeContents","collapse","sel","removeAllRanges","addRange","body","createTextRange","textRange","moveToElementText","select","inputText","RegExp","times","func","apply","arguments","highlightHashtags","highlightPings","__createTag","regex","$0","$1","$2","highlightedHtml","pingText","endIndex","current","replacedText","replacePattern1","replacePattern2","replacePattern3","splitInput","i","combinedReplacedText","waitUntil","condition","invertedMappings","mappings","prop","applyMappings","result","key1","key2"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAmG;AACnG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAmG;AACnG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,yBAAmG;AACnG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,sBAAsB;AAChF,kFAAkF,wBAAwB;AAC1G;;;;;;;;ACRA;;;;;;;;ACAA,kBAAkB,yD;;;;;;;ACAlB;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACNA;AACA;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,qDAAqD,OAAO,EAAE;AAC9D;;;;;;;;ACTA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;ACRD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,iHAAiH,mBAAmB,EAAE,mBAAmB,4JAA4J;;AAErT,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA,CAAC;AACD;AACA,E;;;;;;;;;;;;;;;;;;ACuOA;;AAEA;AACA;AACA;AACA;AACA,mBADA;AAEA;AAAA;AAAA;AAFA,KADA;AAKA;AACA,kBADA;AAEA;AAAA;AAAA;AAFA,KALA;AASA;AACA,iBADA;AAEA;AAAA;AAAA;AAFA,KATA;AAaA;AACA,kBADA;AAEA;AAAA;AAAA;AAFA;AAbA,GADA;AAmBA;AAAA;AACA,8BADA;AAEA,2BAFA;AAGA,2BAHA;AAIA,sBAJA;AAKA,iBALA;AAMA,sBANA;AAOA,+BAPA;AAQA,4BARA;AASA,8BATA;AAUA,kBAVA;AAWA,kBAXA;AAYA,2BAZA;AAaA,sBAbA;AAcA,4BAdA;AAeA,sBAfA;AAgBA,4BAhBA;AAiBA,8BAjBA;AAkBA,oCAlBA;AAmBA,mBAnBA;AAoBA,oBApBA;AAqBA,sBArBA;AAsBA;AACA,wBADA;AAEA;AAFA,SAGA;AACA,wBADA;AAEA;AAFA,OAHA,EAMA;AACA,uBADA;AAEA;AAFA,OANA,EASA;AACA,uBADA;AAEA;AAFA,OATA,CAtBA;AAmCA;AACA,6BADA;AAEA;AAFA,SAGA;AACA,mBADA;AAEA;AAFA,OAHA,EAMA;AACA,yBADA;AAEA;AAFA,OANA,CAnCA;AA6CA,2BA7CA;AA8CA;AA9CA;AAAA,GAnBA;AAmEA;AACA,WADA,qBACA;AACA;AACA,KAHA;AAIA,eAJA,yBAIA;AACA;AACA;AACA,KAPA;AAQA,oBARA,8BAQA;AACA;AACA;AAVA,GAnEA;AA+EA,SA/EA,qBA+EA;AACA;AACA;AACA,8BACA,CADA;AAEA,GApFA;;AAqFA;AACA,wBADA,sCACA,IADA,EACA;AAAA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,OARA;AASA,KAZA;AAaA,wBAbA,kCAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA,OAPA;AAQA,KAvBA;AAwBA,YAxBA,oBAwBA,IAxBA,EAwBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;;AAIA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,EAGA,GAHA;AAKA,OAjCA,EAiCA,KAjCA,CAiCA,mBACA,CAlCA;AAmCA,KAzEA;AA0EA,oBA1EA,4BA0EA,YA1EA,EA0EA,oBA1EA,EA0EA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA,SANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA,WALA;AAMA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA;AACA,WARA;AASA;AACA,OAhCA,MAgCA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA,KApHA;AAqHA,mBArHA,2BAqHA,IArHA,EAqHA,KArHA,EAqHA;AACA;AACA;AACA,8EACA,CADA,EACA,KADA,CACA,mBACA,CAFA;AASA,KAjIA;AAkIA,sCAlIA,8CAkIA,gBAlIA,EAkIA,YAlIA,EAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA,SAfA;AAgBA,OAjBA,MAiBA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA,KA7JA;AA8JA,qCA9JA,6CA8JA,gBA9JA,EA8JA,YA9JA,EA8JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA,SAhBA;AAiBA,OAlBA,MAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAPA;AAQA;AACA;AACA;AACA,KA9LA;AA+LA,uCA/LA,+CA+LA,gBA/LA,EA+LA,aA/LA,EA+LA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,SAVA;AAWA,OAZA,MAYA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA;AACA,KApNA;AAqNA,oBArNA,4BAqNA,IArNA,EAqNA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA,SAjBA;AAkBA,OAnBA;AAoBA,KA5OA;AA6OA,kBA7OA,0BA6OA,IA7OA,EA6OA,KA7OA,EA6OA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,+EAEA,CAFA,EAEA,KAFA,CAEA;AACA;AACA,SAJA;AAKA,OARA,MAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,WAFA,EAEA,KAFA,CAEA;AACA;AACA,WAJA;AAKA,SARA,EAQA,KARA,CAQA;AACA;AACA,SAVA;AAWA;AACA,KAzQA;AA0QA,uBA1QA,+BA0QA,IA1QA,EA0QA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,EAGA,KAHA,CAGA,gBACA,CAJA;AAKA;AACA,SATA;AAUA;AACA,KA1RA;AA2RA,YA3RA,oBA2RA,IA3RA,EA2RA;AACA;AACA;AACA;AACA,KA/RA;AAgSA,sBAhSA,8BAgSA,CAhSA,EAgSA,IAhSA,EAgSA,KAhSA,EAgSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA,WATA;AAUA,SAZA,EAYA,KAZA,CAYA;AACA;AACA,SAdA;AAeA,OAhBA,MAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhUA;AAiUA,iBAjUA,yBAiUA,IAjUA,EAiUA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA,KAjVA;AAkVA,yBAlVA,iCAkVA,IAlVA,EAkVA,KAlVA,EAkVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA,iBAFA;AAGA;AACA;AACA;AACA,eATA;AAUA,aAZA;AAaA;AACA,SAjBA;AAkBA;AACA;AACA,KA1WA;AA2WA,mBA3WA,2BA2WA,IA3WA,EA2WA,KA3WA,EA2WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAHA;AAIA,eALA,EAKA,IALA;AAMA,aAPA,EAOA,KAPA,CAOA;AACA;AACA,aATA;AAUA,WAZA,MAYA;AACA;AACA;AACA;AACA,aAHA;AAIA;AACA;AACA,OAxBA;AAyBA,KAtYA;AAuYA,oBAvYA,4BAuYA,IAvYA,EAuYA,KAvYA,EAuYA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAJA;AAKA,SAVA,EAUA,KAVA,CAUA;AACA;AACA,SAZA;AAaA;AACA,KA1ZA;AA2ZA,YA3ZA,oBA2ZA,IA3ZA,EA2ZA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KAnaA;AAoaA,aApaA,qBAoaA,QApaA,EAoaA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjbA;AAkbA,kBAlbA,4BAkbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5bA;AA6bA,aA7bA,qBA6bA,IA7bA,EA6bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,KA9cA;AA+cA,sBA/cA,8BA+cA,IA/cA,EA+cA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;;AAEA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA,SAVA,MAUA;AACA;AACA;AACA;AACA;AACA,KApeA;AAqeA,YAreA,sBAqeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA,KA/eA;AAgfA,kBAhfA,0BAgfA,KAhfA,EAgfA,KAhfA,EAgfA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KA1fA;AA2fA,mBA3fA,2BA2fA,KA3fA,EA2fA,KA3fA,EA2fA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;;AAEA;AACA;AACA,KA3gBA;AA4gBA,qBA5gBA,6BA4gBA,IA5gBA,EA4gBA,KA5gBA,EA4gBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAzhBA;AA0hBA,cA1hBA,sBA0hBA,IA1hBA,EA0hBA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9iBA;AA+iBA,oBA/iBA,4BA+iBA,IA/iBA,EA+iBA,KA/iBA,EA+iBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SATA,MASA;AACA;AACA;AACA,OAbA,MAaA;AACA;AACA;AACA,KApkBA;AAqkBA,yBArkBA,mCAqkBA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KAjlBA;AAklBA,0BAllBA,kCAklBA,IAllBA,EAklBA;AACA;AACA;AACA;AACA;AACA,8C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AAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,gCAAgC,mDAAmD,EAAE;AACrF;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA,kGAAkG,aAAa;AAC/G;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,8BAA8B,4CAA4C,EAAE;AAC5E;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AAC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;;;;;;;ACAlB,kBAAkB,yD;;;;;;;ACAlB;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACdA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;ACfA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzOA;;;;;;;;ACAA;;;;;;;;ACAA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AClRA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;ACWA;AACA;AACA;AACA;AACA;AADA,GADA;AAIA;AACA;AACA,iBADA;AAEA;AAAA;AAAA;AAFA,KADA;AAKA;AACA,kBADA;AAEA;AAAA;AAAA;AAFA,KALA;AASA;AACA,kBADA;AAEA;AAFA;AATA,GAJA;AAkBA;AACA;AADA,GAlBA;AAqBA;AAAA;AACA,uBADA;AAEA;AACA,cACA,wCADA,EAEA,qCAFA,EAGA,wCAHA,CADA;AAMA,cACA,wCADA,EAEA,qCAFA,EAGA,wCAHA,EAIA,8BAJA;AANA,OAFA;AAeA;AACA,wCADA;AAEA,4CAFA;AAGA;AAHA,OAfA;AAoBA,6BApBA;AAqBA;AArBA;AAAA,GArBA;AA4CA,SA5CA,qBA4CA;AACA;AACA;AACA;AACA,KAFA,EAEA,GAFA;AAGA,GAjDA;AAkDA,SAlDA,qBAkDA;AACA;AACA,GApDA;;AAqDA;AACA,kBADA,0BACA,KADA,EACA,KADA,EACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KAVA;AAWA,cAXA,sBAWA,KAXA,EAWA,KAXA,EAWA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AAEA,KArBA;AAsBA,oBAtBA,4BAsBA,KAtBA,EAsBA,KAtBA,EAsBA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AAEA,KAhCA;AAiCA,YAjCA,sBAiCA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AA7CA;AArDA,G;;;;;;;;;;;AC0EA;AACA;AACA;AACA,kBADA;AAEA;AAFA;AADA,GADA;AAOA;AACA,iBADA,yBACA,GADA,EACA;AAEA;AACA;AACA;AALA,GAPA;AAcA,gBAdA;AAgBA;AAAA;AACA,6BADA;AAEA;AAFA;AAAA,GAhBA;AAoBA;AACA,WADA,qBACA;AACA;AACA,KAHA;AAIA,eAJA,yBAIA;AACA;AACA;AACA;AAPA,GApBA;AA6BA,SA7BA,qBA6BA;AACA;AACA;AACA,GAhCA;AAiCA,SAjCA,qBAiCA;AACA;AACA;AACA,GApCA;;AAqCA;AACA,YADA,oBACA,IADA,EACA;AACA;AACA;AACA;AAEA,OAHA;AAIA,KAPA;AAQA,UARA,oBAQA;AACA;AACA,KAVA;AAWA,gBAXA,wBAWA,YAXA,EAWA,aAXA,EAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OATA,MASA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AA5BA,GArCA;AAmEA;AACA,gBADA,wBACA,GADA,EACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AARA;AAnEA,G;;;;;;;;;;;ACvFA;AACA;AACA;AACA,iBADA;AAEA;AAAA;AAAA;AAFA;AADA,GADA;AAOA;AAAA;AACA,mBADA;AAEA,0BAFA;AAGA,gBACA;AACA,mBADA;AAEA,uBAFA;AAGA;AAHA,OADA,EAMA;AACA,uBADA;AAEA,uBAFA;AAGA;AAHA,OANA,EAWA;AACA,wBADA;AAEA,uBAFA;AAGA;AAHA,OAXA,EAgBA;AACA,2BADA;AAEA,uBAFA;AAGA;AAHA,OAhBA;AAHA;AAAA,GAPA;AAiCA;AACA,WADA,qBACA;AACA;AACA;AAHA,GAjCA;AAsCA,SAtCA,qBAsCA;AACA;AACA;AACA,GAzCA;;AA0CA,aA1CA;AA2CA;AACA,gBADA,wBACA,GADA,EACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KARA;AASA,oBATA,4BASA,GATA,EASA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AAjBA;AA3CA,G;;;;;;;;;;;ACnBA;AACA;AACA;AACA,kBADA;AAEA;AAFA,KADA;AAKA;AACA,kBADA;AAEA;AAFA;AALA,GADA;AAWA;AAAA;AACA,mBADA;AAEA;AAFA;AAAA,GAXA;AAeA;AACA,YADA,oBACA,IADA,EACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KANA;AAOA,YAPA,sBAOA;AACA;AACA;AACA,0BADA;AAEA;AAFA;AAIA;AACA;AAdA;AAfA,G;;;;;;;AC3BA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AC1NA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AC/EA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AC/IA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,mDAAmD,0DAA0D,EAAE;AAC/G,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;;;;;AClCA;;AAEA;AACA;AACA;AACA,iCADA;AAEA;AAAA;AACA,sBADA;AAeA,iBAfA;AAgBA,uBAhBA;;AAkBA;AAlBA;AAAA,GAFA;AAsBA;AACA,WADA,qBACA;AACA;AACA,KAHA;AAIA,YAJA,sBAIA;AACA;AACA;AANA,GAtBA;AA8BA;AACA,WADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,KAHA,CAGA;AACA;AACA,OALA;AAMA;AATA,GA9BA;AAyCA,SAzCA,qBAyCA,CAOA,CAhDA;AAiDA,SAjDA,qBAiDA,CAUA,CA3DA;;AA4DA;AACA,cADA,wBACA;AACA;AACA;AACA;AAOA;AACA,KAZA;;AAaA;AACA;AACA;AACA,qFADA;AAEA,uBAFA;AAGA,+BAHA;AAIA,4BAJA;AAKA,2BALA;AAMA,iCANA;AAOA,8BAPA;AAQA,uBARA;AASA,qDATA;AAUA,8BAVA;AAWA,6BAXA;AAYA,+BAZA;AAaA,mCAbA;AAcA,uBAdA;AAeA,4BAfA;AAgBA,uBAhBA;AAiBA,4BAjBA;AAkBA,sBAlBA;AAmBA,2BAnBA;AAoBA,yBApBA;;AAsBA,yCAtBA;AAuBA,gDAvBA;AAwBA,kDAxBA;AAyBA,kDAzBA;AA0BA;AACA,yBADA;AAEA,0BAFA;AAGA,0BAHA;AAIA,gCAJA;AAKA,kCALA;AAMA,4BANA;AAOA,4BAPA;AAQA,kCARA;AASA,8BATA;AAUA,wBAVA;AAWA,2BAXA;AAYA,8BAZA;AAaA,kCAbA;AAcA,yCAdA;AAeA,wBAfA;AAgBA,mCAhBA;AAiBA,sDAjBA;AAkBA,oCAlBA;AAmBA,0CAnBA;AAoBA,wBApBA;AAqBA,4BArBA;AAsBA,gCAtBA;AAuBA;AAvBA,SA1BA;AAmDA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA,SA3DA;AA4DA;AACA;AACA,SA9DA;AA+DA;AACA;AACA,iCADA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAJA;AAKA;AACA,WARA,EAQA,KARA,CAQA;AACA;AACA;AACA,WAXA;AAYA,SAjFA;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WARA;AASA,SA/FA;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA,SAxGA;AAyGA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,KAFA,CAEA;AACA;AAEA,WALA;AAMA,SAlHA;AAmHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,EAIA,KAJA,CAIA,mBAEA,CANA;AAOA,SA7HA;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA,WATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA,sDADA;AAEA,8BAFA;AAGA,0BAHA;AAIA;AACA;AADA,eAJA;AAQA,4BARA;AASA,0BATA;AAUA,gCAVA;AAWA,gCAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAxBA;AAyBA;AACA;AACA;AA3BA;AA6BA,WAnDA;AAoDA;AA/LA;AAwOA,KAvPA;AAwPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/QA;AAgRA,gBAhRA,wBAgRA,GAhRA,EAgRA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AAvRA,GA5DA;AAqVA;AACA,gBADA,wBACA,GADA,EACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AARA;AArVA,G;;;;;;;;;;;ACuCA;AACA;AACA;AACA;AADA,KADA;AAIA;AACA;AADA;AAJA,GADA;AASA;AAAA;AACA,kBADA;AAEA,qBAFA;AAGA,gBAHA;AAIA,mBAJA;AAKA,qBALA;AAMA;AACA;AACA;AACA;AACA;AAJA;AANA;AAAA,GATA;AAsBA,SAtBA,qBAsBA;AACA;AACA;AACA;AACA,gCADA;AAEA;AAFA;AAIA;AACA;AACA,OAFA;AAGA,KARA;AASA,GAjCA;;AAkCA;AACA,oBADA,4BACA,IADA,EACA,SADA,EACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA,kBAPA,4BAOA;AACA;;AAEA;AACA;AACA,KAZA;AAaA,oBAbA,4BAaA,IAbA,EAaA;AACA;AACA;AACA,KAhBA;AAiBA,gBAjBA,wBAiBA,GAjBA,EAiBA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KAxBA;AAyBA,kBAzBA,4BAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;AAlCA,G;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AADA,GADA;AAIA;AAAA;AACA,yBADA;AAEA,oBAFA;AAGA,oBAHA;AAIA;AAJA;AAAA,GAJA;AAUA,SAVA,qBAUA,EAVA;AAWA,SAXA,qBAWA,EAXA;;AAYA;AACA,gBADA,0BACA;AACA;AAEA,KAJA;AAKA,YALA,sBAKA;AACA;AACA;AACA,gCADA;AAEA;AAFA;AAIA;AACA;AAZA;AAZA,G;;;;;;;;;;;;;;;AC+EA;AACA;AACA;AACA;AACA;AACA,kBADA;AAEA;AAAA;AAAA;AAFA,KADA;AAKA;AACA,kBADA;AAEA;AAFA,KALA;AASA;AACA,iBADA;AAEA;AAAA;AAAA;AAFA;AATA,GADA;AAeA;AAAA;AACA,8BADA;AAEA,2BAFA;AAGA,2BAHA;AAIA,sBAJA;AAKA,iBALA;AAMA,sBANA;AAOA,+BAPA;AAQA,4BARA;AASA,8BATA;AAUA,kBAVA;AAWA,kBAXA;AAYA,2BAZA;AAaA,sBAbA;AAcA,4BAdA;AAeA,sBAfA;AAgBA,4BAhBA;AAiBA,8BAjBA;AAkBA,oCAlBA;AAmBA,mBAnBA;AAoBA,oBApBA;AAqBA;AArBA;AAAA,GAfA;AAsCA;AACA,WADA,qBACA;AACA;AACA,KAHA;AAIA,eAJA,yBAIA;AACA;AACA;AACA,KAPA;AAQA,oBARA,8BAQA;AACA;AACA;AAVA,GAtCA;AAkDA,SAlDA,qBAkDA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA,SALA,EAKA,KALA,CAKA,mBACA,CANA;AAOA;AACA,KAXA;AAYA,GAjEA;AAkEA,SAlEA,qBAkEA;AACA;AACA;AACA;AACA;AAGA;AACA,SAJA,EAIA,GAJA;AAKA;AACA,KARA;AASA,GA7EA;;AA8EA;AACA,oBADA,4BACA,YADA,EACA,WADA,EACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA,SANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA,WALA;AAMA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA;AACA,WARA;AASA;AACA,OAhCA,MAgCA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA,KA3CA;AA4CA,sCA5CA,8CA4CA,WA5CA,EA4CA,YA5CA,EA4CA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SATA;AAUA,OAXA,MAWA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA,KAjEA;AAkEA,oBAlEA,4BAkEA,IAlEA,EAkEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA,SAjBA;AAkBA,OAnBA;AAoBA,KAzFA;AA0FA,kBA1FA,0BA0FA,IA1FA,EA0FA,KA1FA,EA0FA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,+EAEA,CAFA,EAEA,KAFA,CAEA;AACA;AACA,SAJA;AAKA,OARA,MAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,WAFA,EAEA,KAFA,CAEA;AACA;AACA,WAJA;AAKA,SARA,EAQA,KARA,CAQA;AACA;AACA,SAVA;AAWA;AACA,KAtHA;AAuHA,uBAvHA,+BAuHA,IAvHA,EAuHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,EAEA,KAFA,CAEA,gBACA,CAHA;AAIA;AACA,SARA;AASA;AACA,KAtIA;AAuIA,YAvIA,oBAuIA,IAvIA,EAuIA;AACA;AACA;AACA;AACA,KA3IA;AA4IA,sBA5IA,8BA4IA,CA5IA,EA4IA,IA5IA,EA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OALA,EAKA,KALA,CAKA;AACA;AACA,OAPA;AAQA,KA1JA;AA2JA,iBA3JA,yBA2JA,IA3JA,EA2JA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA,KA3KA;AA4KA,yBA5KA,iCA4KA,IA5KA,EA4KA,KA5KA,EA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA,iBAFA;AAGA;AACA;AACA;AACA,eARA;AASA,aAXA;AAYA;AACA,SAhBA;AAiBA;AACA;AACA,KAnMA;AAoMA,mBApMA,2BAoMA,IApMA,EAoMA,KApMA,EAoMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAHA;AAIA,aALA,EAKA,IALA;AAMA,WAPA,EAOA,KAPA,CAOA;AACA;AACA,WATA;AAUA;AACA,OAjBA;AAkBA,KAxNA;AAyNA,oBAzNA,4BAyNA,IAzNA,EAyNA,KAzNA,EAyNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA,SANA,EAMA,KANA,CAMA;AACA;AACA,SARA;AASA;AACA,KAxOA;AAyOA,YAzOA,oBAyOA,IAzOA,EAyOA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KAjPA;AAkPA,aAlPA,qBAkPA,IAlPA,EAkPA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,KAhQA;AAiQA,sBAjQA,8BAiQA,IAjQA,EAiQA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA,SATA,MASA;AACA;AACA;AACA;AACA;AACA,KArRA;AAsRA,cAtRA,sBAsRA,IAtRA,EAsRA;AACA;AACA,KAxRA;AAyRA,wBAzRA,gCAyRA,IAzRA,EAyRA,KAzRA,EAyRA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,SAHA,MAGA,CAEA;AACA;AACA,KAtSA;AAuSA,gBAvSA,0BAuSA;AACA;AACA;AACA;AACA,KA3SA;AA4SA,gBA5SA,wBA4SA,IA5SA,EA4SA;AACA;AACA;AACA;AACA;AACA,KAjTA;AAkTA,qBAlTA,6BAkTA,IAlTA,EAkTA,KAlTA,EAkTA;AACA;AACA;AACA,6CADA;AAEA;AAFA;AAIA;AACA;AACA;AACA,OAHA,EAGA,KAHA,CAGA,mBAEA,CALA;AAMA;AA9TA;AA9EA,G;;;;;;;8CC9IA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,kBAAkB;AAClB,eAAe;AACf;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,YAAY;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,wCAAwC,YAAY;AACpD,2CAA2C,YAAY;AACvD,wDAAwD,qBAAqB;AAC7E,uDAAuD,qBAAqB;AAC5E,0DAA0D,UAAU;AACpE,0DAA0D,qBAAqB;AAC/E,wCAAwC;AACxC,oCAAoC;AACpC,+DAA+D,sBAAsB;AACrF,0BAA0B;AAC1B,mCAAmC,2CAA2C;AAC9E,+DAA+D;AAC/D;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kCAAkC,26DAA26D;AAC79D;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,yBAAyB,yBAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+D;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;;AAEJ;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,yBAAyB;AACzB;AACA;AACA,IAAI;;AAEJ;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA,IAAI;;AAEJ;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;;AAEA;AACA,4EAA4E,4BAA4B;AACxG;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,I;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,oD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAqC,yBAAyB;AAC9D;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,oBAAoB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,mB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;;AAGH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,0D;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,kE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;;AAEA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B,GAAG;;AAE7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,UAAU;AACV;AACA;AACA,UAAU;;AAEV;AACA;AACA,UAAU;;AAEV;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;;;AAGN;;AAEA;AACA;AACA,yDAAyD,gBAAgB,EAAE;AAC3E;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,oHAAoH;AACpH,OAAO;;AAEP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;;AAGF;AACA;;AAEA;AACA;;AAEA;AACA,kEAAkE;AAClE,iDAAiD;AACjD,MAAM;;AAEN;AACA,wEAAwE;AACxE,iDAAiD;AACjD,MAAM;;AAEN;AACA,0DAA0D;AAC1D,iDAAiD;AACjD,MAAM;;AAEN;AACA,oDAAoD;AACpD,gDAAgD;AAChD,MAAM;AACN,yDAAyD;AACzD,gDAAgD;AAChD,wBAAwB;AACxB,MAAM;AACN,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;;AAEF;AACA;AACA;AACA,mEAAmE,6BAA6B;AAChG,4DAA4D,uBAAuB;AACnF,6DAA6D,qDAAqD;AAClH,yDAAyD,oCAAoC;AAC7F;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,yDAAyD,6BAA6B;AACtF,EAAE;;AAEF;AACA;AACA,sDAAsD,0BAA0B;AAChF,EAAE;;AAEF;AACA,qDAAqD,kCAAkC;AACvF,EAAE;;AAEF;AACA;AACA,qDAAqD,oCAAoC;AACzF,EAAE;AACF;AACA;AACA,qDAAqD,+BAA+B;AACpF,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA,gDAAgD,8BAA8B,EAAE;;AAEhF;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,oDAAoD,0CAA0C;AAC9F,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA,2DAA2D;AAC3D,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA,2EAA2E;AAC3E;;AAEA;AACA;AACA;;AAEA;AACA,yEAAyE,IAAI;AAC7E;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,GAAG;AACH;AACA,CAAC;;;AAGD,oB;;;;;;;;AC70EA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,uBAAuB;AAC9C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ,EAAE,QAAQ;AAChD;AACA,QAAQ;AACR,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB,oBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,oDAAoD,mBAAmB,EAAE;;AAEzE;AACA;AACA,sDAAsD;;AAEtD,oEAAoE;AACpE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA,sEAAsE,QAAQ;AAC9E;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA,kCAAkC,gBAAgB;AAClD;AACA,sBAAsB,iDAAiD;AACvE;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,4BAA4B,GAAG,4BAA4B;AAC1E;AACA;AACA,gBAAgB;AAChB,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;;AAEA;AACA,8BAA8B,wCAAwC;AACtE,wBAAwB,gCAAgC;AACxD;AACA;AACA,iCAAiC,2BAA2B;AAC5D,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,sBAAsB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,yDAAyD,gBAAgB,EAAE;AAC3E;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,oBAAoB,qBAAqB,EAAE;;AAE3C;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,6BAA6B,mCAAmC;AAChE;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,6BAA6B,sCAAsC;AACnE;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,iEAAiE;AACjE,KAAK;;AAEL;AACA,iEAAiE;AACjE,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA,8BAA8B;AAC9B,KAAK;;AAEL;AACA,8BAA8B;AAC9B,KAAK;;AAEL;AACA,8BAA8B;AAC9B,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,wBAAwB,QAAQ;;AAEhC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA,wCAAwC,UAAU;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iCAAiC;AAC5D;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA,yBAAyB,6BAA6B;AACtD;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,oCAAoC;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,aAAa,EAAE;AAC5C;AACA,gCAAgC,YAAY,EAAE;AAC9C;AACA,GAAG;;AAEH;;AAEA,CAAC;;AAED;AACA;;AAEA,qCAAqC,6BAA6B;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,kCAAkC;AAClC;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,sBAAsB;AAC7D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA,gCAAgC,QAAQ;AACxC;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY,qCAAqC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,yBAAyB,EAAE;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,iBAAiB;AACxB;AACA;AACA,KAAK;AACL,CAAC;;AAED;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,+BAA+B;AAC9C;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2FAA2F;;AAE3F;AACA;AACA;AACA,kCAAkC;;AAElC;AACA,8BAA8B;AAC9B;AACA,gCAAgC;;AAEhC;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;AACH,8BAA8B,0CAA0C;AACxE;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC;;AAED;AACA,CAAC;;;;;;;;ACx9CD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AC5HA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;ACvUA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AC1BA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;;;;AC3JC,WAAUA,OAAV,EAAmB;AACnB,KAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,wBAApC,EAAgD;AAE/CA,SAAO,CAAC,QAAD,CAAP,EAAmBD,OAAnB;AACA,EAHD,MAGO,IAAI,6FAAOE,MAAP,OAAkB,QAAlB,IAA8BA,OAAOC,OAAzC,EAAkD;AAExDD,SAAOC,OAAP,GAAiB,UAASC,IAAT,EAAeC,MAAf,EAAuB;AACvC,OAAIA,WAAWC,SAAf,EAA0B;AAKzB,QAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AAClCF,cAAS,mBAAAG,CAAQ,EAAR,CAAT;AACA,KAFD,MAGK;AACJH,cAAS,mBAAAG,CAAQ,EAAR,EAAkBJ,IAAlB,CAAT;AACA;AACD;AACDJ,WAAQK,MAAR;AACA,UAAOA,MAAP;AACA,GAfD;AAgBA,EAlBM,MAkBA;AAENL,UAAQK,M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4DA,qBA5DA;AA6DA,oBA7DA;AA8DA,qBA9DA;AA+DA,sBA/DA;AAgEA,2BAhEA;AAiEA,gCAjEA;AAkEA,yBAlEA;AAmEA,sBAnEA;AAoEA,6BApEA;AAqEA,iCArEA;AAsEA,0BAtEA;AAuEA,sBAvEA;AAwEA;AAxEA;AAAA,GAbA;AAuFA;AACA,WADA,qBACA;AACA;AACA,KAHA;AAIA,eAJA,yBAIA;AACA;AACA;AACA,KAPA;AAQA,mBARA,6BAQA;AACA;AACA;AACA,KAXA;AAYA,gBAZA,0BAYA;AAEA;AACA,KAfA;AAgBA,oBAhBA,8BAgBA;AACA;AACA;AAlBA,GAvFA;AA2GA,SA3GA,qBA2GA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA,WAFA,EAEA,KAFA,CAEA,mBACA,CAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA,CAOA,WAEA;AACA;AAQA,KAvCA;AAwCA,GAtJA;AAuJA,SAvJA,qBAuJA;AACA;AACA;AACA,GA1JA;;AA2JA,WA3JA;AA4JA;AACA,YADA,oBACA,IADA,EACA;AACA;AACA,KAHA;AAIA,UAJA,oBAIA;AACA;AACA,KANA;AAOA,8BAPA,sCAOA,WAPA,EAOA,IAPA,EAOA,MAPA,EAOA,KAPA,EAOA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFACA,uHACA,oCADA,IACA,mCADA,IACA,oCADA,IAEA,gCAFA,IAEA,mCAHA,GAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjFA;AAkFA,wBAlFA,gCAkFA,IAlFA,EAkFA,KAlFA,EAkFA;AACA;AACA;AACA;AACA;AACA;AACA,kDADA;AAEA;AAFA;AAIA;AACA;AACA;AACA,OAFA;AAGA,KA/FA;AAgGA,UAhGA,kBAgGA,WAhGA,EAgGA,IAhGA,EAgGA,KAhGA,EAgGA,OAhGA,EAgGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA,wGADA;AAEA;AAFA;AAIA,OAPA;AAQA,KA9GA;AA+GA,YA/GA,oBA+GA,WA/GA,EA+GA,IA/GA,EA+GA,KA/GA,EA+GA,OA/GA,EA+GA;AACA;AACA;AACA,oBAEA,CAFA,MAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA,0GADA;AAEA;AAFA;AAIA,SAPA;AAQA;AACA,KAjIA;AAkIA,iBAlIA,2BAkIA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,6DADA;AAEA,0DAFA;AAGA;AAHA;AAKA;AACA;AACA;AACA;AACA,OAbA,MAaA;AACA;AACA;AACA;AACA,2DADA;AAEA,gDAFA;AAGA;AAHA;AAKA;AACA;AACA;AACA;AACA,KAnKA;AAoKA,cApKA,sBAoKA,MApKA,EAoKA,OApKA,EAoKA,KApKA,EAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDADA;AAEA,2FAFA;AAGA,mFAHA;AAIA,2FAJA;AAKA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AAEA,WAbA,EAaA,KAbA,CAaA;AACA;AACA;AACA;;AAGA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AAEA,WA3BA;AA4BA;AACA,OAhCA,MAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AAEA,SAXA,EAWA,KAXA,CAWA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AAEA,SAvBA;AAwBA;AACA,KAhRA;AAiRA,aAjRA,qBAiRA,WAjRA,EAiRA,IAjRA,EAiRA,KAjRA,EAiRA,OAjRA,EAiRA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,iCADA;AAEA,+DAFA;AAGA,mEAHA;AAIA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,KAnSA;AAoSA,aApSA,qBAoSA,WApSA,EAoSA,IApSA,EAoSA,KApSA,EAoSA,OApSA,EAoSA;AACA;AACA;AACA;AACA;AACA,wCADA;AAEA;AAFA;AAIA;AACA;AACA;AACA,OAHA;AAIA,KAhTA;AAiTA,aAjTA,qBAiTA,WAjTA,EAiTA,IAjTA,EAiTA,KAjTA,EAiTA,OAjTA,EAiTA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,KAhUA;AAiUA,kBAjUA,4BAiUA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA;AACA,SARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAzCA;AA0CA,KArXA;AAsXA,mBAtXA,2BAsXA,SAtXA,EAsXA;AACA;AACA;AACA;AACA;AAEA;AACA,mCADA;AAEA,4CAFA;AAGA,qCAHA;AAIA,0BAJA;AAKA,uBALA;AAMA,wBANA;AAOA,2BAPA;AAQA,uBARA;AASA;AATA;AAWA,kFAEA,CAFA;AAGA,SAhBA;AAiBA,OAlBA,MAkBA;AACA;AACA,iCADA;AAEA,0CAFA;AAGA,mCAHA;AAIA,wBAJA;AAKA,qBALA;AAMA,sBANA;AAOA,yBAPA;AAQA,qBARA;AASA;AATA;AAWA,gFAEA,CAFA;AAGA;AACA,KA3ZA;AA4ZA,2BA5ZA,qCA4ZA;AACA;AACA;AACA;AA/ZA,GA5JA;AA6jBA;AACA,gBADA,wBACA,GADA,EACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KARA;AASA,iBATA,yBASA,GATA,EASA;AACA;AACA;AACA,OAFA;AAGA;AACA;AAdA;AA7jBA,G;;;;;;;AClMA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C","file":"o/front-end-super-gate/js/6.d6e810bd5b89fffec09d.js","sourcesContent":["var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TiepNhanHoSo_ThanhPhanHoSo.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-687ee6a0\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TiepNhanHoSo_ThanhPhanHoSo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/TiepNhan/TiepNhanHoSo_ThanhPhanHoSo.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] TiepNhanHoSo_ThanhPhanHoSo.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-687ee6a0\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-687ee6a0\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TiepNhan/TiepNhanHoSo_ThanhPhanHoSo.vue\n// module id = 212\n// module chunks = 0 1 2 6 10 13 28","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FeeDetail.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6830f0e4\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FeeDetail.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/FeeDetail.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] FeeDetail.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-6830f0e4\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-6830f0e4\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/FeeDetail.vue\n// module id = 215\n// module chunks = 0 1 2 6 7 16","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./toggleButton.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7cc31a58\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./toggleButton.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/toggleButton.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] toggleButton.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7cc31a58\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7cc31a58\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/toggleButton.vue\n// module id = 216\n// module chunks = 0 1 6 7 8 9","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PhanCongNguoiThucHien.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7cac08a2\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PhanCongNguoiThucHien.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/PhanCongNguoiThucHien.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] PhanCongNguoiThucHien.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7cac08a2\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7cac08a2\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/PhanCongNguoiThucHien.vue\n// module id = 218\n// module chunks = 0 1 6 7 8","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ThongTinCoBanHoSo.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02494d10\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ThongTinCoBanHoSo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/ThongTinCoBanHoSo.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] ThongTinCoBanHoSo.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-02494d10\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-02494d10\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/ThongTinCoBanHoSo.vue\n// module id = 219\n// module chunks = 0 1 6 7 23","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TraKetQua.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b02061d\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TraKetQua.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/TraKetQua.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] TraKetQua.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-5b02061d\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-5b02061d\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/TraKetQua.vue\n// module id = 220\n// module chunks = 0 1 6 7 22","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./YkienCanBoThucHien.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ad80357c\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./YkienCanBoThucHien.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/YkienCanBoThucHien.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] YkienCanBoThucHien.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-ad80357c\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-ad80357c\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/YkienCanBoThucHien.vue\n// module id = 221\n// module chunks = 0 1 6 7 20","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Comment.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c8f36406\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Comment.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/Comment.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] Comment.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-c8f36406\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-c8f36406\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Comment.vue\n// module id = 224\n// module chunks = 0 1 6 11","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FormBoSungThongTinNgan.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2df4b7d0\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FormBoSungThongTinNgan.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/FormBoSungThongTinNgan.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] FormBoSungThongTinNgan.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-2df4b7d0\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-2df4b7d0\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/FormBoSungThongTinNgan.vue\n// module id = 225\n// module chunks = 0 1 6 27","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./KyPheDuyetTaiLieu.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f7571a70\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./KyPheDuyetTaiLieu.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/KyPheDuyetTaiLieu.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] KyPheDuyetTaiLieu.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-f7571a70\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-f7571a70\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/KyPheDuyetTaiLieu.vue\n// module id = 226\n// module chunks = 0 1 6 26","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TaoTaiLieuKetQua.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b77eb43\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TaoTaiLieuKetQua.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/TaoTaiLieuKetQua.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] TaoTaiLieuKetQua.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-5b77eb43\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-5b77eb43\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/TaoTaiLieuKetQua.vue\n// module id = 227\n// module chunks = 0 1 6 25","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./XuLyHoSo.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b51162c2\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./XuLyHoSo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/binhth/Documents/git_opencps/20-8-2018/frontend-opencps-v2.1/onegate_21_fe/src/components/XuLyHoSo.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] XuLyHoSo.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-b51162c2\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-b51162c2\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/XuLyHoSo.vue\n// module id = 255\n// module chunks = 6","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks-define.js\n// module id = 515\n// module chunks = 0 1 6 7 8 9","exports.f = require('./_wks');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks-ext.js\n// module id = 516\n// module chunks = 0 1 6 7 8 9","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/keys.js\n// module id = 517\n// module chunks = 0 1 2 3 4 5 6 11","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopn.js\n// module id = 518\n// module chunks = 0 1 6 7 8 9","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/keys.js\n// module id = 642\n// module chunks = 0 1 2 3 4 5 6 11","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-sap.js\n// module id = 643\n// module chunks = 0 1 2 3 4 5 6 11","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.keys.js\n// module id = 644\n// module chunks = 0 1 2 3 4 5 6 11","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/typeof.js\n// module id = 645\n// module chunks = 0 1 6 7 8 9","<template>\n  <div>\n    <v-card>\n      <div class=\"form_alpaca\" style=\"position: relative;\" v-for=\"(item, index) in dossierTemplateItems\" v-if=\"partTypes.includes(item.partType) && checkVisibleTemp(item, index)\" v-bind:key=\"item.partNo\">\n        <v-expansion-panel class=\"expaned__list__data\">\n          <v-expansion-panel-content hide-actions :value=\"false\">\n            <div slot=\"header\" @click=\"stateView = false\" style=\"background-color:#fff\">\n              <div style=\"align-items: center;min-height: 38px;background: #fff; padding-left: 15px;\" :style=\"{width: checkStyle(item)}\">\n                <div class=\"mr-2\" @click=\"loadAlpcaForm(item)\" style=\"min-width: 18px; display: flex; min-height: 38px;\">\n                  <div class=\"header__tphs\"><span class=\"text-bold\">{{index + 1}}.</span> &nbsp;</div>\n                  <div class=\"header__tphs\">\n                    {{item.partName}}&nbsp; <span v-if=\"item.required\" style=\"color: red\"> (*) </span>\n                    &nbsp;&nbsp;\n                    <v-tooltip top v-if=\"item.hasForm && item.daKhai\">\n                      <i slot=\"activator\" style=\"color: #0d71bb; font-size: 13px;\" class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\n                      <span>Biểu mẫu trực tuyến (Đã khai)</span>\n                    </v-tooltip>\n                    <v-tooltip top v-if=\"item.hasForm && !item.daKhai\">\n                      <i slot=\"activator\" style=\"color: #0d71bb; font-size: 13px;\" class=\"fa fa-file-o\"></i>\n                      <span>Biểu mẫu trực tuyến (Chưa khai)</span>\n                    </v-tooltip>\n                    &nbsp;&nbsp;\n                    <v-tooltip top v-if=\"!item.hasForm && item.hasFileTemp\">\n                      <v-icon v-on:click.stop=\"downloadFileTemplate(item, index)\" slot=\"activator\" style=\"color: #0d71bb;\" size=\"16\" color=\"primary\">save_alt</v-icon>\n                      <span>Biểu mẫu điền thủ công</span>\n                    </v-tooltip>\n                  </div>\n                </div>\n                <!-- <i v-if=\"item.hasForm\" style=\"font-size: 10px; color: #0d71bb; margin-left: 10px;\">(Form trực tuyến)</i> \n                <span v-if=\"item.hasForm\">&nbsp;-&nbsp;</span> \n                <i v-if=\"item.hasForm\" style=\"font-size: 10px;color: #0d71bb;\">({{item.daKhai ? 'Đã khai' : 'Chưa khai '}})</i> -->\n                <div style=\"display: flex\">\n                  <v-text-field\n                  v-model=\"item.fileComment\"\n                  placeholder=\"Nhập lý do\"\n                  v-if=\"checkInput === 1 && item.fileCheck === 2 && item.stateEditFileCheck\"\n                  :rules=\"[v => !!v || 'Bạn phải nhập lý do trước khi gửi']\"\n                  required\n                  v-on:click.stop=\"\"\n                  @keyup.enter=\"changeFileComment(item, index)\"\n                  ></v-text-field>\n                  <v-tooltip top v-if=\"checkInput === 1 && item.fileCheck === 2 && item.stateEditFileCheck\">\n                    <v-btn slot=\"activator\" v-on:click.stop=\"changeFileComment(item, index)\" icon class=\"mx-0 my-0\">\n                      <v-icon size=\"16\" class=\"mx-0\" color=\"primary\">send</v-icon>\n                    </v-btn>\n                    <span>Gửi</span>\n                  </v-tooltip>\n                </div>\n                <i v-if=\"item.fileComment && !item.stateEditFileCheck\" style=\"font-size: 12px; color: #0d71bb; margin-left: 10px;\">{{item.fileComment}}</i>\n                <v-tooltip top v-if=\"item.fileComment && !item.stateEditFileCheck && checkInput === 1\">\n                  <v-icon slot=\"activator\" v-on:click.stop=\"item.stateEditFileCheck = !item.stateEditFileCheck\" style=\"font-size: 13px; color: #0d71bb; margin-left: 10px; cursor: pointer;\">edit</v-icon>\n                  <span>Chỉnh sửa ý kiến</span>\n                </v-tooltip>\n                <div v-for=\"(itemFileView, index) in dossierFilesItems\" :key=\"index\" v-if=\"item.partNo === itemFileView.dossierPartNo && !itemFileView.eForm\">\n                  <div style=\"width: calc(100% - 370px);display: flex;align-items: center;min-height: 38px;background: #fff;padding-left: 15px; font-size: 12px;\">\n                    <span v-on:click.stop=\"viewFile2(itemFileView)\" class=\"ml-3\" style=\"cursor: pointer;\">\n                      <v-icon v-if=\"itemFileView.fileSize !== 0\">attach_file</v-icon>\n                      {{itemFileView.displayName}} - \n                      <i>{{itemFileView.modifiedDate}}</i>\n                    </span>\n                    <v-btn icon ripple v-on:click.stop=\"deleteSingleFile(itemFileView, index)\" class=\"mx-0 my-0\" v-if=\"!onlyView && checkInput !== 1\">\n                      <v-icon style=\"color: red\">delete_outline</v-icon>\n                    </v-btn>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <v-card v-if=\"item.hasForm\">\n              <v-card-text style=\"background-color: rgba(244, 247, 213, 0.19);\">\n                <v-layout wrap>\n                  <v-flex xs12 class=\"text-xs-right\" v-if=\"!stateView\">\n                    <v-btn color=\"primary\" @click=\"saveAlpacaForm(item, index)\" \n                    v-if=\"item.hasForm && !onlyView && checkInput !== 1\">Lưu lại</v-btn>\n                    <v-btn color=\"primary\" @click=\"deleteSingleFileEform(item, index)\" v-if=\"item.daKhai && item.hasForm && !onlyView && checkInput !== 1\">Xóa</v-btn>\n                    <v-btn color=\"primary\" @click=\"previewFileEfom(item, index)\" v-if=\"item.daKhai && item.hasForm\">In</v-btn>\n                    <div :id=\"'formAlpaca' + item.partNo + id\" :class='{\"no_acction__event\": onlyView}' v-if=\"!onlyView || item.daKhai\">\n                    </div>\n                  </v-flex>\n                </v-layout>\n              </v-card-text>\n            </v-card>\n          </v-expansion-panel-content>\n        </v-expansion-panel>\n        <div class=\"absolute__btn group__thanh_phan pr-3 mr-1\">\n          <content-placeholders class=\"mt-1\" v-if=\"loading\">\n            <content-placeholders-text :lines=\"1\" />\n          </content-placeholders>\n          <v-layout row wrap v-else>\n            <v-flex style=\"width: 110px;\" class=\"layout wrap\" v-if=\"originality !== 1 && item.partType === 1 && !thongTinHoSo.online && checkInput !== 1\">\n              <!-- <v-radio-group v-model=\"dossierTemplateItems[index].fileMark\" row>\n                <v-radio :value=\"0\"></v-radio>\n                <v-radio :value=\"1\"></v-radio>\n                <v-radio :value=\"2\"></v-radio>\n                <v-radio :value=\"3\"></v-radio>\n              </v-radio-group> -->\n              <v-select\n                :items=\"fileMarkItems\"\n                v-model=\"dossierTemplateItems[index].fileMark\"\n                :disabled=\"onlyView\"\n                @change=\"changeFileMark($event, index)\"\n              ></v-select>\n            </v-flex>\n            <v-flex style=\"width: 120px;\" class=\"layout wrap\" v-if=\"checkInput === 1\">\n              <v-select\n                :items=\"fileCheckItems\"\n                item-text=\"text\"\n                item-value=\"value\"\n                v-model=\"dossierTemplateItems[index].fileCheck\"\n                @change=\"changeFileCheck($event, index)\"\n              ></v-select>\n            </v-flex>\n            <v-flex :style=\"{width: '20px', 'align-items': 'center', 'margin-left': '10px', 'margin-top': thongTinHoSo.online ? '10px' : '0px'}\" class=\"layout wrap\" v-else-if=\"item.fileCheck > 0\">\n              <v-tooltip top v-if=\"item.fileCheck === 1\">\n                <v-icon slot=\"activator\" size=\"16\" class=\"mx-0\" color=\"primary\">done</v-icon>\n                <span>Đạt</span>\n              </v-tooltip>\n              <v-tooltip top v-else-if=\"item.fileCheck === 2\">\n                <v-icon slot=\"activator\" size=\"16\" class=\"mx-0\" color=\"primary\">close</v-icon>\n                <span>Không đạt</span>\n              </v-tooltip>\n            </v-flex>\n            <v-flex :style=\"{width: !onlyView ? '90px' : 'auto'}\" :class=\"{'text-xs-center' : !onlyView, 'text-xs-right' : onlyView}\" v-if=\"checkInput !== 1\">\n              <input\n              type=\"file\"\n              style=\"display: none\"\n              :id=\"'file' + item.partNo\"\n              @change=\"onUploadSingleFile($event, item, index)\"\n              >\n              <v-tooltip top v-if=\"item.partType === 3 && originality === 3 && !onlyView\">\n                <v-btn slot=\"activator\" @click=\"addFileOther(item)\" icon class=\"mx-0 my-0\">\n                  <v-icon size=\"16\" class=\"mx-0\" color=\"primary\">add</v-icon>\n                </v-btn>\n                <span>Thêm giấy tờ khác</span>\n              </v-tooltip>\n              <v-progress-circular\n              :width=\"2\"\n              :size=\"25\"\n              color=\"green\"\n              indeterminate\n              v-if=\"progressUploadPart === item.partNo\"\n              ></v-progress-circular>\n              <v-tooltip top v-else-if=\"progressUploadPart !== item.partNo && !onlyView\">\n                <v-btn slot=\"activator\" icon class=\"mx-0 my-0\" @click=\"pickFile(item)\">\n                  <v-badge>\n                    <v-icon size=\"16\" color=\"primary\">cloud_upload</v-icon>\n                  </v-badge>\n                </v-btn>\n                <span>Tải file lên</span>\n              </v-tooltip>\n              <!-- <v-tooltip top>\n                <v-btn slot=\"activator\" class=\"mx-0\" fab dark small color=\"primary\" @click=\"viewFileWithPartNo(item)\" style=\"height:20px;width:20px\">\n                  {{item.count}}\n                </v-btn>\n                <span>Xem</span>\n              </v-tooltip> -->\n            </v-flex>\n          </v-layout>\n        </div>\n        <!-- <div v-if=\"item.partNo === partView && stateView\">\n          <v-layout row wrap>\n            <v-flex xs12 sm12>\n              <div v-for=\"(itemFileView, index) in fileViews\" :key=\"index\">\n                <div style=\"width: calc(100% - 370px);display: flex;align-items: center;min-height: 38px;background: #fff;padding-left: 15px;\">\n                  <span @click=\"viewFile2(itemFileView)\" class=\"ml-3\" style=\"cursor: pointer;\" v-if=\"!stateEdit\">\n                    <v-icon v-if=\"itemFileView.eForm\">border_color</v-icon>\n                    <v-icon v-else>attach_file</v-icon>\n                    {{itemFileView.displayName}}\n                  </span>\n                  <v-text-field\n                    v-model=\"itemFileView.displayName\"\n                    v-if=\"itemFileView.dossierFileId === dossierFileIdView && stateEdit\"\n                    @change=\"changeDisplayName(itemFileView, index)\"\n                  ></v-text-field>\n                  <v-btn icon ripple @click=\"deleteSingleFile(itemFileView, index)\" class=\"mx-0 my-0\" v-if=\"!onlyView\">\n                    <v-icon style=\"color: red\">delete_outline</v-icon>\n                  </v-btn>\n                </div>\n              </div>\n            </v-flex>\n          </v-layout>\n        </div> -->\n      </div>\n      <v-dialog v-model=\"dialogAddOtherTemp\" max-width=\"400\" transition=\"fade-transition\" persistent>\n        <v-card>\n          <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n            <v-card-title class=\"headline\">Tên giấy tờ</v-card-title>\n            <v-btn icon dark class=\"mx-0 my-0 absolute__btn_panel mr-2\" @click.native=\"cancelDialog\">\n              <v-icon>clear</v-icon>\n            </v-btn>\n            <v-progress-linear v-if=\"loadingAddOther\" class=\"my-0\" :indeterminate=\"true\"></v-progress-linear>\n            <v-card-text class=\"pb-0 pt-4\">\n              <v-layout wrap>\n                <v-flex xs12 class=\"px-2 pb-3\">\n                  <v-text-field\n                  label=\"Tên giấy tờ:\"\n                  v-model=\"otherDossierTemplate\"\n                  :rules=\"[v => !!v || 'Bạn phải điền tên giấy tờ.']\"\n                  required\n                  ></v-text-field>\n                </v-flex>\n              </v-layout>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"red darken-3\" flat=\"flat\" @click.native=\"cancelDialog\">\n                Quay lại\n              </v-btn>\n              <v-btn color=\"primary\" flat=\"flat\" @click.native=\"addOtherTemplate\"\n              :loading=\"loadingAddOther\"\n              >\n              Đồng ý\n              <span slot=\"loader\">Loading...</span>\n            </v-btn>\n          </v-card-actions>\n        </v-form>\n      </v-card>\n    </v-dialog>\n    </v-card>\n    <!-- <div class=\"absolute-lable\" style=\"font-size: 12px\" v-if=\"originality !== 1 && !onlyView\">\n      <span>Không chọn</span>\n      <span>Bản chính</span>\n      <span>Bản chụp</span>\n      <span>Công chứng</span>\n    </div> -->\n    <v-dialog v-model=\"dialogPDF\" max-width=\"900\" transition=\"fade-transition\" style=\"overflow: hidden;\">\n      <v-card>\n        <v-card-title class=\"headline\">File đính kèm</v-card-title>\n        <v-btn icon dark class=\"mx-0 my-0 absolute__btn_panel mr-2\" @click.native=\"dialogPDF = false\">\n          <v-icon>clear</v-icon>\n        </v-btn>\n        <div v-if=\"dialogPDFLoading\" style=\"\n            min-height: 600px;\n            text-align: center;\n            margin: auto;\n            padding: 25%;\n        \">\n          <v-progress-circular\n            :size=\"100\"\n            :width=\"1\"\n            color=\"primary\"\n            indeterminate\n          ></v-progress-circular>\n        </div>\n        <iframe v-show=\"!dialogPDFLoading\" :id=\"'dialogPDFPreview' + id\" src=\"\" type=\"application/pdf\" width=\"100%\" height=\"100%\" style=\"overflow: auto;min-height: 600px;\" frameborder=\"0\">\n        </iframe>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery'\n// import * as utils from '../store/onegate_utils'\nimport toastr from 'toastr'\nexport default {\n  props: {\n    onlyView: {\n      type: Boolean,\n      default: () => false\n    },\n    id: {\n      type: String,\n      default: () => 'nm'\n    },\n    partTypes: {\n      type: Array,\n      default: () => [1, 3]\n    },\n    checkInput: {\n      type: Number,\n      default: () => 0\n    }\n  },\n  data: () => ({\n    dossierTemplateItems: [],\n    dossierMarksItems: [],\n    dossierFilesItems: [],\n    thongTinHoSo: {},\n    valid: true,\n    stateView: false,\n    dialogAddOtherTemp: false,\n    loadingAddOther: false,\n    otherDossierTemplate: '',\n    sheet: false,\n    partView: '',\n    dossierFileIdView: '',\n    stateEdit: false,\n    progressUploadPart: '',\n    dialogPDF: false,\n    dialogPDFLoading: true,\n    stateAddFileOther: false,\n    dossierTemplatesItemSelect: {},\n    fileViews: [],\n    sampleCount: 0,\n    serviceInfoId: 0,\n    fileMarkItems: [{\n      text: 'Không có',\n      value: 0\n    }, {\n      text: 'Bản chụp',\n      value: 1\n    }, {\n      text: 'Bản sao',\n      value: 2\n    }, {\n      text: 'Bản gốc',\n      value: 3\n    }],\n    fileCheckItems: [{\n      text: 'Chưa kiểm tra',\n      value: 0\n    }, {\n      text: 'Đạt',\n      value: 1\n    }, {\n      text: 'Không đạt',\n      value: 2\n    }],\n    fileTemplateItems: [],\n    stateViewResult: true\n  }),\n  computed: {\n    loading () {\n      return this.$store.getters.loading\n    },\n    originality () {\n      var vm = this\n      return vm.getOriginality()\n    },\n    initDataResource () {\n      return this.$store.getters.loadingInitData\n    }\n  },\n  mounted () {\n    var vm = this\n    vm.page = 1\n    vm.$nextTick(function () {\n    })\n  },\n  methods: {\n    resetCounterTemplate ({commit, state}, data) {\n      var vm = this\n      vm.dossierTemplateItems.forEach(val => {\n        if (val.partNo === data.partNo) {\n          if (val.hasForm) {\n            val.count = 1\n          } else {\n            val.count = 0\n          }\n        }\n      })\n    },\n    recountFileTemplates () {\n      var vm = this\n      vm.dossierTemplateItems.forEach(itemTemplate => {\n        itemTemplate.count = 0\n        vm.dossierFilesItems.forEach(itemFile => {\n          if (itemTemplate.partNo === itemFile.dossierPartNo && !itemFile.eForm) {\n            itemTemplate.count ++\n          }\n        })\n      })\n    },\n    initData (data) {\n      var vm = this\n      var arrTemp = []\n      // console.log('dossierId++++++++', data.dossierId)\n      if (data['sampleCount'] !== null && data['sampleCount'] !== undefined && data['sampleCount'] !== 'undefined') {\n        vm.sampleCount = data['sampleCount']\n      }\n      arrTemp.push(vm.$store.dispatch('loadDossierTemplates', data))\n      arrTemp.push(vm.$store.dispatch('loadDossierMark', data))\n      arrTemp.push(vm.$store.dispatch('loadDossierFiles', data.dossierId))\n      arrTemp.push(vm.$store.dispatch('getServiceInfo', {\n        serviceInfoId: data.serviceCode\n      }))\n      vm.thongTinHoSo = data\n      Promise.all(arrTemp).then(values => {\n        var dossierTemplates = values[0]\n        var dossierMarks = values[1]\n        var dossierFiles = values[2]\n        var fileTemplates = []\n        if (values[3].hasOwnProperty('serviceInfoId')) {\n          vm.serviceInfoId = values[3].serviceInfoId\n        }\n        if (values[3].fileTemplates) {\n          if (Array.isArray(values[3].fileTemplates)) {\n            fileTemplates = values[3].fileTemplates\n          } else {\n            fileTemplates.push(values[3].fileTemplates)\n          }\n        }\n        // console.log('dossierTemplates++++++', dossierTemplates)\n        // console.log('dossierMarks++++++', dossierMarks)\n        // console.log('dossierFiles++++++', dossierFiles)\n        var dossierTemplateItems = vm.mergeDossierTemplateVsDossierFiles(dossierTemplates, dossierFiles)\n        // console.log('dossierTemplateItems++++++MERGER++++file', dossierTemplateItems)\n        dossierTemplateItems = vm.mergeDossierTemplateVsDossierMark(dossierTemplateItems, dossierMarks)\n        dossierTemplateItems = vm.mergeDossierTemplateVsFileTemplates(dossierTemplateItems, fileTemplates)\n        // console.log('dossierTemplateItems++++++MERGE++++mark', dossierTemplateItems)\n        vm.dossierFilesItems = dossierFiles\n        vm.dossierMarksItems = dossierMarks\n        vm.fileTemplateItems = fileTemplates\n        vm.dossierTemplateItems = dossierTemplateItems\n        vm.changeStateViewResult()\n        setTimeout(function (argument) {\n          vm.genAllAlpacaForm(dossierFiles, dossierTemplateItems)\n          vm.recountFileTemplates()\n        }, 500)\n        // console.log('dossierTemplateItems', vm.dossierTemplateItems)\n      }).catch(reject => {\n      })\n    },\n    genAllAlpacaForm (dossierFiles, dossierTemplateItems) {\n      var vm = this\n      if (dossierFiles.length > 0) {\n        var dossierFilesEform = dossierFiles.filter(file => {\n          return file.eForm\n        })\n        var dossierTemplatesHasForm = dossierTemplateItems.filter(template => {\n          return template.hasForm && vm.partTypes.includes(template.partType)\n        })\n        if (dossierFilesEform.length > 0) {\n          dossierFilesEform.forEach(itemFiles => {\n            if (itemFiles.eForm) {\n              vm.$store.dispatch('loadAlpcaForm', itemFiles)\n            }\n          })\n        } else {\n          dossierTemplateItems.forEach(val => {\n            if (val.hasForm && vm.partTypes.includes(val.partType)) {\n              val['templateFileNo'] = vm.thongTinHoSo.dossierTemplateNo\n              vm.showAlpacaJSFORM(val)\n            }\n          })\n        }\n        if (dossierTemplatesHasForm.length !== dossierFilesEform.length) {\n          dossierTemplatesHasForm.forEach(template => {\n            let indexFromFile = dossierFilesEform.findIndex(item => {\n              return template.partNo === item.dossierPartNo\n            })\n            if (indexFromFile === -1) {\n              template['templateFileNo'] = vm.thongTinHoSo.dossierTemplateNo\n              vm.showAlpacaJSFORM(template)\n            }\n          })\n        }\n      } else {\n        dossierTemplateItems.forEach(val => {\n          if (val.hasForm && vm.partTypes.includes(val.partType)) {\n            val['templateFileNo'] = vm.thongTinHoSo.dossierTemplateNo\n            vm.showAlpacaJSFORM(val)\n          }\n        })\n      }\n    },\n    postDossierMark (item, index) {\n      var vm = this\n      item['dossierId'] = vm.thongTinHoSo.dossierId\n      vm.$store.dispatch('postDossierMark', item).then(resultMark => {\n      }).catch(reject => {\n      })\n      //   dossierTemplates.forEach(function (val, index) {\n        //     if (val.partType === 1) {\n        //       val['dossierId'] = vm.dossierId\n        //       listDossierMark.push(vm.$store.dispatch('postDossierMark', val))\n        //     }\n        //   })\n    },\n    mergeDossierTemplateVsDossierFiles (dossierTemplates, dossierFiles) {\n      var vm = this\n      if (dossierFiles.length !== 0) {\n        dossierTemplates.forEach(template => {\n          template['daKhai'] = false\n          var itemFind = dossierFiles.find(file => {\n            return template.partNo === file.dossierPartNo && vm.partTypes.includes(template.partType) && file.eForm\n          })\n          if (itemFind) {\n            template['daKhai'] = true\n          } else if (!itemFind && template.hasForm) {\n            template['daKhai'] = false\n          }\n          dossierFiles.forEach(dossierFile => {\n            if (template.partNo === dossierFile.dossierPartNo && !dossierFile.eForm && !template.hasForm) {\n              template['daKhai'] = true\n            }\n          })\n        })\n      } else {\n        dossierTemplates.forEach(template => {\n          if (template.hasForm) {\n            template['daKhai'] = false\n          }\n        })\n      }\n      return dossierTemplates\n    },\n    mergeDossierTemplateVsDossierMark (dossierTemplates, dossierMarks) {\n      if (dossierMarks.length !== 0) {\n        dossierTemplates.map(itemTemplate => {\n          itemTemplate['count'] = 0\n          itemTemplate['stateEditFileCheck'] = false\n          let fileMarkFind = dossierMarks.find(fileMark => {\n            return fileMark.dossierPartNo === itemTemplate.partNo\n          })\n          if (fileMarkFind !== null && fileMarkFind !== undefined) {\n            itemTemplate['fileMark'] = fileMarkFind.fileMark\n            itemTemplate['fileComment'] = fileMarkFind.fileComment\n            itemTemplate['fileCheck'] = fileMarkFind.fileCheck\n          } else {\n            itemTemplate['fileMark'] = 0\n            itemTemplate['fileComment'] = ''\n            itemTemplate['fileCheck'] = 0\n          }\n          return itemTemplate\n        })\n      } else {\n        if (dossierTemplates) {\n          dossierTemplates.forEach(itemTemplate => {\n            itemTemplate['stateEditFileCheck'] = false\n            itemTemplate['count'] = 0\n            itemTemplate['fileMark'] = 0\n            itemTemplate['fileComment'] = ''\n            itemTemplate['fileCheck'] = 0\n            itemTemplate['stateEditFileCheck'] = false\n          })\n        }\n      }\n      return dossierTemplates\n    },\n    mergeDossierTemplateVsFileTemplates (dossierTemplates, fileTemplates) {\n      if (fileTemplates.length !== 0) {\n        dossierTemplates.map(itemTemplate => {\n          let fileTemp = fileTemplates.find(fileTemplate => {\n            return fileTemplate.fileTemplateNo === itemTemplate.fileTemplateNo\n          })\n          if (fileTemp !== null && fileTemp !== undefined) {\n            itemTemplate['hasFileTemp'] = fileTemp.fileTemplateNo\n          } else {\n            itemTemplate['hasFileTemp'] = ''\n          }\n          return itemTemplate\n        })\n      } else {\n        if (dossierTemplates) {\n          dossierTemplates.forEach(itemTemplate => {\n            itemTemplate['hasFileTemp'] = ''\n          })\n        }\n      }\n      return dossierTemplates\n    },\n    showAlpacaJSFORM (item) {\n      var vm = this\n      item['dossierId'] = vm.thongTinHoSo.dossierId\n      vm.$store.dispatch('loadFormScript', item).then(resScript => {\n        vm.$store.dispatch('loadFormData', item).then(resData => {\n          $('#formAlpaca' + item.partNo + vm.id).empty()\n          var formScript, formData\n          /* eslint-disable */\n          if (resScript) {\n            formScript = eval('(' + resScript + ')')\n          } else {\n            formScript = {}\n          }\n          if (resData) {\n            formData = eval('(' + resData + ')')\n          } else {\n            formData = {}\n          }\n          /* eslint-disable */\n          formScript.data = formData\n          $('#formAlpaca' + item.partNo + vm.id).alpaca(formScript)\n        })\n      })\n    },\n    saveAlpacaForm (item, index) {\n      var vm = this\n      var fileFind = vm.dossierFilesItems.find(itemFile => {\n        return itemFile.dossierPartNo === item.partNo && itemFile.eForm\n      })\n      if (fileFind) {\n        fileFind['dossierId'] = vm.thongTinHoSo.dossierId\n        fileFind['id'] = vm.id\n        vm.$store.dispatch('putAlpacaForm', fileFind).then(resData => {\n          // toastr.success('Yêu cầu của bạn được thực hiện thành công.')\n        }).catch(reject => {\n          toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\n        })\n      } else {\n        item['dossierId'] = vm.thongTinHoSo.dossierId\n        item['id'] = vm.id\n        vm.$store.dispatch('postEform', item).then(resPostEform => {\n          // toastr.success('Yêu cầu của bạn được thực hiện thành công.')\n          vm.dossierTemplateItems[index].daKhai = true\n          vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId).then(resFiles => {\n            vm.dossierFilesItems = resFiles\n          }).catch(reject => {\n            toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\n          })\n        }).catch(reject => {\n          toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\n        })\n      }\n    },\n    onDeleteAttackFiles (item) {\n      var vm = this\n      console.log('delete')\n      let x = confirm('Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?')\n      if (x) {\n        vm.dossierFilesItems.forEach(val => {\n          if (val.dossierPartNo === item.partNo) {\n            val['dossierId'] = vm.thongTinHoSo.dossierId\n            vm.$store.dispatch('deleteAttackFiles', val).then(function (result) {\n              vm.resetCounterTemplate(item)\n              vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId)\n            }).catch(function (xhr) {\n            })\n          }\n        })\n      }\n    },\n    pickFile (item) {\n      var vm = this\n      vm.stateAddFileOther = false\n      document.getElementById('file' + item.partNo).click()\n    },\n    onUploadSingleFile (e, data, index) {\n      var vm = this\n      vm.dossierTemplatesItemSelect = data\n      vm.progressUploadPart = data.partNo\n      data['dossierId'] = vm.thongTinHoSo.dossierId\n      data['dossierTemplateNo'] = vm.thongTinHoSo.dossierTemplateNo\n      vm.dossierTemplateItems[index]['daKhai'] = true\n      if (data.partType !== 3) {\n        vm.$store.dispatch('uploadSingleFile', data).then(function (result) {\n          vm.progressUploadPart = ''\n          vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId).then(result => {\n            vm.dossierFilesItems = result\n            vm.recountFileTemplates()\n            // var fileViewsTemp = vm.dossierFilesItems.filter(file => {\n            //   return file.dossierPartNo === vm.dossierTemplatesItemSelect.partNo && !file.eForm\n            // })\n            // if (fileViewsTemp) {\n            //   vm.fileViews = fileViewsTemp\n            // }\n          })\n        }).catch(function (xhr) {\n          vm.progressUploadPart = ''\n        })\n      } else {\n        if ($('#file' + data.partNo)[0].files.length === 0) {\n          vm.progressUploadPart = ''\n          return\n        }\n        vm.partView = data.partNo\n        vm.stateView = true\n        vm.dialogAddOtherTemp = true\n      }\n    },\n    loadAlpcaForm (data) {\n      var vm = this\n      var fileFind = vm.dossierFilesItems.find(itemFile => {\n        return itemFile.dossierPartNo === data.partNo && itemFile.eForm\n      })\n      if (fileFind) {\n        fileFind['id'] = vm.id\n        vm.$store.dispatch('loadAlpcaForm', fileFind)\n      } else {\n        vm.dossierTemplateItems.forEach(val => {\n          if (val.hasForm && data.partNo === val.partNo) {\n            val['templateFileNo'] = vm.thongTinHoSo.dossierTemplateNo\n            vm.showAlpacaJSFORM(val)\n          }\n        })\n      }\n    },\n    deleteSingleFileEform (item, index) {\n      var vm = this\n      let x = confirm('Bạn có muốn xóa?')\n      if (x) {\n        vm.dossierFilesItems.forEach(file => {\n          if (file.dossierPartNo === item.partNo && file.eForm) {\n            file['dossierId'] = vm.thongTinHoSo.dossierId\n            vm.$store.dispatch('deleteDossierFile', file).then(resFile => {\n              console.log('success!')\n              vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId).then(result => {\n                vm.dossierFilesItems = result\n                vm.recountFileTemplates()\n                var fileViewsTemp = vm.dossierFilesItems.filter(file => {\n                  return file.dossierPartNo === item.partNo && !file.eForm\n                })\n                if (fileViewsTemp) {\n                  vm.fileViews = fileViewsTemp\n                }\n              })\n            })\n          }\n        })\n        vm.dossierTemplateItems[index].daKhai = false\n      }\n    },\n    previewFileEfom (item, index) {\n      var vm = this\n      vm.dossierFilesItems.forEach(file => {\n        if (file.dossierPartNo === item.partNo && file.eForm) {\n          file['dossierId'] = vm.thongTinHoSo.dossierId\n          vm.dialogPDFLoading = true\n          vm.dialogPDF = true\n          if (!vm.onlyView) {\n            file['id'] = vm.id\n            vm.$store.dispatch('putAlpacaForm', file).then(resData => {\n              setTimeout(function () {\n                vm.$store.dispatch('viewFile', file).then(result => {\n                  vm.dialogPDFLoading = false\n                  document.getElementById('dialogPDFPreview' + vm.id).src = result\n                })\n              }, 1000)\n            }).catch(reject => {\n              toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\n            })\n          } else {\n            vm.$store.dispatch('viewFile', file).then(result => {\n              vm.dialogPDFLoading = false\n              document.getElementById('dialogPDFPreview' + vm.id).src = result\n            })\n          }\n        }\n      })\n    },\n    deleteSingleFile (item, index) {\n      var vm = this\n      let x = confirm('Bạn có muốn xóa?')\n      if (x) {\n        item['dossierId'] = vm.thongTinHoSo.dossierId\n        vm.$store.dispatch('deleteDossierFile', item).then(resFile => {\n          // toastr.success('Yêu cầu của bạn được thực hiện thành công.')\n          vm.fileViews.splice(index, 1)\n          vm.stateView = true\n          vm.partView = item.dossierPartNo\n          vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId).then(result => {\n            vm.dossierFilesItems = result\n            // vm.recountFileTemplates()\n            vm.setDaKhai(vm.dossierFilesItems)\n          })\n        }).catch(reject => {\n          toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\n        })\n      }\n    },\n    viewFile (data) {\n      var vm = this\n      vm.dossierFilesItems.forEach(val => {\n        val['dossierId'] = vm.thongTinHoSo.dossierId\n        if (val.dossierPartNo === data.partNo) {\n          this.$store.dispatch('viewFile', val)\n        }\n      })\n    },\n    setDaKhai (itemFile) {\n      var vm = this\n      let indexFile = vm.dossierFilesItems.findIndex(file => {\n        return file.dossierPartNo === itemFile.dossierPartNo\n      })\n      if (indexFile === -1) {\n        for (var i = 0; i < vm.dossierTemplateItems.length; i++) {\n          if (vm.dossierTemplateItems[i].partNo === itemFile.dossierPartNo && !vm.dossierTemplateItems[i].hasForm) {\n            vm.dossierTemplateItems[i]['daKhai'] = false\n            break\n          }\n        }\n      }\n    },\n    checkPartType3 () {\n      var vm = this\n      if (vm.dossierTemplateItems.length !== 0) {\n        for (var i = 0; i < vm.dossierTemplateItems.length; i++) {\n          if (vm.dossierTemplateItems[i].partType === 3) {\n            return true\n          }\n        }\n      }\n      return false\n    },\n    viewFile2 (data) {\n      var vm = this\n      if (data.fileSize === 0) {\n        return\n      }\n      if (data.fileType === 'doc' || data.fileType === 'docx' || data.fileType === 'xlsx' || data.fileType === 'xls' || data.fileType === 'zip' || data.fileType === 'rar') {\n        var url = vm.initDataResource.dossierApi + '/' + vm.thongTinHoSo.dossierId + '/files/' + data.referenceUid\n        window.open(url)\n      } else {\n        vm.dialogPDFLoading = true\n        vm.dialogPDF = true\n        data['dossierId'] = vm.thongTinHoSo.dossierId\n        vm.$store.dispatch('viewFile', data).then(result => {\n          vm.dialogPDFLoading = false\n          document.getElementById('dialogPDFPreview' + vm.id).src = result\n        })\n      }\n    },\n    viewFileWithPartNo (item) {\n      var vm = this\n      if (vm.dossierFilesItems) {\n        var fileViewsTemp = vm.dossierFilesItems.filter(file => {\n          return file.dossierPartNo === item.partNo && !file.eForm\n        })\n        if (fileViewsTemp) {\n          vm.fileViews = fileViewsTemp\n          // vm.sheet = true\n          if (vm.partView !== item.partNo) {\n            vm.stateView = true\n            vm.partView = item.partNo\n          } else {\n            vm.stateView = !vm.stateView\n            vm.partView = item.partNo\n          }\n        } else {\n          return\n        }\n      }\n      return\n    },\n    saveMark () {\n      var vm = this\n      if (vm.dossierTemplateItems) {\n        vm.dossierTemplateItems.forEach(function (value, index) {\n          if (value.partType === 1) {\n            value['dossierId'] = vm.thongTinHoSo.dossierId\n            vm.$store.dispatch('postDossierMark', value)\n          }\n        })\n      }\n    },\n    changeFileMark (event, index) {\n      var vm = this\n      console.log('event=====', event)\n      let item = vm.dossierTemplateItems[index]\n      item['dossierId'] = vm.thongTinHoSo.dossierId\n      item['fileMark'] = event\n      item['checkInput'] = vm.checkInput\n      console.log('item-mark-------', item)\n      vm.$store.dispatch('postDossierMark', item)\n      vm.dossierTemplateItems[index].fileMark = event\n    },\n    changeFileCheck (event, index) {\n      var vm = this\n      console.log('event=====', event)\n      let item = vm.dossierTemplateItems[index]\n      item['dossierId'] = vm.thongTinHoSo.dossierId\n      item['fileCheck'] = event\n      item['checkInput'] = vm.checkInput\n      if (event === 2) {\n        item['stateEditFileCheck'] = true\n        return\n      } else {\n        item['fileComment'] = ''\n      }\n      console.log('item-check-------', item)\n      vm.$store.dispatch('postDossierMark', item)\n      vm.dossierTemplateItems[index].fileCheck = event\n    },\n    changeFileComment (item, index) {\n      var vm = this\n      console.log('item-------', item)\n      if (item.fileComment === null || item.fileComment === undefined || item.fileComment === '') {\n        return\n      }\n      item['dossierId'] = vm.thongTinHoSo.dossierId\n      item['fileComment'] = item.fileComment\n      item['checkInput'] = vm.checkInput\n      item['stateEditFileCheck'] = !item['stateEditFileCheck']\n      console.log('item-comment-------', item)\n      vm.$store.dispatch('postDossierMark', item)\n      vm.dossierTemplateItems[index].fileComment = item.fileComment\n    },\n    checkStyle (item) {\n      var vm = this\n      if (vm.checkInput === 1) {\n        return 'calc(100% - 140px)'\n      } else {\n        let divPx = 0\n        if (vm.originality !== 1 && item.partType === 1 && !vm.thongTinHoSo.online && vm.checkInput !== 1) {\n          divPx += 140\n        }\n        if (item.fileCheck > 0 && !vm.thongTinHoSo.online) {\n          divPx += 20\n        }\n        if (item.fileCheck > 0 && vm.thongTinHoSo.online) {\n          divPx += 40\n        }\n        if (!vm.onlyView) {\n          divPx += 90\n        }\n        return 'calc(100% - ' + divPx + 'px)'\n      }\n    },\n    checkVisibleTemp (item, index) {\n      var vm = this\n      if (!vm.onlyView) {\n        return true\n      }\n      if (item.partType === 3) {\n        if (vm.dossierFilesItems.length > 0) {\n          let indexFile = vm.dossierFilesItems.findIndex(file => {\n            return file.dossierPartNo === item.partNo\n          })\n          if (indexFile === -1) {\n            return false\n          } else {\n            return true\n          }\n        } else {\n          return false\n        }\n      } else {\n        return true\n      }\n    },\n    changeStateViewResult () {\n      var vm = this\n      if (vm.dossierFilesItems.length > 0) {\n        let index = vm.dossierFilesItems.findIndex(file => {\n          return file.dossierPartType === 2\n        })\n        if (index !== -1) {\n          vm.$emit('tp:change-state-view-result', true)\n        } else {\n          vm.$emit('tp:change-state-view-result', false)\n        }\n      }\n    },\n    changeOtherDossierTemp (data) {\n      var vm = this\n      if (vm.originality === 3 && vm.stateAddFileOther) {\n        vm.loadingAddOther = true\n        vm.$store.dispatch('uploadSingleOtherFile', {\n          dossierId: vm.thongTinHoSo.dossierId,\n          displayName: data,\n          partNo: vm.dossierTemplatesItemSelect.partNo\n        }).then(resFile => {\n          vm.loadingAddOther = false\n          vm.dialogAddOtherTemp = false\n          vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId).then(result2 => {\n            vm.dossierFilesItems = result2\n          })\n        }).catch(reject => {\n          vm.loadingAddOther = false\n        })\n      } else {\n        console.log('dossierTemplatesItemSelect ', vm.dossierTemplatesItemSelect)\n        let params = vm.dossierTemplatesItemSelect\n        params['dossierId'] = vm.thongTinHoSo.dossierId\n        params['displayName'] = data\n        params['dossierTemplateNo'] = vm.thongTinHoSo.dossierTemplateNo\n        vm.$store.dispatch('uploadSingleFile', params).then(function (result1) {\n          vm.progressUploadPart = ''\n          vm.dialogAddOtherTemp = false\n          console.log('success!!!!!!!!!!!!!!')\n          vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId).then(result2 => {\n            vm.dossierFilesItems = result2\n            vm.recountFileTemplates()\n            if (vm.stateView && vm.dossierFilesItems) {\n              var fileViewsTemp = vm.dossierFilesItems.filter(file => {\n                return file.dossierPartNo === vm.dossierTemplatesItemSelect.partNo && !file.eForm\n              })\n              if (fileViewsTemp) {\n                vm.fileViews = fileViewsTemp\n              }\n            }\n          })\n        }).catch(function (xhr) {\n          vm.progressUploadPart = ''\n        })\n      }\n    },\n    downloadFileTemplate (item, index) {\n      var vm = this\n      if (vm.fileTemplateItems.length > 0) {\n        let fileFind = vm.fileTemplateItems.find(file => {\n          return item.fileTemplateNo === file.fileTemplateNo\n        })\n        if (fileFind) {\n          let url = vm.initDataResource.serviceInfoApi + '/' + vm.serviceInfoId + '/filetemplates/' + fileFind.fileTemplateNo\n          window.open(url)\n        } else {\n          console.log('ko thay file')\n        }\n      }\n    },\n    addOtherTemplate () {\n      var vm = this\n      if (vm.$refs.form.validate()) {\n        console.log('add')\n        vm.changeOtherDossierTemp(vm.otherDossierTemplate)\n      }\n    },\n    editDisplayName (item, index) {\n      var vm = this\n      if (vm.dossierFileIdView !== item.dossierFileId) {\n        vm.dossierFileIdView = item.dossierFileId\n        vm.stateEdit = true\n      } else {\n        vm.dossierFileIdView = item.dossierFileId\n        vm.stateEdit = !vm.stateEdit\n      }\n    },\n    cancelDialog () {\n      var vm = this\n      vm.dialogAddOtherTemp = false\n      vm.progressUploadPart = ''\n    },\n    addFileOther (item) {\n      var vm = this\n      vm.dialogAddOtherTemp = true\n      vm.stateAddFileOther = true\n      vm.dossierTemplatesItemSelect = item\n    },\n    validDossierTemplate () {\n      var vm = this\n      if (vm.dossierTemplateItems.length > 0) {\n        for (var i = 0; i < vm.dossierTemplateItems.length; i++) {\n          if (vm.dossierTemplateItems[i]['required'] && !vm.dossierTemplateItems[i]['daKhai'] && vm.partTypes.includes(vm.dossierTemplateItems[i].partType)) {\n            let message = 'Chú ý :' + vm.dossierTemplateItems[i].partName + ' là thành phần bắt buộc!'\n            toastr.error(message)\n            return false\n          }\n        }\n        return true\n      } else {\n        return true\n      }\n    },\n    changeDisplayName (item, index) {\n      var vm = this\n      let params = {\n        dossierId: vm.thongTinHoSo.dossierId,\n        value: value\n      }\n      vm.$store.dispatch('changeDisplayNameFile', params).then(result => {\n        vm.fileViews[index].displayName = result.displayName\n        vm.stateEdit = false\n      }).catch(reject => {\n        console.log('error')\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// TiepNhanHoSo_ThanhPhanHoSo.vue?50c6d510","(function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.VMoney=t():e.VMoney=t()})(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\".\",t(t.s=9)}([function(e,t,n){\"use strict\";t.a={prefix:\"\",suffix:\"\",thousands:\",\",decimal:\".\",precision:2}},function(e,t,n){\"use strict\";var r=n(2),i=n(5),u=n(0);t.a=function(e,t){if(t.value){var o=n.i(i.a)(u.a,t.value);if(\"INPUT\"!==e.tagName.toLocaleUpperCase()){var a=e.getElementsByTagName(\"input\");1!==a.length||(e=a[0])}e.oninput=function(){var t=e.value.length-e.selectionEnd;e.value=n.i(r.a)(e.value,o),t=Math.max(t,o.suffix.length),t=e.value.length-t,t=Math.max(t,o.prefix.length+1),n.i(r.b)(e,t),e.dispatchEvent(n.i(r.c)(\"change\"))},e.onfocus=function(){n.i(r.b)(e,e.value.length-o.suffix.length)},e.oninput(),e.dispatchEvent(n.i(r.c)(\"input\"))}}},function(e,t,n){\"use strict\";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;\"number\"==typeof e&&(e=e.toFixed(o(t.precision)));var n=e.indexOf(\"-\")>=0?\"-\":\"\",r=u(e),i=c(r,t.precision),a=d(i).split(\".\"),p=a[0],l=a[1];return p=f(p,t.thousands),t.prefix+n+s(p,l,t.decimal)+t.suffix}function i(e,t){var n=e.indexOf(\"-\")>=0?-1:1,r=u(e),i=c(r,t);return parseFloat(i)*n}function u(e){return d(e).replace(/\\D+/g,\"\")||\"0\"}function o(e){return a(0,e,20)}function a(e,t,n){return Math.max(e,Math.min(t,n))}function c(e,t){var n=Math.pow(10,t);return(parseFloat(e)/n).toFixed(o(t))}function f(e,t){return e.replace(/(\\d)(?=(?:\\d{3})+\\b)/gm,\"$1\"+t)}function s(e,t,n){return t?e+n+t:e}function d(e){return e?e.toString():\"\"}function p(e,t){var n=function(){e.setSelectionRange(t,t)};e===document.activeElement&&(n(),setTimeout(n,1))}function l(e){var t=document.createEvent(\"Event\");return t.initEvent(e,!0,!0),t}var m=n(0);n.d(t,\"a\",function(){return r}),n.d(t,\"d\",function(){return i}),n.d(t,\"b\",function(){return p}),n.d(t,\"c\",function(){return l})},function(e,t,n){\"use strict\";function r(e,t){t&&Object.keys(t).map(function(e){a.a[e]=t[e]}),e.directive(\"money\",o.a),e.component(\"money\",u.a)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(6),u=n.n(i),o=n(1),a=n(0);n.d(t,\"Money\",function(){return u.a}),n.d(t,\"VMoney\",function(){return o.a}),n.d(t,\"options\",function(){return a.a}),n.d(t,\"VERSION\",function(){return c});var c=\"0.8.1\";t.default=r,\"undefined\"!=typeof window&&window.Vue&&window.Vue.use(r)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(1),i=n(0),u=n(2);t.default={name:\"Money\",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return i.a.precision}},decimal:{type:String,default:function(){return i.a.decimal}},thousands:{type:String,default:function(){return i.a.thousands}},prefix:{type:String,default:function(){return i.a.prefix}},suffix:{type:String,default:function(){return i.a.suffix}}},directives:{money:r.a},data:function(){return{formattedValue:\"\"}},watch:{value:{immediate:!0,handler:function(e,t){var r=n.i(u.a)(e,this.$props);r!==this.formattedValue&&(this.formattedValue=r)}}},methods:{change:function(e){this.$emit(\"input\",this.masked?e.target.value:n.i(u.d)(e.target.value,this.precision))}}}},function(e,t,n){\"use strict\";t.a=function(e,t){return e=e||{},t=t||{},Object.keys(e).concat(Object.keys(t)).reduce(function(n,r){return n[r]=void 0===t[r]?e[r]:t[r],n},{})}},function(e,t,n){var r=n(7)(n(4),n(8),null,null);e.exports=r.exports},function(e,t){e.exports=function(e,t,n,r){var i,u=e=e||{},o=typeof e.default;\"object\"!==o&&\"function\"!==o||(i=e,u=e.default);var a=\"function\"==typeof u?u.options:u;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),n&&(a._scopeId=n),r){var c=a.computed||(a.computed={});Object.keys(r).forEach(function(e){var t=r[e];c[e]=function(){return t}})}return{esModule:i,exports:u,options:a}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(\"input\",{directives:[{name:\"money\",rawName:\"v-money\",value:{precision:e.precision,decimal:e.decimal,thousands:e.thousands,prefix:e.prefix,suffix:e.suffix},expression:\"{precision, decimal, thousands, prefix, suffix}\"}],staticClass:\"v-money\",attrs:{type:\"tel\"},domProps:{value:e.formattedValue},on:{change:e.change}})},staticRenderFns:[]}},function(e,t,n){e.exports=n(3)}])});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/v-money/dist/v-money.js\n// module id = 648\n// module chunks = 0 1 2 6 7 16 17","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('v-card', [_vm._l((_vm.dossierTemplateItems), function(item, index) {\n    return (_vm.partTypes.includes(item.partType) && _vm.checkVisibleTemp(item, index)) ? _c('div', {\n      key: item.partNo,\n      staticClass: \"form_alpaca\",\n      staticStyle: {\n        \"position\": \"relative\"\n      }\n    }, [_c('v-expansion-panel', {\n      staticClass: \"expaned__list__data\"\n    }, [_c('v-expansion-panel-content', {\n      attrs: {\n        \"hide-actions\": \"\",\n        \"value\": false\n      }\n    }, [_c('div', {\n      staticStyle: {\n        \"background-color\": \"#fff\"\n      },\n      attrs: {\n        \"slot\": \"header\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.stateView = false\n        }\n      },\n      slot: \"header\"\n    }, [_c('div', {\n      staticStyle: {\n        \"align-items\": \"center\",\n        \"min-height\": \"38px\",\n        \"background\": \"#fff\",\n        \"padding-left\": \"15px\"\n      },\n      style: ({\n        width: _vm.checkStyle(item)\n      })\n    }, [_c('div', {\n      staticClass: \"mr-2\",\n      staticStyle: {\n        \"min-width\": \"18px\",\n        \"display\": \"flex\",\n        \"min-height\": \"38px\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.loadAlpcaForm(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"header__tphs\"\n    }, [_c('span', {\n      staticClass: \"text-bold\"\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\"  \")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"header__tphs\"\n    }, [_vm._v(\"\\n                  \" + _vm._s(item.partName) + \"  \"), (item.required) ? _c('span', {\n      staticStyle: {\n        \"color\": \"red\"\n      }\n    }, [_vm._v(\" (*) \")]) : _vm._e(), _vm._v(\"\\n                    \\n                  \"), (item.hasForm && item.daKhai) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('i', {\n      staticClass: \"fa fa-file-text-o\",\n      staticStyle: {\n        \"color\": \"#0d71bb\",\n        \"font-size\": \"13px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"aria-hidden\": \"true\"\n      },\n      slot: \"activator\"\n    }), _vm._v(\" \"), _c('span', [_vm._v(\"Biểu mẫu trực tuyến (Đã khai)\")])]) : _vm._e(), _vm._v(\" \"), (item.hasForm && !item.daKhai) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('i', {\n      staticClass: \"fa fa-file-o\",\n      staticStyle: {\n        \"color\": \"#0d71bb\",\n        \"font-size\": \"13px\"\n      },\n      attrs: {\n        \"slot\": \"activator\"\n      },\n      slot: \"activator\"\n    }), _vm._v(\" \"), _c('span', [_vm._v(\"Biểu mẫu trực tuyến (Chưa khai)\")])]) : _vm._e(), _vm._v(\"\\n                    \\n                  \"), (!item.hasForm && item.hasFileTemp) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-icon', {\n      staticStyle: {\n        \"color\": \"#0d71bb\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.downloadFileTemplate(item, index)\n        }\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"save_alt\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Biểu mẫu điền thủ công\")])], 1) : _vm._e()], 1)]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"display\": \"flex\"\n      }\n    }, [(_vm.checkInput === 1 && item.fileCheck === 2 && item.stateEditFileCheck) ? _c('v-text-field', {\n      attrs: {\n        \"placeholder\": \"Nhập lý do\",\n        \"rules\": [function (v) { return !!v || 'Bạn phải nhập lý do trước khi gửi'; }],\n        \"required\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n        },\n        \"keyup\": function($event) {\n          if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) { return null; }\n          _vm.changeFileComment(item, index)\n        }\n      },\n      model: {\n        value: (item.fileComment),\n        callback: function($$v) {\n          _vm.$set(item, \"fileComment\", $$v)\n        },\n        expression: \"item.fileComment\"\n      }\n    }) : _vm._e(), _vm._v(\" \"), (_vm.checkInput === 1 && item.fileCheck === 2 && item.stateEditFileCheck) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"icon\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.changeFileComment(item, index)\n        }\n      },\n      slot: \"activator\"\n    }, [_c('v-icon', {\n      staticClass: \"mx-0\",\n      attrs: {\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      }\n    }, [_vm._v(\"send\")])], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Gửi\")])], 1) : _vm._e()], 1), _vm._v(\" \"), (item.fileComment && !item.stateEditFileCheck) ? _c('i', {\n      staticStyle: {\n        \"font-size\": \"12px\",\n        \"color\": \"#0d71bb\",\n        \"margin-left\": \"10px\"\n      }\n    }, [_vm._v(_vm._s(item.fileComment))]) : _vm._e(), _vm._v(\" \"), (item.fileComment && !item.stateEditFileCheck && _vm.checkInput === 1) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-icon', {\n      staticStyle: {\n        \"font-size\": \"13px\",\n        \"color\": \"#0d71bb\",\n        \"margin-left\": \"10px\",\n        \"cursor\": \"pointer\"\n      },\n      attrs: {\n        \"slot\": \"activator\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          item.stateEditFileCheck = !item.stateEditFileCheck\n        }\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"edit\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Chỉnh sửa ý kiến\")])], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.dossierFilesItems), function(itemFileView, index) {\n      return (item.partNo === itemFileView.dossierPartNo && !itemFileView.eForm) ? _c('div', {\n        key: index\n      }, [_c('div', {\n        staticStyle: {\n          \"width\": \"calc(100% - 370px)\",\n          \"display\": \"flex\",\n          \"align-items\": \"center\",\n          \"min-height\": \"38px\",\n          \"background\": \"#fff\",\n          \"padding-left\": \"15px\",\n          \"font-size\": \"12px\"\n        }\n      }, [_c('span', {\n        staticClass: \"ml-3\",\n        staticStyle: {\n          \"cursor\": \"pointer\"\n        },\n        on: {\n          \"click\": function($event) {\n            $event.stopPropagation();\n            _vm.viewFile2(itemFileView)\n          }\n        }\n      }, [(itemFileView.fileSize !== 0) ? _c('v-icon', [_vm._v(\"attach_file\")]) : _vm._e(), _vm._v(\"\\n                    \" + _vm._s(itemFileView.displayName) + \" - \\n                    \"), _c('i', [_vm._v(_vm._s(itemFileView.modifiedDate))])], 1), _vm._v(\" \"), (!_vm.onlyView && _vm.checkInput !== 1) ? _c('v-btn', {\n        staticClass: \"mx-0 my-0\",\n        attrs: {\n          \"icon\": \"\",\n          \"ripple\": \"\"\n        },\n        on: {\n          \"click\": function($event) {\n            $event.stopPropagation();\n            _vm.deleteSingleFile(itemFileView, index)\n          }\n        }\n      }, [_c('v-icon', {\n        staticStyle: {\n          \"color\": \"red\"\n        }\n      }, [_vm._v(\"delete_outline\")])], 1) : _vm._e()], 1)]) : _vm._e()\n    })], 2)]), _vm._v(\" \"), (item.hasForm) ? _c('v-card', [_c('v-card-text', {\n      staticStyle: {\n        \"background-color\": \"rgba(244, 247, 213, 0.19)\"\n      }\n    }, [_c('v-layout', {\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [(!_vm.stateView) ? _c('v-flex', {\n      staticClass: \"text-xs-right\",\n      attrs: {\n        \"xs12\": \"\"\n      }\n    }, [(item.hasForm && !_vm.onlyView && _vm.checkInput !== 1) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.saveAlpacaForm(item, index)\n        }\n      }\n    }, [_vm._v(\"Lưu lại\")]) : _vm._e(), _vm._v(\" \"), (item.daKhai && item.hasForm && !_vm.onlyView && _vm.checkInput !== 1) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteSingleFileEform(item, index)\n        }\n      }\n    }, [_vm._v(\"Xóa\")]) : _vm._e(), _vm._v(\" \"), (item.daKhai && item.hasForm) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.previewFileEfom(item, index)\n        }\n      }\n    }, [_vm._v(\"In\")]) : _vm._e(), _vm._v(\" \"), (!_vm.onlyView || item.daKhai) ? _c('div', {\n      class: {\n        \"no_acction__event\": _vm.onlyView\n      },\n      attrs: {\n        \"id\": 'formAlpaca' + item.partNo + _vm.id\n      }\n    }) : _vm._e()], 1) : _vm._e()], 1)], 1)], 1) : _vm._e()], 1)], 1), _vm._v(\" \"), _c('div', {\n      staticClass: \"absolute__btn group__thanh_phan pr-3 mr-1\"\n    }, [(_vm.loading) ? _c('content-placeholders', {\n      staticClass: \"mt-1\"\n    }, [_c('content-placeholders-text', {\n      attrs: {\n        \"lines\": 1\n      }\n    })], 1) : _c('v-layout', {\n      attrs: {\n        \"row\": \"\",\n        \"wrap\": \"\"\n      }\n    }, [(_vm.originality !== 1 && item.partType === 1 && !_vm.thongTinHoSo.online && _vm.checkInput !== 1) ? _c('v-flex', {\n      staticClass: \"layout wrap\",\n      staticStyle: {\n        \"width\": \"110px\"\n      }\n    }, [_c('v-select', {\n      attrs: {\n        \"items\": _vm.fileMarkItems,\n        \"disabled\": _vm.onlyView\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.changeFileMark($event, index)\n        }\n      },\n      model: {\n        value: (_vm.dossierTemplateItems[index].fileMark),\n        callback: function($$v) {\n          _vm.$set(_vm.dossierTemplateItems[index], \"fileMark\", $$v)\n        },\n        expression: \"dossierTemplateItems[index].fileMark\"\n      }\n    })], 1) : _vm._e(), _vm._v(\" \"), (_vm.checkInput === 1) ? _c('v-flex', {\n      staticClass: \"layout wrap\",\n      staticStyle: {\n        \"width\": \"120px\"\n      }\n    }, [_c('v-select', {\n      attrs: {\n        \"items\": _vm.fileCheckItems,\n        \"item-text\": \"text\",\n        \"item-value\": \"value\"\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.changeFileCheck($event, index)\n        }\n      },\n      model: {\n        value: (_vm.dossierTemplateItems[index].fileCheck),\n        callback: function($$v) {\n          _vm.$set(_vm.dossierTemplateItems[index], \"fileCheck\", $$v)\n        },\n        expression: \"dossierTemplateItems[index].fileCheck\"\n      }\n    })], 1) : (item.fileCheck > 0) ? _c('v-flex', {\n      staticClass: \"layout wrap\",\n      style: ({\n        width: '20px',\n        'align-items': 'center',\n        'margin-left': '10px',\n        'margin-top': _vm.thongTinHoSo.online ? '10px' : '0px'\n      })\n    }, [(item.fileCheck === 1) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-icon', {\n      staticClass: \"mx-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"done\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Đạt\")])], 1) : (item.fileCheck === 2) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-icon', {\n      staticClass: \"mx-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"close\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Không đạt\")])], 1) : _vm._e()], 1) : _vm._e(), _vm._v(\" \"), (_vm.checkInput !== 1) ? _c('v-flex', {\n      class: {\n        'text-xs-center': !_vm.onlyView, 'text-xs-right': _vm.onlyView\n      },\n      style: ({\n        width: !_vm.onlyView ? '90px' : 'auto'\n      })\n    }, [_c('input', {\n      staticStyle: {\n        \"display\": \"none\"\n      },\n      attrs: {\n        \"type\": \"file\",\n        \"id\": 'file' + item.partNo\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.onUploadSingleFile($event, item, index)\n        }\n      }\n    }), _vm._v(\" \"), (item.partType === 3 && _vm.originality === 3 && !_vm.onlyView) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"icon\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.addFileOther(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_c('v-icon', {\n      staticClass: \"mx-0\",\n      attrs: {\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      }\n    }, [_vm._v(\"add\")])], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Thêm giấy tờ khác\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.progressUploadPart === item.partNo) ? _c('v-progress-circular', {\n      attrs: {\n        \"width\": 2,\n        \"size\": 25,\n        \"color\": \"green\",\n        \"indeterminate\": \"\"\n      }\n    }) : (_vm.progressUploadPart !== item.partNo && !_vm.onlyView) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"icon\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.pickFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_c('v-badge', [_c('v-icon', {\n      attrs: {\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      }\n    }, [_vm._v(\"cloud_upload\")])], 1)], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Tải file lên\")])], 1) : _vm._e()], 1) : _vm._e()], 1)], 1)], 1) : _vm._e()\n  }), _vm._v(\" \"), _c('v-dialog', {\n    attrs: {\n      \"max-width\": \"400\",\n      \"transition\": \"fade-transition\",\n      \"persistent\": \"\"\n    },\n    model: {\n      value: (_vm.dialogAddOtherTemp),\n      callback: function($$v) {\n        _vm.dialogAddOtherTemp = $$v\n      },\n      expression: \"dialogAddOtherTemp\"\n    }\n  }, [_c('v-card', [_c('v-form', {\n    ref: \"form\",\n    attrs: {\n      \"lazy-validation\": \"\"\n    },\n    model: {\n      value: (_vm.valid),\n      callback: function($$v) {\n        _vm.valid = $$v\n      },\n      expression: \"valid\"\n    }\n  }, [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(\"Tên giấy tờ\")]), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"mx-0 my-0 absolute__btn_panel mr-2\",\n    attrs: {\n      \"icon\": \"\",\n      \"dark\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.cancelDialog($event)\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"clear\")])], 1), _vm._v(\" \"), (_vm.loadingAddOther) ? _c('v-progress-linear', {\n    staticClass: \"my-0\",\n    attrs: {\n      \"indeterminate\": true\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('v-card-text', {\n    staticClass: \"pb-0 pt-4\"\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    staticClass: \"px-2 pb-3\",\n    attrs: {\n      \"xs12\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"label\": \"Tên giấy tờ:\",\n      \"rules\": [function (v) { return !!v || 'Bạn phải điền tên giấy tờ.'; }],\n      \"required\": \"\"\n    },\n    model: {\n      value: (_vm.otherDossierTemplate),\n      callback: function($$v) {\n        _vm.otherDossierTemplate = $$v\n      },\n      expression: \"otherDossierTemplate\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('v-card-actions', [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"red darken-3\",\n      \"flat\": \"flat\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.cancelDialog($event)\n      }\n    }\n  }, [_vm._v(\"\\n              Quay lại\\n            \")]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"flat\": \"flat\",\n      \"loading\": _vm.loadingAddOther\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.addOtherTemplate($event)\n      }\n    }\n  }, [_vm._v(\"\\n            Đồng ý\\n            \"), _c('span', {\n    attrs: {\n      \"slot\": \"loader\"\n    },\n    slot: \"loader\"\n  }, [_vm._v(\"Loading...\")])])], 1)], 1)], 1)], 1)], 2), _vm._v(\" \"), _c('v-dialog', {\n    staticStyle: {\n      \"overflow\": \"hidden\"\n    },\n    attrs: {\n      \"max-width\": \"900\",\n      \"transition\": \"fade-transition\"\n    },\n    model: {\n      value: (_vm.dialogPDF),\n      callback: function($$v) {\n        _vm.dialogPDF = $$v\n      },\n      expression: \"dialogPDF\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(\"File đính kèm\")]), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"mx-0 my-0 absolute__btn_panel mr-2\",\n    attrs: {\n      \"icon\": \"\",\n      \"dark\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialogPDF = false\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"clear\")])], 1), _vm._v(\" \"), (_vm.dialogPDFLoading) ? _c('div', {\n    staticStyle: {\n      \"min-height\": \"600px\",\n      \"text-align\": \"center\",\n      \"margin\": \"auto\",\n      \"padding\": \"25%\"\n    }\n  }, [_c('v-progress-circular', {\n    attrs: {\n      \"size\": 100,\n      \"width\": 1,\n      \"color\": \"primary\",\n      \"indeterminate\": \"\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('iframe', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.dialogPDFLoading),\n      expression: \"!dialogPDFLoading\"\n    }],\n    staticStyle: {\n      \"overflow\": \"auto\",\n      \"min-height\": \"600px\"\n    },\n    attrs: {\n      \"id\": 'dialogPDFPreview' + _vm.id,\n      \"src\": \"\",\n      \"type\": \"application/pdf\",\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"frameborder\": \"0\"\n    }\n  })], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-687ee6a0\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-687ee6a0\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/TiepNhan/TiepNhanHoSo_ThanhPhanHoSo.vue\n// module id = 649\n// module chunks = 0 1 2 6 10 13 28","<template>\n  <div style=\"width:100%\" class=\"payment-info\">\n    <v-expansion-panel class=\"expansion-pl\">\n      <v-expansion-panel-content hide-actions value=\"1\">\n        <div slot=\"header\">\n          <div class=\"background-triangle-small\"> \n            <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \n          </div>\n          <span v-if=\"data_payment.requestPayment === 1 || data_payment.requestPayment === 5\">{{data_payment.paymentFee}}</span>\n          <span v-if=\"data_payment.requestPayment === 2\">Lập phiếu thanh toán</span>\n        </div>\n        <v-card>\n          <v-card-text class=\"pb-1\">\n            <v-layout wrap>\n              <v-flex xs12 sm2>\n                <v-subheader class=\"pl-0 text-right\">Lệ phí: </v-subheader>\n              </v-flex>\n              <v-flex xs12 sm3>\n                <v-text-field\n                  @keyup=\"changeFee\"\n                  v-model=\"data_payment.feeAmount\"\n                  v-money=\"money\"\n                  suffix=\"vnđ\"\n                  v-if=\"data_payment.editable === 1 || data_payment.editable === 3\"\n                ></v-text-field>\n                <p class=\"mt-1 mb-0\" v-else>{{currency(data_payment.feeAmount.toString().replace(/\\./g, ''))}} &nbsp;&nbsp; vnđ</p>\n              </v-flex>\n              <!--  -->\n              <v-flex xs12 sm2>\n                <v-subheader class=\"pl-0 text-right\">Phí: </v-subheader>\n              </v-flex>\n              <v-flex xs12 sm3>\n                <v-text-field\n                  @keyup=\"changeFee\"\n                  v-model=\"data_payment.serviceAmount\"\n                  v-money=\"money\"\n                  suffix=\"vnđ\"\n                  v-if=\"data_payment.editable === 2 || data_payment.editable === 3\"\n                ></v-text-field>\n                <p class=\"mt-1 mb-0\" v-else>{{currency(data_payment.serviceAmount.toString().replace(/\\./g, ''))}} &nbsp;&nbsp; vnđ</p>\n              </v-flex>\n              <!--  -->\n              <!--  -->\n              <!-- <v-flex xs12 sm4 v-if=\"viaPortal === 2\">\n                <v-subheader class=\"pl-0 text-right\">Phí chuyển phát: </v-subheader>\n              </v-flex>\n              <v-flex xs12 sm3 v-if=\"viaPortal === 2\">\n                <v-text-field\n                  @keyup=\"changeFee\"\n                  v-model=\"data_payment.shipAmount\"\n                  v-money=\"money\"\n                  suffix=\"vnđ\"\n                  :class=\"!data_payment.editable?'inputDisable':''\"\n                ></v-text-field>\n              </v-flex> -->\n              <v-flex xs12 sm2></v-flex>\n            </v-layout>\n          </v-card-text>\n          <v-card-text class=\"pt-0\">\n            <v-layout wrap>\n              <v-flex xs12 sm2 v-if=\"data_payment.requestPayment === 1\" >\n                <v-subheader class=\"pl-0 text-right\">Tổng: </v-subheader>\n              </v-flex>\n              <v-flex xs12 sm3 class=\"pt-1\" v-if=\"data_payment.requestPayment === 1\">\n                <span>{{currency(feeTong.toString().replace(/\\./g, ''))}} &nbsp;&nbsp; vnđ</span>\n              </v-flex>\n              <v-flex xs12 sm1 v-if=\"data_payment.requestPayment === 1\" ></v-flex>\n              <!-- requestPayment === 2 -->\n              <v-flex xs12 sm2 v-if=\"data_payment.requestPayment === 2\">\n                <v-subheader class=\"pl-0 text-right\">Tổng: </v-subheader>\n              </v-flex>\n              <v-flex xs12 sm3 class=\"pt-1\" v-if=\"data_payment.requestPayment === 2\">\n                <span>{{currency(totalFee.toString().replace(/\\./g, ''))}} &nbsp;&nbsp; vnđ</span>\n              </v-flex>\n              <v-flex xs12 sm1 v-if=\"data_payment.requestPayment === 2\"></v-flex>\n              <!-- requestPayment === 5\" -->\n              <v-flex xs12 sm2 v-if=\"data_payment.requestPayment === 5\">\n                <v-subheader class=\"pl-0 text-right\">Tổng: </v-subheader>\n              </v-flex>\n              <v-flex xs12 sm3 class=\"pt-1\" v-if=\"data_payment.requestPayment === 5\">\n                <span>{{currency(feeTong.toString().replace(/\\./g, ''))}} &nbsp;&nbsp; vnđ</span>\n              </v-flex>\n              <!--  -->\n              <v-flex xs12 sm2 v-if=\"data_payment.requestPayment === 5\">\n                <v-subheader class=\"pl-0 text-right\">Đã tạm nộp: </v-subheader>\n              </v-flex>\n              <v-flex xs12 sm3 class=\"pt-2\" v-if=\"data_payment.requestPayment === 5\">\n                <!-- <span>{{data_payment.advanceAmount}} vnđ</span> -->\n                <span>{{currency((Number(data_payment.advanceAmount.toString().replace(/\\./g, ''))).toString().replace(/\\./g, ''))}} &nbsp;&nbsp; vnđ</span>\n              </v-flex>\n              <v-flex xs12 sm1 v-if=\"data_payment.requestPayment === 5\"></v-flex>\n              <!--  -->\n              <v-flex xs12 sm2 v-if=\"data_payment.requestPayment === 5\">\n                <v-subheader class=\"pl-0 text-right\">Còn phải nộp: </v-subheader>\n              </v-flex>\n              <v-flex xs12 sm3 class=\"pt-2\" v-if=\"data_payment.requestPayment === 5\">\n                <span>{{currency(totalFee.toString().replace(/\\./g, ''))}} &nbsp;&nbsp; vnđ</span>\n              </v-flex>\n              <v-flex xs12 sm1 v-if=\"data_payment.requestPayment === 5\"></v-flex>\n            </v-layout>\n            <!-- <p class=\"mt-2\" style=\"margin-left: 100px\" v-if=\"data_payment.paymentNote\">\n              <span class=\"red--text\">* </span>&nbsp;&nbsp; {{data_payment.paymentNote}}\n            </p> -->\n            <v-layout wrap style=\"position: relative\">\n              <v-flex style=\"width:70px\" class=\"my-0 py-1\"><span class=\"red--text\">* </span>&nbsp;Ghi chú:</v-flex>\n              <v-flex style=\"width:calc(100% - 80px)\">\n                <div v-if=\"activeEdit == false\" class=\"pl-2\">\n                  <v-text-field class=\"py-0\"\n                  v-model=\"data_payment.paymentNote\"\n                  multi-line\n                  :readonly='activeEdit'\n                  required\n                  ></v-text-field>\n                </div>\n                <p class=\"px-2 my-0 py-1\" v-if=\"activeEdit||data_payment.paymentNote===''\">\n                  {{data_payment.paymentNote}} &nbsp;&nbsp;\n                  <v-icon color=\"blue\" size=\"20\" class=\"hover-pointer btn-add mx-0 my-0\" title=\"Sửa\" v-on:click.stop=\"activeEdit = false\" \n                  v-if=\"activeEdit==true\" grey darken-4>\n                    create\n                  </v-icon>\n                </p>\n                <span style=\"position:absolute;top:15px; right:10px\">\n                  <v-icon color=\"green\" size=\"25\" class=\"hover-pointer btn-add mx-0 my-0\" v-on:click.stop=\"activeEdit = true\" \n                  v-if=\"activeEdit==false\" grey darken-4>\n                    check\n                  </v-icon>\n                </span>\n              </v-flex>\n            </v-layout>\n          </v-card-text>\n        </v-card>\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n  </div>\n</template>\n\n<script>\n\nimport {VMoney} from 'v-money'\nexport default {\n  props: {\n    payments: {\n      type: Object,\n      default: () => {}\n    },\n    viaPortal: {\n      type: Number,\n      default: () => 0\n    }\n  },\n  model: {\n    prop: 'payments'\n  },\n  data: () => ({\n    data_payment: {},\n    money: {\n      decimal: '',\n      thousands: '.',\n      prefix: '',\n      suffix: '',\n      precision: 0,\n      masked: false\n    },\n    totalFee: 0,\n    feeTamThu: 0,\n    feeTong: 0,\n    checkPaid: true,\n    activeEdit: true\n  }),\n  directives: {money: VMoney},\n  created () {\n    var vm = this\n    vm.data_payment = vm.payments\n    if (vm.payments) {\n      setTimeout(function () {\n        let feeAmount = vm.payments.feeAmount ? Number(vm.payments.feeAmount.toString().replace(/\\./g, '')) : 0\n        // let shipAmount = vm.payments.shipAmount ? Number(vm.payments.shipAmount.toString().replace(/\\./g, '')) : 0\n        if (vm.payments.requestPayment === 1) {\n          let advanceAmount = vm.payments.advanceAmount ? Number(vm.payments.advanceAmount.toString().replace(/\\./g, '')) : 0\n          vm.totalFee = advanceAmount\n        } else if (vm.payments.requestPayment === 2) {\n          let serviceAmount = vm.payments.serviceAmount ? Number(vm.payments.serviceAmount.toString().replace(/\\./g, '')) : 0\n          vm.totalFee = feeAmount + serviceAmount\n        } else {\n          let advanceAmount = vm.payments.advanceAmount ? Number(vm.payments.advanceAmount.toString().replace(/\\./g, '')) : 0\n          let serviceAmount = vm.payments.serviceAmount ? Number(vm.payments.serviceAmount.toString().replace(/\\./g, '')) : 0\n          vm.feeTong = feeAmount + serviceAmount\n          vm.totalFee = feeAmount + serviceAmount - advanceAmount\n        }\n        if (vm.totalFee < 0) {\n          vm.totalFee = 0\n        }\n      }, 200)\n    }\n  },\n  methods: {\n    changeFee () {\n      var vm = this\n      let val = vm.data_payment\n      let feeAmount = val.feeAmount ? Number(val.feeAmount.toString().replace(/\\./g, '')) : 0\n      if (val.requestPayment === 1) {\n        let advanceAmount = Number(val.advanceAmount.toString().replace(/\\./g, ''))\n        vm.totalFee = advanceAmount\n      } else if (val.requestPayment === 2) {\n        let serviceAmount = Number(val.serviceAmount.toString().replace(/\\./g, ''))\n        vm.totalFee = feeAmount + serviceAmount\n      } else {\n        let advanceAmount = Number(val.advanceAmount.toString().replace(/\\./g, ''))\n        let serviceAmount = Number(val.serviceAmount.toString().replace(/\\./g, ''))\n        vm.feeTong = feeAmount + serviceAmount\n        vm.totalFee = feeAmount + serviceAmount - advanceAmount\n      }\n      if (vm.totalFee < 0) {\n        vm.totalFee = 0\n      }\n    },\n    currency (value) {\n      if (value) {\n        let moneyCur = (value / 1).toFixed(0).replace('.', ',')\n        return moneyCur.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')\n      }\n      return ''\n    },\n    goBack () {\n      window.history.back()\n    }\n  },\n  filters: {}\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// FeeDetail.vue?5f975198","\n<template>\n  <label role='checkbox'\n  :title='toggled?title_checked:title_unchecked'\n  :style='maxWidth'\n  :class='className'\n  :aria-checked='ariaChecked'>\n    <input type='checkbox'\n    class='v-switch-input'\n    @change.stop='toggle'>\n    <div class='v-switch-core'\n    :style='coreStyle'>\n      <div class='v-switch-button'\n      :style='buttonStyle'/>\n    </div>\n    <template v-if='labels'>\n      <span class='v-switch-label v-left'\n      :style='labelStyle'\n      v-if='toggled'\n      v-html='labelChecked'/>\n      <span class='v-switch-label v-right'\n      :style='labelStyle'\n      v-else\n      v-html='labelUnchecked'/>\n    </template>\n  </label>\n</template>\n<script>\nconst constants = {\n  colorChecked: '#75C791',\n  colorUnchecked: '#bfcbd9',\n  cssColors: false,\n  labelChecked: 'on',\n  labelUnchecked: 'off',\n  width: 50,\n  height: 22,\n  margin: 3\n}\n\nconst contains = (object, title) => {\n  return typeof object === 'object' && object.hasOwnProperty(title)\n}\n\nconst px = v => v + 'px'\n\nexport default {\n  name: 'toggle-button',\n  props: {\n    title_checked: '',\n    title_unchecked: '',\n    value: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    sync: {\n      type: Boolean,\n      default: false\n    },\n    speed: {\n      type: Number,\n      default: 300\n    },\n    color: {\n      type: [String, Object],\n      validator (value) {\n        return typeof value === 'object'\n          ? value.checked || value.unchecked\n          : typeof value === 'string'\n      }\n    },\n    cssColors: {\n      type: Boolean,\n      default: false\n    },\n    labels: {\n      type: [Boolean, Object],\n      default: false,\n      validator (value) {\n        return typeof value === 'object'\n          ? value.checked || value.unchecked\n          : typeof value === 'boolean'\n      }\n    },\n    height: {\n      type: Number,\n      default: constants.height\n    },\n    width: {\n      type: Number,\n      default: constants.width\n    }\n  },\n  computed: {\n    className () {\n      let { toggled, disabled } = this\n      return ['vue-js-switch', { toggled, disabled }]\n    },\n\n    ariaChecked () {\n      return this.toggled.toString()\n    },\n    coreStyle () {\n      return {\n        width: px(this.width),\n        height: px(this.height),\n        backgroundColor: this.cssColors ? null : this.colorCurrent,\n        borderRadius: px(Math.round(this.height / 2))\n      }\n    },\n    maxWidth () {\n      return {\n        width: px(this.width) + '!important'\n      }\n    },\n    buttonRadius () {\n      return this.height - constants.margin * 2\n    },\n    distance () {\n      return px(this.width - this.height + constants.margin)\n    },\n    buttonStyle () {\n      return {\n        width: px(this.buttonRadius),\n        height: px(this.buttonRadius),\n        transition: `transform ${this.speed}ms`,\n        transform: this.toggled\n          ? `translate3d(${this.distance}, 3px, 0px)`\n          : null\n      }\n    },\n    labelStyle () {\n      return {\n        lineHeight: px(this.height)\n      }\n    },\n    colorChecked () {\n      let { color } = this\n      if (typeof color !== 'object') {\n        return color || constants.colorChecked\n      }\n      return contains(color, 'checked')\n        ? color.checked\n        : constants.colorChecked\n    },\n    colorUnchecked () {\n      let { color } = this\n      return contains(color, 'unchecked')\n        ? color.unchecked\n        : constants.colorUnchecked\n    },\n    colorCurrent () {\n      return this.toggled ? this.colorChecked : this.colorUnchecked\n    },\n    labelChecked () {\n      return contains(this.labels, 'checked')\n        ? this.labels.checked\n        : constants.labelChecked\n    },\n    labelUnchecked () {\n      return contains(this.labels, 'unchecked')\n        ? this.labels.unchecked\n        : constants.labelUnchecked\n    }\n  },\n  watch: {\n    value (value) {\n      if (this.sync) {\n        this.toggled = !!value\n      }\n    }\n  },\n  data () {\n    return {\n      toggled: !!this.value\n    }\n  },\n  methods: {\n    toggle (event) {\n      this.toggled = !this.toggled\n      this.$emit('input', this.toggled)\n      this.$emit('change', {\n        value: this.toggled,\n        srcEvent: event\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// toggleButton.vue?81a9fcc2","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/symbol.js\n// module id = 653\n// module chunks = 0 1 6 7 8 9","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/symbol/iterator.js\n// module id = 654\n// module chunks = 0 1 6 7 8 9","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/symbol/index.js\n// module id = 658\n// module chunks = 0 1 6 7 8 9","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/symbol/iterator.js\n// module id = 659\n// module chunks = 0 1 6 7 8 9","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_enum-keys.js\n// module id = 660\n// module chunks = 0 1 6 7 8 9","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-array.js\n// module id = 661\n// module chunks = 0 1 6 7 8 9","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_meta.js\n// module id = 662\n// module chunks = 0 1 6 7 8 9","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopd.js\n// module id = 663\n// module chunks = 0 1 6 7 8 9","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopn-ext.js\n// module id = 664\n// module chunks = 0 1 6 7 8 9","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.symbol.js\n// module id = 666\n// module chunks = 0 1 6 7 8 9","require('./_wks-define')('asyncIterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 667\n// module chunks = 0 1 6 7 8 9","require('./_wks-define')('observable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es7.symbol.observable.js\n// module id = 668\n// module chunks = 0 1 6 7 8 9","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"payment-info\",\n    staticStyle: {\n      \"width\": \"100%\"\n    }\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\" \"), (_vm.data_payment.requestPayment === 1 || _vm.data_payment.requestPayment === 5) ? _c('span', [_vm._v(_vm._s(_vm.data_payment.paymentFee))]) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 2) ? _c('span', [_vm._v(\"Lập phiếu thanh toán\")]) : _vm._e()]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', {\n    staticClass: \"pb-1\"\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm2\": \"\"\n    }\n  }, [_c('v-subheader', {\n    staticClass: \"pl-0 text-right\"\n  }, [_vm._v(\"Lệ phí: \")])], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  }, [(_vm.data_payment.editable === 1 || _vm.data_payment.editable === 3) ? _c('v-text-field', {\n    directives: [{\n      name: \"money\",\n      rawName: \"v-money\",\n      value: (_vm.money),\n      expression: \"money\"\n    }],\n    attrs: {\n      \"suffix\": \"vnđ\"\n    },\n    on: {\n      \"keyup\": _vm.changeFee\n    },\n    model: {\n      value: (_vm.data_payment.feeAmount),\n      callback: function($$v) {\n        _vm.$set(_vm.data_payment, \"feeAmount\", $$v)\n      },\n      expression: \"data_payment.feeAmount\"\n    }\n  }) : _c('p', {\n    staticClass: \"mt-1 mb-0\"\n  }, [_vm._v(_vm._s(_vm.currency(_vm.data_payment.feeAmount.toString().replace(/\\./g, ''))) + \"    vnđ\")])], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm2\": \"\"\n    }\n  }, [_c('v-subheader', {\n    staticClass: \"pl-0 text-right\"\n  }, [_vm._v(\"Phí: \")])], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  }, [(_vm.data_payment.editable === 2 || _vm.data_payment.editable === 3) ? _c('v-text-field', {\n    directives: [{\n      name: \"money\",\n      rawName: \"v-money\",\n      value: (_vm.money),\n      expression: \"money\"\n    }],\n    attrs: {\n      \"suffix\": \"vnđ\"\n    },\n    on: {\n      \"keyup\": _vm.changeFee\n    },\n    model: {\n      value: (_vm.data_payment.serviceAmount),\n      callback: function($$v) {\n        _vm.$set(_vm.data_payment, \"serviceAmount\", $$v)\n      },\n      expression: \"data_payment.serviceAmount\"\n    }\n  }) : _c('p', {\n    staticClass: \"mt-1 mb-0\"\n  }, [_vm._v(_vm._s(_vm.currency(_vm.data_payment.serviceAmount.toString().replace(/\\./g, ''))) + \"    vnđ\")])], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm2\": \"\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('v-card-text', {\n    staticClass: \"pt-0\"\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [(_vm.data_payment.requestPayment === 1) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm2\": \"\"\n    }\n  }, [_c('v-subheader', {\n    staticClass: \"pl-0 text-right\"\n  }, [_vm._v(\"Tổng: \")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 1) ? _c('v-flex', {\n    staticClass: \"pt-1\",\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.currency(_vm.feeTong.toString().replace(/\\./g, ''))) + \"    vnđ\")])]) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 1) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm1\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 2) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm2\": \"\"\n    }\n  }, [_c('v-subheader', {\n    staticClass: \"pl-0 text-right\"\n  }, [_vm._v(\"Tổng: \")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 2) ? _c('v-flex', {\n    staticClass: \"pt-1\",\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.currency(_vm.totalFee.toString().replace(/\\./g, ''))) + \"    vnđ\")])]) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 2) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm1\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 5) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm2\": \"\"\n    }\n  }, [_c('v-subheader', {\n    staticClass: \"pl-0 text-right\"\n  }, [_vm._v(\"Tổng: \")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 5) ? _c('v-flex', {\n    staticClass: \"pt-1\",\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.currency(_vm.feeTong.toString().replace(/\\./g, ''))) + \"    vnđ\")])]) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 5) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm2\": \"\"\n    }\n  }, [_c('v-subheader', {\n    staticClass: \"pl-0 text-right\"\n  }, [_vm._v(\"Đã tạm nộp: \")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 5) ? _c('v-flex', {\n    staticClass: \"pt-2\",\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.currency((Number(_vm.data_payment.advanceAmount.toString().replace(/\\./g, ''))).toString().replace(/\\./g, ''))) + \"    vnđ\")])]) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 5) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm1\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 5) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm2\": \"\"\n    }\n  }, [_c('v-subheader', {\n    staticClass: \"pl-0 text-right\"\n  }, [_vm._v(\"Còn phải nộp: \")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 5) ? _c('v-flex', {\n    staticClass: \"pt-2\",\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.currency(_vm.totalFee.toString().replace(/\\./g, ''))) + \"    vnđ\")])]) : _vm._e(), _vm._v(\" \"), (_vm.data_payment.requestPayment === 5) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm1\": \"\"\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('v-layout', {\n    staticStyle: {\n      \"position\": \"relative\"\n    },\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    staticClass: \"my-0 py-1\",\n    staticStyle: {\n      \"width\": \"70px\"\n    }\n  }, [_c('span', {\n    staticClass: \"red--text\"\n  }, [_vm._v(\"* \")]), _vm._v(\" Ghi chú:\")]), _vm._v(\" \"), _c('v-flex', {\n    staticStyle: {\n      \"width\": \"calc(100% - 80px)\"\n    }\n  }, [(_vm.activeEdit == false) ? _c('div', {\n    staticClass: \"pl-2\"\n  }, [_c('v-text-field', {\n    staticClass: \"py-0\",\n    attrs: {\n      \"multi-line\": \"\",\n      \"readonly\": _vm.activeEdit,\n      \"required\": \"\"\n    },\n    model: {\n      value: (_vm.data_payment.paymentNote),\n      callback: function($$v) {\n        _vm.$set(_vm.data_payment, \"paymentNote\", $$v)\n      },\n      expression: \"data_payment.paymentNote\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), (_vm.activeEdit || _vm.data_payment.paymentNote === '') ? _c('p', {\n    staticClass: \"px-2 my-0 py-1\"\n  }, [_vm._v(\"\\n                \" + _vm._s(_vm.data_payment.paymentNote) + \"   \\n                \"), (_vm.activeEdit == true) ? _c('v-icon', {\n    staticClass: \"hover-pointer btn-add mx-0 my-0\",\n    attrs: {\n      \"color\": \"blue\",\n      \"size\": \"20\",\n      \"title\": \"Sửa\",\n      \"grey\": \"\",\n      \"darken-4\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.activeEdit = false\n      }\n    }\n  }, [_vm._v(\"\\n                  create\\n                \")]) : _vm._e()], 1) : _vm._e(), _vm._v(\" \"), _c('span', {\n    staticStyle: {\n      \"position\": \"absolute\",\n      \"top\": \"15px\",\n      \"right\": \"10px\"\n    }\n  }, [(_vm.activeEdit == false) ? _c('v-icon', {\n    staticClass: \"hover-pointer btn-add mx-0 my-0\",\n    attrs: {\n      \"color\": \"green\",\n      \"size\": \"25\",\n      \"grey\": \"\",\n      \"darken-4\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.activeEdit = true\n      }\n    }\n  }, [_vm._v(\"\\n                  check\\n                \")]) : _vm._e()], 1)])], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-6830f0e4\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6830f0e4\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/FeeDetail.vue\n// module id = 671\n// module chunks = 0 1 2 6 7 16","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('label', {\n    class: _vm.className,\n    style: (_vm.maxWidth),\n    attrs: {\n      \"role\": \"checkbox\",\n      \"title\": _vm.toggled ? _vm.title_checked : _vm.title_unchecked,\n      \"aria-checked\": _vm.ariaChecked\n    }\n  }, [_c('input', {\n    staticClass: \"v-switch-input\",\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    on: {\n      \"change\": function($event) {\n        $event.stopPropagation();\n        return _vm.toggle($event)\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"v-switch-core\",\n    style: (_vm.coreStyle)\n  }, [_c('div', {\n    staticClass: \"v-switch-button\",\n    style: (_vm.buttonStyle)\n  })]), _vm._v(\" \"), (_vm.labels) ? [(_vm.toggled) ? _c('span', {\n    staticClass: \"v-switch-label v-left\",\n    style: (_vm.labelStyle),\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.labelChecked)\n    }\n  }) : _c('span', {\n    staticClass: \"v-switch-label v-right\",\n    style: (_vm.labelStyle),\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.labelUnchecked)\n    }\n  })] : _vm._e()], 2)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-7cc31a58\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7cc31a58\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/toggleButton.vue\n// module id = 672\n// module chunks = 0 1 6 7 8 9","<template>  \n  <div class=\"phancong\" style=\"background-color: white;width:100%\">\n    <v-expansion-panel class=\"expansion-pl\">\n      <v-expansion-panel-content hide-actions value=\"1\">\n        <div slot=\"header\">\n          <div class=\"background-triangle-small\"> \n            <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \n          </div>Chọn người thực hiện\n        </div>\n        <v-card >\n          <v-card-text v-if=\"type === 1\" class=\"py-1\">\n            <v-layout wrap>\n              <v-checkbox v-for=\"(item, index) in data_phancong\" v-bind:key=\"item.userId\"\n              v-model=\"item.assigned\"\n              :label=\"item.userName\"\n              @change = 'changeAssigned($event, index)'\n              style=\"display:inline-block\"\n              ></v-checkbox>\n            </v-layout>\n            <span class=\"ml-3\" v-if=\"!assignValidate\" style=\"color:#f44336\">* Yêu cầu chọn người để thực hiện</span>\n          </v-card-text>\n          <!--  -->\n          <v-card-text v-else class=\"px-2 py-1\">\n            <v-layout wrap class=\"my-1\">\n              <div class=\"ml-3\" v-for=\"(item, index) in data_phancong\" v-bind:key=\"item.userId\">\n                <v-layout wrap>\n                  <v-tooltip top>\n                    <v-checkbox \n                      slot=\"activator\"\n                      v-model=\"item.assigned\"\n                      :label=\"item.userName\"\n                      @change = 'checkAsign($event, index)'\n                      style=\"min-width:150px\"\n                    ></v-checkbox>\n                    <span class=\"pl-0\"> {{item.userName}} </span>\n                  </v-tooltip>\n                  \n                  <toggle-button class=\"mx-1 btn-tgl\"\n                  :id=\"`btn-${index}`\"                                           \n                  v-model=\"presenterAddGroup\"\n                  title_checked = \"Thực hiện\"\n                  title_unchecked = \"Phối hợp\"\n                  :labels=\"{checked: 'TH', unchecked: 'PH'}\"\n                  :color=\"{checked: '#7DCE94', unchecked: '#82C7EB'}\"\n                  :width=\"50\"\n                  @change=\"changeTypeAssign($event, index)\"/>\n                </v-layout>\n              </div>\n            </v-layout>\n            <span class=\"ml-3\" v-if=\"!assignValidate\" style=\"color:#f44336\">* Yêu cầu chọn người để thực hiện</span>\n          </v-card-text>\n        </v-card>\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n  </div>\n</template>\n<script>\nimport $ from 'jquery'\nimport toggleButton from '../toggleButton.vue'\nexport default {\n  components: {\n    'toggle-button': toggleButton\n  },\n  props: {\n    assign_items: {\n      type: Array,\n      default: () => []\n    },\n    type: {\n      type: Number,\n      default: () => 1\n    },\n    configNote: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  model: {\n    prop: 'assign_items'\n  },\n  data: () => ({\n    data_phancong: [],\n    assignedtype_items: {\n      '2': [\n        {text: 'Không có phân công', value: 0},\n        {text: 'Thực hiện chính', value: 1},\n        {text: 'Thực hiện phối hợp', value: 2}\n      ],\n      '3': [\n        {text: 'Không có phân công', value: 0},\n        {text: 'Thực hiện chính', value: 1},\n        {text: 'Thực hiện phối hợp', value: 2},\n        {text: 'Theo dõi', value: 3}\n      ]\n    },\n    title_asign: {\n      '1': 'PHÂN CÔNG NGƯỜI THỰC HIỆN',\n      '2': 'PHÂN CÔNG THỰC HIỆN, PHỐI HỢP',\n      '3': 'PHÂN CÔNG THỰC HIỆN, PHỐI HỢP VÀ THEO DÕI'\n    },\n    presenterAddGroup: true,\n    assignValidate: true\n  }),\n  created () {\n    var vm = this\n    setTimeout(function () {\n      $('.btn-tgl').addClass('btn-hidden')\n    }, 200)\n  },\n  mounted () {\n    this.data_phancong = this.assign_items\n  },\n  methods: {\n    changeAssigned (event, index) {\n      var vm = this\n      if (vm.type === 1) {\n        if (event === true) {\n          vm.assign_items[index].assigned = 1\n        } else {\n          vm.assign_items[index].assigned = 0\n        }\n      }\n    },\n    checkAsign (event, index) {\n      var vm = this\n      if (event) {\n        vm.assign_items[index].assigned = 1\n        $(`#btn-${index}`).removeClass('btn-hidden')\n      } else {\n        vm.assign_items[index].assigned = 0\n        $(`#btn-${index}`).addClass('btn-hidden')\n      }\n      // console.log('vm.assign_items', vm.assign_items)\n    },\n    changeTypeAssign (event, index) {\n      var vm = this\n      if (event.value) {\n        vm.assign_items[index].assigned = 1\n        $(`#btn-${index}`).removeClass('btn-hidden')\n      } else {\n        vm.assign_items[index].assigned = 2\n        $(`#btn-${index}`).addClass('btn-hidden')\n      }\n      // console.log('vm.assign_items', vm.assign_items)\n    },\n    doExport () {\n      var vm = this\n      let assign = vm.assign_items.filter(function (item) {\n        return Number(item.assigned) > 0\n      })\n      if (assign.length === 0) {\n        vm.assignValidate = false\n        return vm.assignValidate\n      } else {\n        vm.assignValidate = true\n        return vm.assignValidate\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// PhanCongNguoiThucHien.vue?418cf802","<template>\n  <v-expansion-panel class=\"expansion-pl ext__form\">\n    <v-expansion-panel-content hide-actions value=\"1\">\n      <div slot=\"header\"><div class=\"background-triangle-small\"> <v-icon size=\"18\" color=\"white\">star_rate</v-icon> </div>Thông tin chung hồ sơ</div>\n      <v-card>\n        <v-card-text class=\"py-0\">\n          <v-layout wrap class=\"px-2 py-2\">\n            <v-flex xs12 sm4 class=\"pr-3\" v-if=\"originality !== 1\">\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Chủ hồ sơ: </span>\n                <span class=\"pl-0 text-bold\"> {{thongTinChiTietHoSo.applicantName}}</span>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1 overHidden\">\n                <span class=\"pr-2\">Địa chỉ: </span>\n                <v-tooltip top>\n                  <span slot=\"activator\" class=\"text-bold \">{{ thongTinChiTietHoSo.address }} {{thongTinChiTietHoSo.wardName}}, {{thongTinChiTietHoSo.districtName}}, {{thongTinChiTietHoSo.cityName}}</span>\n                  <span class=\"pl-0\"> {{thongTinChiTietHoSo.address}} {{thongTinChiTietHoSo.wardName}}, {{thongTinChiTietHoSo.districtName}}, {{thongTinChiTietHoSo.cityName}}</span>\n                </v-tooltip>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pl-0\">Thư điện tử: </span>\n                <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.contactEmail}} </span>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Điện thoại: </span>\n                <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.contactTelNo}} </span>\n              </div>\n            </v-flex>\n            <!--  -->\n            <v-flex xs12 sm4 class=\"pr-3\" v-if=\"originality === 1\">\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Mã hồ sơ: </span>\n                <span class=\"pl-0 text-bold \">  {{thongTinChiTietHoSo.dossierNo}} </span>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Cơ quan: </span>\n                <span class=\"pl-0 text-bold \">  {{thongTinChiTietHoSo.govAgencyName}} </span>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Trạng thái: </span>\n                <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.dossierStatusText}} </span>\n              </div>\n            </v-flex>\n            <!--  -->\n            <v-flex xs12 sm4 v-if=\"originality !== 1\">\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Ngày gửi trực tuyến: </span>\n                <span class=\"pl-0 text-bold\" v-if=\"thongTinChiTietHoSo.online\"> {{thongTinChiTietHoSo.submitDate}} </span>\n                <span class=\"pl-0 text-bold\" v-else> Một cửa </span>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Ngày tiếp nhận: </span>\n                <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.receiveDate}}</span>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Thời hạn giải quyết: </span>\n                <span class=\"pl-0 text-bold \" v-if=\"thongTinChiTietHoSo.durationCount > 0\"> \n                  {{durationText(thongTinChiTietHoSo.durationUnit, thongTinChiTietHoSo.durationCount)}} làm việc \n                </span>\n                <span class=\"pl-0 text-bold \" v-else>\n                  Không quy định\n                </span>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Ngày hẹn trả: </span>\n                <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.dueDate}}</span>\n              </div>\n            </v-flex>\n            <v-flex xs12 sm4 v-else>\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Ngày gửi: </span>\n                <span class=\"pl-0 text-bold\" v-if=\"thongTinChiTietHoSo.online\"> {{thongTinChiTietHoSo.submitDate}} </span>\n                <span class=\"pl-0 text-bold\" v-else> Một cửa </span>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Ngày tiếp nhận: </span>\n                <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.receiveDate}}</span>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Ngày hẹn trả: </span>\n                <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.dueDate}}</span>\n              </div>\n            </v-flex>\n            <!--  -->\n            <v-flex xs12 sm4 v-if=\"originality !== 1\">\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Mã hồ sơ: </span>\n                <span class=\"pl-0 text-bold \">  {{thongTinChiTietHoSo.dossierNo}} </span>\n              </div>\n              <!--  -->\n              <div class=\"xs12 sm12 pb-1\">\n                <span class=\"pr-2\">Trạng thái: </span>\n                <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.dossierStatusText}} </span>\n              </div>\n              <!-- brief note -->\n              <div class=\"xs12 sm12 pb-1 overHidden\">\n                <span class=\"pr-2\">Nội dung: </span>\n                <v-tooltip top v-if=\"thongTinChiTietHoSo.briefNote\">\n                  <span slot=\"activator\" class=\"text-bold \">{{ thongTinChiTietHoSo.briefNote}}</span>\n                  <span class=\"pl-0\">{{thongTinChiTietHoSo.briefNote}} </span>\n                </v-tooltip>\n              </div>\n            </v-flex>\n            <v-flex xs12 sm4 v-else>\n              <div class=\"xs12 sm12 pb-1\" style=\"color:#0b72ba\">Ghi chú:</div>\n              <div class=\"xs12 sm12 pb-1 overHidden\" v-if=\"thongTinChiTietHoSo.dossierNote&&thongTinChiTietHoSo.dossierNote!=='null'\">\n                <v-tooltip top>\n                  <span slot=\"activator\" class=\"text-bold \">{{thongTinChiTietHoSo.dossierNote}} </span>\n                  <span class=\"pl-0\"> {{thongTinChiTietHoSo.dossierNote}} </span>\n                </v-tooltip>\n              </div>\n              <div class=\"xs12 sm12 pb-1\" v-if=\"thongTinChiTietHoSo.extendDate\">\n                <span class=\"pl-0 text-bold\">Hẹn lại: {{thongTinChiTietHoSo.extendDate}}</span>\n              </div>\n              <!--  -->\n            </v-flex>\n          </v-layout>\n        </v-card-text>\n      </v-card>\n    </v-expansion-panel-content>\n  </v-expansion-panel>\n</template>\n<script>\n  export default {\n    props: {\n      detailDossier: {\n        type: Object,\n        default: () => {}\n      }\n    },\n    watch: {\n      detailDossier (val) {\n        console.log('watch', val)\n        var vm = this\n        vm.thongTinChiTietHoSo = val\n      }\n    },\n    components: {\n    },\n    data: () => ({\n      thongTinChiTietHoSo: {},\n      showContactDetail: false\n    }),\n    computed: {\n      loading () {\n        return this.$store.getters.loading\n      },\n      originality () {\n        var vm = this\n        return vm.getOriginality()\n      }\n    },\n    created () {\n      var vm = this\n      vm.thongTinChiTietHoSo = vm.detailDossier\n    },\n    mounted () {\n      var vm = this\n      vm.thongTinChiTietHoSo = vm.detailDossier\n    },\n    methods: {\n      initData (data) {\n        var vm = this\n        vm.$store.dispatch('getDetailDossier', data).then(resultDossier => {\n          vm.thongTinChiTietHoSo = resultDossier\n          console.log('thongTinChiTietHoSo', vm.thongTinChiTietHoSo)\n        })\n      },\n      goBack () {\n        window.history.back()\n      },\n      durationText (durationUnit, durationCount) {\n        var durationText\n        if (durationUnit === 1 && durationCount > 8) {\n          let day = Math.floor(durationCount / 8) + ' ngày'\n          let hours\n          if (durationCount % 8 !== 0) {\n            hours = ((durationCount / 8) - Math.floor(durationCount / 8)) * 8 + ' giờ'\n          } else {\n            hours = ''\n          }\n          durationText = `${day} ${hours}`\n        } else if (durationUnit === 0) {\n          durationText = durationCount + ' ngày'\n        } else if (durationUnit === 1 && durationCount <= 8) {\n          durationText = durationCount + ' giờ'\n        }\n        return durationText\n      }\n    },\n    filters: {\n      dateTimeView (arg) {\n        if (arg) {\n          let value = new Date(arg)\n          return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()} | ${value.getHours().toString().padStart(2, '0')}:${value.getMinutes().toString().padStart(2, '0')}`\n        } else {\n          return ''\n        }\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ThongTinCoBanHoSo.vue?19574128","<template>\n  <div class=\"traketqua\">\n    <v-expansion-panel class=\"expansion-pl\">\n      <v-expansion-panel-content hide-actions value=\"1\">\n        <div slot=\"header\">\n          <div class=\"background-triangle-small\"> \n            <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \n          </div>Giấy tờ kết quả\n        </div>\n        <v-card>\n          <v-card-text>\n            <v-data-table\n              :headers=\"headers\"\n              :items=\"resultFiles|filterFileResult\"\n              item-key=\"no\"\n              class=\"table-bordered\"\n              hide-actions\n              :no-data-text=\"'Không có giấy tờ kết quả'\"\n            >\n              <template slot=\"headerCell\" slot-scope=\"props\">\n                <v-tooltip bottom>\n                  <span slot=\"activator\">\n                    {{ props.header.text }}\n                  </span>\n                  <span>\n                    {{ props.header.text }}\n                  </span>\n                </v-tooltip>\n              </template>\n              <template slot=\"items\" slot-scope=\"props\">\n                <td class=\"text-xs-center\" style=\"width:5%\"> {{ props.index + 1 }} </td>\n                <td class=\"text-xs-left\" style=\"width:10%\"> {{ props.item.deliverableCode }} </td>\n                <td class=\"text-xs-left\" style=\"width:10%\"> {{ props.item.createDate|dateTimeView }} </td>\n                <td class=\"text-xs-left\" style=\"width:75%\"> {{props.item.displayName}} </td>\n              </template>\n            </v-data-table>\n          </v-card-text>\n        </v-card>\n        \n      </v-expansion-panel-content>\n    </v-expansion-panel>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  props: {\n    resultFiles: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data: () => ({\n    dossierId: '',\n    loadingAction: false,\n    headers: [\n      {\n        text: 'STT',\n        align: 'center',\n        sortable: false\n      },\n      {\n        text: 'Số giấy',\n        align: 'center',\n        sortable: false\n      },\n      {\n        text: 'Ngày cấp',\n        align: 'center',\n        sortable: false\n      },\n      {\n        text: 'Tên giấy tờ',\n        align: 'center',\n        sortable: false\n      }\n    ]\n  }),\n  computed: {\n    loading () {\n      return this.$store.getters.loading\n    }\n  },\n  created () {\n    var vm = this\n    vm.$nextTick(function () {})\n  },\n  methods: {},\n  filters: {\n    dateTimeView (arg) {\n      if (arg) {\n        let value = new Date(arg)\n        return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()}`\n      } else {\n        return ''\n      }\n    },\n    filterFileResult (arg) {\n      if (arg.length > 0) {\n        let resultFilter = []\n        resultFilter = arg.filter((val, index) => {\n          return (val.dossierPartType === 2 && val.eForm === false)\n        })\n        return resultFilter\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// TraKetQua.vue?72930a13","<template>\n  <v-expansion-panel class=\"expansion-pl ext__form\">\n    <v-expansion-panel-content hide-actions value=\"1\">\n      <div slot=\"header\"><div class=\"background-triangle-small\"> <v-icon size=\"18\" color=\"white\">star_rate</v-icon> </div>\n      <!-- <span v-if=\"configNote && configNote.labelYKien\">{{configNote.labelYKien}}</span> -->\n      <span>Ý kiến cán bộ</span> <span v-if=\"user_note === 2\" class=\"red--text text--darken-3\">*</span>\n      </div>\n      <v-card>\n        <v-card-text class=\"py-2 px-2\">\n          <v-layout wrap>\n            <v-flex xs12>\n              <v-form v-model=\"valid\" ref=\"userNoteForm\">\n                <v-text-field\n                  v-model.lazy=\"noteYkien\"\n                  multi-line\n                  :rows=\"4\"\n                  :rules=\"user_note === 2 ? [() => noteYkien !== '' || 'Trường dữ liệu bắt buộc'] : []\"\n                ></v-text-field>\n              </v-form>\n            </v-flex>\n          </v-layout>\n        </v-card-text>\n      </v-card>\n    </v-expansion-panel-content>\n  </v-expansion-panel>\n</template>\n<script>\n  export default {\n    props: {\n      user_note: {\n        type: Number,\n        required: true\n      },\n      configNote: {\n        type: Object,\n        required: false\n      }\n    },\n    data: () => ({\n      noteYkien: '',\n      valid: false\n    }),\n    methods: {\n      initData (data) {\n        var vm = this\n        vm.$store.dispatch('getDetailDossier', data).then(resultDossier => {\n          vm.thongTinChiTietHoSo = resultDossier\n        })\n      },\n      doExport () {\n        let vm = this\n        let exportData = {\n          text: vm.noteYkien,\n          valid: vm.$refs.userNoteForm.validate()\n        }\n        return exportData\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// YkienCanBoThucHien.vue?771ea05e","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"Thông tin chung hồ sơ\")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', {\n    staticClass: \"py-0\"\n  }, [_c('v-layout', {\n    staticClass: \"px-2 py-2\",\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [(_vm.originality !== 1) ? _c('v-flex', {\n    staticClass: \"pr-3\",\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Chủ hồ sơ: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold\"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.applicantName))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1 overHidden\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Địa chỉ: \")]), _vm._v(\" \"), _c('v-tooltip', {\n    attrs: {\n      \"top\": \"\"\n    }\n  }, [_c('span', {\n    staticClass: \"text-bold \",\n    attrs: {\n      \"slot\": \"activator\"\n    },\n    slot: \"activator\"\n  }, [_vm._v(_vm._s(_vm.thongTinChiTietHoSo.address) + \" \" + _vm._s(_vm.thongTinChiTietHoSo.wardName) + \", \" + _vm._s(_vm.thongTinChiTietHoSo.districtName) + \", \" + _vm._s(_vm.thongTinChiTietHoSo.cityName))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0\"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.address) + \" \" + _vm._s(_vm.thongTinChiTietHoSo.wardName) + \", \" + _vm._s(_vm.thongTinChiTietHoSo.districtName) + \", \" + _vm._s(_vm.thongTinChiTietHoSo.cityName))])])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pl-0\"\n  }, [_vm._v(\"Thư điện tử: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.contactEmail) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Điện thoại: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.contactTelNo) + \" \")])])]) : _vm._e(), _vm._v(\" \"), (_vm.originality === 1) ? _c('v-flex', {\n    staticClass: \"pr-3\",\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Mã hồ sơ: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\"  \" + _vm._s(_vm.thongTinChiTietHoSo.dossierNo) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Cơ quan: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\"  \" + _vm._s(_vm.thongTinChiTietHoSo.govAgencyName) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Trạng thái: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.dossierStatusText) + \" \")])])]) : _vm._e(), _vm._v(\" \"), (_vm.originality !== 1) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Ngày gửi trực tuyến: \")]), _vm._v(\" \"), (_vm.thongTinChiTietHoSo.online) ? _c('span', {\n    staticClass: \"pl-0 text-bold\"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.submitDate) + \" \")]) : _c('span', {\n    staticClass: \"pl-0 text-bold\"\n  }, [_vm._v(\" Một cửa \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Ngày tiếp nhận: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.receiveDate))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Thời hạn giải quyết: \")]), _vm._v(\" \"), (_vm.thongTinChiTietHoSo.durationCount > 0) ? _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \\n                \" + _vm._s(_vm.durationText(_vm.thongTinChiTietHoSo.durationUnit, _vm.thongTinChiTietHoSo.durationCount)) + \" làm việc \\n              \")]) : _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\"\\n                Không quy định\\n              \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Ngày hẹn trả: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.dueDate))])])]) : _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Ngày gửi: \")]), _vm._v(\" \"), (_vm.thongTinChiTietHoSo.online) ? _c('span', {\n    staticClass: \"pl-0 text-bold\"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.submitDate) + \" \")]) : _c('span', {\n    staticClass: \"pl-0 text-bold\"\n  }, [_vm._v(\" Một cửa \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Ngày tiếp nhận: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.receiveDate))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Ngày hẹn trả: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.dueDate))])])]), _vm._v(\" \"), (_vm.originality !== 1) ? _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Mã hồ sơ: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\"  \" + _vm._s(_vm.thongTinChiTietHoSo.dossierNo) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Trạng thái: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.dossierStatusText) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1 overHidden\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Nội dung: \")]), _vm._v(\" \"), (_vm.thongTinChiTietHoSo.briefNote) ? _c('v-tooltip', {\n    attrs: {\n      \"top\": \"\"\n    }\n  }, [_c('span', {\n    staticClass: \"text-bold \",\n    attrs: {\n      \"slot\": \"activator\"\n    },\n    slot: \"activator\"\n  }, [_vm._v(_vm._s(_vm.thongTinChiTietHoSo.briefNote))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0\"\n  }, [_vm._v(_vm._s(_vm.thongTinChiTietHoSo.briefNote) + \" \")])]) : _vm._e()], 1)]) : _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\",\n    staticStyle: {\n      \"color\": \"#0b72ba\"\n    }\n  }, [_vm._v(\"Ghi chú:\")]), _vm._v(\" \"), (_vm.thongTinChiTietHoSo.dossierNote && _vm.thongTinChiTietHoSo.dossierNote !== 'null') ? _c('div', {\n    staticClass: \"xs12 sm12 pb-1 overHidden\"\n  }, [_c('v-tooltip', {\n    attrs: {\n      \"top\": \"\"\n    }\n  }, [_c('span', {\n    staticClass: \"text-bold \",\n    attrs: {\n      \"slot\": \"activator\"\n    },\n    slot: \"activator\"\n  }, [_vm._v(_vm._s(_vm.thongTinChiTietHoSo.dossierNote) + \" \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0\"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.dossierNote) + \" \")])])], 1) : _vm._e(), _vm._v(\" \"), (_vm.thongTinChiTietHoSo.extendDate) ? _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pl-0 text-bold\"\n  }, [_vm._v(\"Hẹn lại: \" + _vm._s(_vm.thongTinChiTietHoSo.extendDate))])]) : _vm._e()])], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-02494d10\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-02494d10\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/ThongTinCoBanHoSo.vue\n// module id = 678\n// module chunks = 0 1 6 7 23","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"traketqua\"\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"Giấy tờ kết quả\\n      \")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', [_c('v-data-table', {\n    staticClass: \"table-bordered\",\n    attrs: {\n      \"headers\": _vm.headers,\n      \"items\": _vm._f(\"filterFileResult\")(_vm.resultFiles),\n      \"item-key\": \"no\",\n      \"hide-actions\": \"\",\n      \"no-data-text\": 'Không có giấy tờ kết quả'\n    },\n    scopedSlots: _vm._u([{\n      key: \"headerCell\",\n      fn: function(props) {\n        return [_c('v-tooltip', {\n          attrs: {\n            \"bottom\": \"\"\n          }\n        }, [_c('span', {\n          attrs: {\n            \"slot\": \"activator\"\n          },\n          slot: \"activator\"\n        }, [_vm._v(\"\\n                  \" + _vm._s(props.header.text) + \"\\n                \")]), _vm._v(\" \"), _c('span', [_vm._v(\"\\n                  \" + _vm._s(props.header.text) + \"\\n                \")])])]\n      }\n    }, {\n      key: \"items\",\n      fn: function(props) {\n        return [_c('td', {\n          staticClass: \"text-xs-center\",\n          staticStyle: {\n            \"width\": \"5%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(props.index + 1) + \" \")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\",\n          staticStyle: {\n            \"width\": \"10%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(props.item.deliverableCode) + \" \")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\",\n          staticStyle: {\n            \"width\": \"10%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(_vm._f(\"dateTimeView\")(props.item.createDate)) + \" \")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\",\n          staticStyle: {\n            \"width\": \"75%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(props.item.displayName) + \" \")])]\n      }\n    }])\n  })], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-5b02061d\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b02061d\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/TraKetQua.vue\n// module id = 679\n// module chunks = 0 1 6 7 22","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"phancong\",\n    staticStyle: {\n      \"background-color\": \"white\",\n      \"width\": \"100%\"\n    }\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"Chọn người thực hiện\\n      \")]), _vm._v(\" \"), _c('v-card', [(_vm.type === 1) ? _c('v-card-text', {\n    staticClass: \"py-1\"\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, _vm._l((_vm.data_phancong), function(item, index) {\n    return _c('v-checkbox', {\n      key: item.userId,\n      staticStyle: {\n        \"display\": \"inline-block\"\n      },\n      attrs: {\n        \"label\": item.userName\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.changeAssigned($event, index)\n        }\n      },\n      model: {\n        value: (item.assigned),\n        callback: function($$v) {\n          _vm.$set(item, \"assigned\", $$v)\n        },\n        expression: \"item.assigned\"\n      }\n    })\n  })), _vm._v(\" \"), (!_vm.assignValidate) ? _c('span', {\n    staticClass: \"ml-3\",\n    staticStyle: {\n      \"color\": \"#f44336\"\n    }\n  }, [_vm._v(\"* Yêu cầu chọn người để thực hiện\")]) : _vm._e()], 1) : _c('v-card-text', {\n    staticClass: \"px-2 py-1\"\n  }, [_c('v-layout', {\n    staticClass: \"my-1\",\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, _vm._l((_vm.data_phancong), function(item, index) {\n    return _c('div', {\n      key: item.userId,\n      staticClass: \"ml-3\"\n    }, [_c('v-layout', {\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-checkbox', {\n      staticStyle: {\n        \"min-width\": \"150px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"label\": item.userName\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.checkAsign($event, index)\n        }\n      },\n      slot: \"activator\",\n      model: {\n        value: (item.assigned),\n        callback: function($$v) {\n          _vm.$set(item, \"assigned\", $$v)\n        },\n        expression: \"item.assigned\"\n      }\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"pl-0\"\n    }, [_vm._v(\" \" + _vm._s(item.userName) + \" \")])], 1), _vm._v(\" \"), _c('toggle-button', {\n      staticClass: \"mx-1 btn-tgl\",\n      attrs: {\n        \"id\": (\"btn-\" + index),\n        \"title_checked\": \"Thực hiện\",\n        \"title_unchecked\": \"Phối hợp\",\n        \"labels\": {\n          checked: 'TH',\n          unchecked: 'PH'\n        },\n        \"color\": {\n          checked: '#7DCE94',\n          unchecked: '#82C7EB'\n        },\n        \"width\": 50\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.changeTypeAssign($event, index)\n        }\n      },\n      model: {\n        value: (_vm.presenterAddGroup),\n        callback: function($$v) {\n          _vm.presenterAddGroup = $$v\n        },\n        expression: \"presenterAddGroup\"\n      }\n    })], 1)], 1)\n  })), _vm._v(\" \"), (!_vm.assignValidate) ? _c('span', {\n    staticClass: \"ml-3\",\n    staticStyle: {\n      \"color\": \"#f44336\"\n    }\n  }, [_vm._v(\"* Yêu cầu chọn người để thực hiện\")]) : _vm._e()], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-7cac08a2\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7cac08a2\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/PhanCongNguoiThucHien.vue\n// module id = 680\n// module chunks = 0 1 6 7 8","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Ý kiến cán bộ\")]), _vm._v(\" \"), (_vm.user_note === 2) ? _c('span', {\n    staticClass: \"red--text text--darken-3\"\n  }, [_vm._v(\"*\")]) : _vm._e()]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', {\n    staticClass: \"py-2 px-2\"\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\"\n    }\n  }, [_c('v-form', {\n    ref: \"userNoteForm\",\n    model: {\n      value: (_vm.valid),\n      callback: function($$v) {\n        _vm.valid = $$v\n      },\n      expression: \"valid\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"multi-line\": \"\",\n      \"rows\": 4,\n      \"rules\": _vm.user_note === 2 ? [function () { return _vm.noteYkien !== '' || 'Trường dữ liệu bắt buộc'; }] : []\n    },\n    model: {\n      value: (_vm.noteYkien),\n      callback: function($$v) {\n        _vm.noteYkien = $$v\n      },\n      expression: \"noteYkien\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-ad80357c\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ad80357c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/YkienCanBoThucHien.vue\n// module id = 681\n// module chunks = 0 1 6 7 20","<template>\n  <div class=\"comment-temp\">\n    <!-- Component Trao đổi thảo luận -->\n    <div>\n      <v-expansion-panel class=\"expansion-pl-transparent\">\n        <v-expansion-panel-content hide-actions :value=\"true\">\n          <!-- <div slot=\"header\">\n            <div class=\"background-triangle-small\"> \n              <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \n            </div>\n            TRAO ĐỔI THÔNG TIN\n          </div> -->\n          \n          <v-card class=\"comments__container\" >\n            <v-card-text class=\"pl-4\">\n              <div id=\"comments-container-el\"></div>\n              \n              <!-- <v-flex v-if=\"argShowMore2\"><span class=\"action-show primary--text mx-2 my-2\" @click=\"showMore2\">Xem thêm</span></v-flex>\n              <v-flex v-if=\"!argShowMore2\"><span class=\"action-show primary--text mx-2 my-2\" @click=\"showMore2\">Rút gọn</span></v-flex> -->\n            </v-card-text>\n          </v-card>\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery'\n// import axios from 'axios'\nimport 'jquery-textcomplete'\nimport 'jquery-comments'\nexport default {\n  props: ['classPK', 'className'],\n  data: () => ({\n    usersComment: [\n      // {\n      //   id: 1,\n      //   fullname: 'Trịnh Công Trình',\n      //   email: 'trinhtc@fds.vn.com',\n      //   pictureUrl: 'https://app.viima.com/static/media/user_profiles/user-icon.png'\n      // },\n      // {\n      //   id: 2,\n      //   fullname: 'Thái Hoàng Anh',\n      //   email: 'anhth@fds.vn',\n      //   pictureUrl: 'https://app.viima.com/static/media/user_profiles/user-icon.png'\n      // }\n    ],\n    comment: [],\n    argShowMore: true,\n    //\n    checkOpinion: true\n  }),\n  computed: {\n    loading () {\n      return this.$store.getters.loading\n    },\n    initData () {\n      return this.$store.getters.loadingInitData\n    }\n  },\n  watch: {\n    classPK (val) {\n      var vm = this\n      vm.$store.dispatch('loadUsersComment', val).then(result => {\n        vm.usersComment = result\n        vm.initComment()\n      }).catch(reject => {\n        vm.initComment()\n      })\n    }\n  },\n  created () {\n    // var vm = this\n    // vm.$nextTick(function () {\n    //   vm.$store.dispatch('loadUsersComment', vm.classPK).then(result => {\n    //     vm.usersComment = result\n    //   })\n    // })\n  },\n  mounted () {\n    // var vm = this\n    // if (vm.classPK) {\n    //   vm.$store.dispatch('loadUsersComment', vm.classPK).then(result => {\n    //     vm.usersComment = result\n    //     vm.initComment()\n    //   }).catch(reject => {\n    //     vm.initComment()\n    //   })\n    // }\n  },\n  methods: {\n    runComment () {\n      var vm = this\n      if (vm.classPK) {\n        vm.initComment()\n        // vm.$store.dispatch('loadUsersComment', vm.classPK).then(result => {\n        //   vm.usersComment = result\n        //   vm.initComment()\n        // }).catch(reject => {\n        //   vm.initComment()\n        // })\n      }\n    },\n    initComment: function () {\n      var vm = this\n      $('#comments-container-el').comments({\n        profilePictureURL: 'https://png.icons8.com/material/50/000000/guest-male.png',\n        textareaRows: 2,\n        enableAttachments: true,\n        enableHashtags: true,\n        enablePinging: true,\n        postCommentOnEnter: false,\n        forceResponsive: false,\n        readOnly: false,\n        textareaPlaceholderText: 'Thêm bình luận mới',\n        newestText: 'Mới nhất',\n        oldestText: 'Cũ nhất',\n        popularText: 'Phổ biến',\n        attachmentsText: 'Đính kèm',\n        sendText: 'Gửi',\n        replyText: 'Trả lời',\n        editText: 'Sửa',\n        editedText: 'Đã sửa',\n        youText: 'Bạn',\n        saveText: 'Ghi lại',\n        deleteText: 'Xóa',\n        // viewAllRepliesText: 'Xem tất cả câu trả lời',\n        hideRepliesText: 'Ẩn câu trả lời',\n        noCommentsText: 'Không có bình luận nào',\n        noAttachmentsText: 'Không có tệp đính kèm',\n        attachmentDropText: 'Kéo thả tệp đính kèm',\n        fieldMappings: {\n          id: 'commentId',\n          parent: 'parent',\n          userId: 'userId',\n          created: 'createdDate',\n          modified: 'modifiedDate',\n          content: 'content',\n          fileURL: 'fileUrl',\n          fileMimeType: 'fileType',\n          fileName: 'fileName',\n          pings: 'pings',\n          creator: 'userId',\n          fullname: 'fullname',\n          profileURL: 'profileUrl',\n          profilePictureURL: 'pictureUrl',\n          isNew: 'isNew',\n          createdByAdmin: 'isAdmin',\n          createdByCurrentUser: 'createdByCurrentUser',\n          upvoteCount: 'upvoteCount',\n          userHasUpvoted: 'userHasUpvoted',\n          email: 'email',\n          opinion: 'opinion',\n          className: 'className',\n          classPK: 'classPK'\n        },\n        timeFormatter: function (time) {\n          if (time) {\n            let value = new Date(time)\n            value.setHours(value.getHours() - 7)\n            return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()} ${value.getHours().toString().padStart(2, '0')}:${value.getMinutes().toString().padStart(2, '0')}`\n          } else {\n            return ''\n          }\n        },\n        getUsers: function (onSuccess, onError) {\n          onSuccess(vm.usersComment)\n        },\n        getComments: function (onSuccess, onError) {\n          var dataGet = {\n            'classPK': vm.classPK,\n            'className': vm.className\n          }\n          let promise = vm.$store.dispatch('loadCommentItems', dataGet)\n          promise.then(result => {\n            var data = []\n            $.each(result, function (index, item) {\n              vm.comment = item\n              vm.formatComment(vm.comment)\n              data.push(vm.comment)\n            })\n            onSuccess(data)\n          }).catch(reject => {\n            onSuccess([])\n            onError()\n          })\n        },\n        postComment: function (data, onSuccess, onError) {\n          data.classPK = vm.classPK\n          data.className = vm.className\n          data.opinion = document.getElementById('opinion').checked\n          vm.$store.dispatch('postComment', data).then(result => {\n            if (result.opinion) {\n              $('.opinion').hide()\n            }\n            document.getElementById('opinion').checked = false\n            vm.comment = result\n            vm.formatComment(vm.comment)\n            onSuccess(vm.comment)\n          })\n        },\n        putComment: function (data, onSuccess, onError) {\n          data.classPK = vm.classPK\n          data.className = vm.className\n          vm.$store.dispatch('putComment', data).then(result => {\n            vm.comment = result\n            vm.formatComment(vm.comment)\n            onSuccess(vm.comment)\n          })\n        },\n        deleteComment: function (data, onSuccess, onError) {\n          data.classPK = vm.classPK\n          data.className = vm.className\n          vm.$store.dispatch('deleteComment', data).then(result => {\n            onSuccess()\n          }).catch(reject => {\n            onError()\n            console.log(reject)\n          })\n        },\n        upvoteComment: function (data, onSuccess, onError) {\n          data.classPK = vm.classPK\n          data.className = vm.className\n          vm.$store.dispatch('upvoteComment', data).then(result => {\n            vm.comment = result\n            vm.formatComment(vm.comment)\n            onSuccess(vm.comment)\n          }).catch(reject => {\n            console.log(reject)\n          })\n        },\n        uploadAttachments: function (comments, onSuccess, onError) {\n          var responses = 0\n          var successfulUploads = []\n          var serverResponded = function () {\n            responses++\n            if (responses === comments.length) {\n              if (successfulUploads.length === 0) {\n                onError()\n              } else {\n                onSuccess(successfulUploads)\n              }\n            }\n          }\n          $(comments).each(function (index, comment) {\n            var formData = new FormData()\n            $(Object.keys(comment)).each(function (index, key) {\n              var value = comment[key]\n              if (value) {\n                formData.append(key, value)\n              }\n            })\n            formData.append('file', comment.file)\n            formData.append('className', vm.className)\n            formData.append('classPK', vm.classPK)\n            formData.append('parent', comment.parent != null ? comment.parent : 0)\n            formData.append('fileName', comment.file.name)\n            formData.append('fileType', comment.file.type)\n            formData.append('fileSize', comment.file.size)\n            formData.append('pings', comment.pings.join())\n            formData.append('opinion', document.getElementById('opinion').checked)\n            // formData.append('email', 'congtrinh0209@gmail.com')\n            // formData.append('fullname', 'Công Trình')\n            formData.append('email', vm.initData.user.userEmail)\n            formData.append('fullname', vm.initData.user.userName)\n            formData.append('opinion', document.getElementById('opinion').checked)\n            $.ajax({\n              url: vm.initData.commentApi + '/uploads',\n              dataType: 'json',\n              type: 'POST',\n              headers: {\n                'groupId': vm.initData.groupId\n                // 'groupId': 55301\n              },\n              data: formData,\n              cache: false,\n              contentType: false,\n              processData: false,\n              success: function (comment) {\n                if (comment.opinion) {\n                  $('.opinion').hide()\n                }\n                document.getElementById('opinion').checked = false\n                vm.formatComment(comment)\n                successfulUploads.push(vm.comment)\n                serverResponded()\n                if (comment.opinion) {\n                  $('.opinion').hide()\n                }\n                document.getElementById('opinion').checked = false\n              },\n              error: function (xhr, data) {\n                serverResponded()\n              }\n            })\n          })\n        }\n        // appendNewComments: function (commentJSONs, onSuccess, onError) {\n        //   const config = {\n        //     headers: {\n        //       'groupId': vm.group_id\n        //     }\n        //   }\n        //   let commentById = {}\n        //   let oldCommentsId = commentJSONs.map(function (c) {\n        //     commentById[c.id] = c.id + '' + c.userHasUpvoted + '' + c.upvoteCount + '' + c.content\n        //     return c.id\n        //   })\n        //   let url = vm.initData.commentApi + '/org.opencps.dossiermgt.model.Dossier/' + vm.classPK + '?start=0&end=10&sort=modified_Number&order=true'\n        //   axios.get(url, config).then(function (response) {\n        //     let data = []\n        //     let dataEdited = []\n        //     if (response.hasOwnProperty('data')) {\n        //       var serializable = response.data.data\n        //       let curId = 0\n        //       let code = ''\n        //       for (var key in serializable) {\n        //         vm.comment = serializable[key]\n        //         curId = vm.comment['commentId']\n        //         code = vm.comment['commentId'] + '' + vm.comment['userHasUpvoted'] + '' + vm.comment['upvoteCount'] + '' + vm.comment['content']\n        //         vm.formatComment(vm.comment)\n        //         /* check return if not exist */\n        //         if (oldCommentsId.indexOf(curId) === -1) {\n        //           data.push(vm.comment)\n        //         } else if (code !== commentById[curId]) {\n        //           /* if have changed */\n        //           dataEdited.push(vm.comment)\n        //         }\n        //       }\n        //       onSuccess(data, dataEdited)\n        //     }\n        //   })\n        //   .catch(function (error) {\n        //     console.log(error)\n        //   })\n        // }\n      })\n    },\n    formatComment: function (comment) {\n      var vm = this\n      vm.comment = comment\n      if (comment.parent === 0) {\n        vm.comment.parent = null\n      }\n      if (comment.fileName === '') {\n        vm.comment.fileName = null\n      }\n      if (comment.fileType === '') {\n        vm.comment.fileType = null\n      }\n      if (comment.fileUrl === '') {\n        vm.comment.fileUrl = null\n      }\n      if (comment.pictureUrl === '') {\n        vm.comment.pictureUrl = 'https://png.icons8.com/material/50/000000/guest-male.png'\n      }\n      vm.comment.fullname = comment.fullname\n      vm.comment.opinion = comment.opinion\n      vm.comment.pings = comment.pings.toString().split(',')\n      vm.comment.createdDate = vm.comment.createDate\n      vm.comment.modifiedDate = vm.comment.modifiedDate\n    },\n    dateTimeView (arg) {\n      if (arg) {\n        let value = new Date(arg)\n        return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()} ${value.getHours().toString().padStart(2, '0')}:${value.getMinutes().toString().padStart(2, '0')}`\n      } else {\n        return ''\n      }\n    }\n  },\n  filters: {\n    dateTimeView (arg) {\n      if (arg) {\n        let value = new Date(arg)\n        return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()}  ${value.getHours().toString().padStart(2, '0')}:${value.getMinutes().toString().padStart(2, '0')}`\n      } else {\n        return ''\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Comment.vue?77e99965","<template>\n  <v-expansion-panel class=\"expansion-pl ext__form\">\n    <v-expansion-panel-content hide-actions value=\"1\" v-for=\"(item, index) in formBuilder\" v-bind:key=\"index\">\n      <div slot=\"header\"><div class=\"background-triangle-small\"> <v-icon size=\"18\" color=\"white\">star_rate</v-icon> </div>\n      {{item.fieldLabel}}\n      </div>\n      <v-card>\n        <v-card-text class=\"py-2 px-2\">\n          <v-layout wrap>\n            <v-flex xs12>\n                <!-- <span :for=\"item.fieldName\" style=\"\n                    font-size: 13px;\n                \">{{item.fieldLabel}}</span> -->\n                <v-text-field v-if=\"item.fieldType === 'textarea'\"\n                    :id=\"item.fieldName\"\n                    :value=\"item.value\"\n                    :placeholder=\"item.placeholder\"\n                    multi-line\n                    @input=\"inputChangeValue(item)\"\n                ></v-text-field>\n                <v-text-field v-if=\"item.fieldType === 'string'\"\n                    :id=\"item.fieldName\"\n                    :value=\"item.value\"\n                    :placeholder=\"item.placeholder\"\n                    @input=\"inputChangeValue(item)\"\n                ></v-text-field>\n                <v-text-field v-if=\"item.fieldType === 'number'\"\n                    :id=\"item.fieldName\"\n                    :value=\"item.value\"\n                    :placeholder=\"item.placeholder\"\n\t\t\t\t            :rules=\"[rulesValid.number]\"\n                    @input=\"inputChangeValue(item)\"\n                ></v-text-field>\n                <v-text-field v-if=\"item.fieldType === 'date'\"\n                    :id=\"item.fieldName\"\n                    :value=\"item.value\"\n                    :placeholder=\"item.placeholder\"\n                    readonly\n                    append-icon=\"event\"\n                    v-on:click.native=\"openDialogCustom(item, item.fieldName)\"\n                ></v-text-field>\n            </v-flex>\n          </v-layout>\n        </v-card-text>\n        <v-dialog\n            v-model=\"dialog\"\n            width=\"500\"\n        >\n            <v-date-picker\n                v-model=\"date\"\n                full-width\n                landscape\n            ></v-date-picker>\n            <v-card-actions style=\"\n                background: #fff;\n            \">\n            <v-spacer></v-spacer>\n            <v-btn\n                color=\"primary\"\n                flat\n                @click=\"pickDateCustom\"\n            >\n                Xác nhận\n            </v-btn>\n            </v-card-actions>\n        </v-dialog>\n      </v-card>\n    </v-expansion-panel-content>\n  </v-expansion-panel>\n</template>\n<script>\n  export default {\n    props: {\n      dossier_id: {\n        type: Number\n      },\n      action_id: {\n        type: Number\n      }\n    },\n    data: () => ({\n      itemId: null,\n      fieldNameID: '',\n      date: null,\n      dialog: false,\n      formBuilder: [],\n      rulesValid: {\n        number: function (value) {\n          var pattern = /^\\d+$/\n          return pattern.test(value) || 'Kiểu dữ liệu sai định dạng.'\n        }\n      }\n    }),\n    created () {\n      var vm = this\n      vm.$nextTick(function () {\n        let filter = {\n          dossierId: vm.dossier_id,\n          actionId: vm.action_id\n        }\n        vm.$store.dispatch('getExtraForm', filter).then(function (result) {\n          vm.formBuilder = result\n        })\n      })\n    },\n    methods: {\n      openDialogCustom (item, fieldName) {\n        let vm = this\n        vm.dialog = true\n        vm.fieldNameID = fieldName\n        vm.itemId = item\n      },\n      pickDateCustom () {\n        let vm = this\n        console.log(vm.date)\n        vm.itemId.value = vm.dateTimeView(vm.date)\n        vm.dialog = false\n      },\n      inputChangeValue (item) {\n        let vm = this\n        item.value = document.getElementById(item.fieldName).value\n      },\n      dateTimeView (arg) {\n        if (arg) {\n          let value = new Date(arg)\n          return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()}`\n        } else {\n          return ''\n        }\n      },\n      formSubmitData () {\n        let vm = this\n        let objectReturn = {}\n        for (let key in vm.formBuilder) {\n          objectReturn[vm.formBuilder[key].fieldName] = vm.formBuilder[key].value\n        }\n        return objectReturn\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// FormBoSungThongTinNgan.vue?4bfde706","<template>  \n  <div class=\"phancong\" style=\"background-color: white;width:100%\">\n    <v-expansion-panel class=\"expansion-pl\">\n      <v-expansion-panel-content hide-actions value=\"1\">\n        <div slot=\"header\">\n          <div class=\"background-triangle-small\"> \n            <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \n          </div>Duyệt hồ sơ\n        </div>\n        <v-card >\n          <v-card-text class=\"px-0 py-0\">\n            <v-tabs icons-and-text class=\"mb-4\" v-model=\"tabActive\">\n              <v-tabs-slider color=\"primary\"></v-tabs-slider>\n              <v-tab :key=\"1\" href=\"#tabs-1\" @click=\"changeActive\">\n                <v-btn flat class=\"px-0 py-0 mx-0 my-0\">Ký kết quả hồ sơ</v-btn>\n              </v-tab>\n              <v-tab :key=\"2\" href=\"#tabs-3\" @click=\"changeActive\">\n                <v-btn flat class=\"px-0 py-0 mx-0 my-0\">Không ký duyệt</v-btn>\n              </v-tab>\n              <v-tab :key=\"3\" href=\"#tabs-4\" @click=\"changeActive\">\n                <v-btn flat class=\"px-0 py-0 mx-0 my-0\">Yêu cầu trình lại</v-btn>\n              </v-tab>\n              <!--  -->\n              <v-tabs-items class=\"px-3 py-3\">\n                <v-tab-item id=\"tabs-1\" :key=\"1\" reverse-transition=\"fade-transition\" transition=\"fade-transition\">\n                  <v-checkbox \n                    v-model=\"activeKS\"\n                    label=\"Sử dụng chữ ký số\"\n                  ></v-checkbox>\n                </v-tab-item>\n                <v-tab-item id=\"tabs-3\" :key=\"2\" reverse-transition=\"fade-transition\" transition=\"fade-transition\">\n                  Lý do:\n                  <v-text-field\n                    placeholder=\"Lý do không ký hồ sơ\"\n                    v-model=\"noteReason\"\n                    textarea\n                    :rows=\"2\"\n                    class=\"pt-2\"\n                  ></v-text-field>\n                </v-tab-item>\n                <v-tab-item id=\"tabs-4\" :key=\"3\" reverse-transition=\"fade-transition\" transition=\"fade-transition\">\n                  <p class=\"mb-2\">Trình lại: <span class=\"text-bold\">{{detailDossier['govAgencyName']}}</span></p>\n                  Lý do:\n                  <v-text-field\n                    placeholder=\"Lý do trình lại hồ sơ\"\n                    v-model=\"noteReason\"\n                    textarea\n                    :rows=\"2\"\n                    class=\"pt-2\"\n                  ></v-text-field>\n                </v-tab-item>\n              </v-tabs-items>\n            </v-tabs>\n          </v-card-text>\n        </v-card>\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n  </div>\n</template>\n<script>\nimport $ from 'jquery'\nexport default {\n  props: {\n    detailDossier: {}\n  },\n  data: () => ({\n    tabActive: 'tabs-1',\n    activeKS: true,\n    noteReason: '',\n    thongTinHoSo: {}\n  }),\n  created () {},\n  mounted () {},\n  methods: {\n    changeActive () {\n      var vm = this\n      console.log('tabActive', vm.tabActive)\n    },\n    doExport () {\n      let vm = this\n      let exportData = {\n        textValue: vm.noteReason,\n        useKS: vm.activeKS\n      }\n      return exportData\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// KyPheDuyetTaiLieu.vue?2ed50706","<template>\n  <div class=\"taotailieuketqua\" style=\"background-color: white;width:100%\">\n    <v-expansion-panel class=\"expansion-pl\">\n      <v-expansion-panel-content hide-actions value=\"1\">\n        <div slot=\"header\">\n          <div class=\"background-triangle-small\"> \n            <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \n          </div> Kết quả xử lý\n        </div>\n        <v-card>\n          <div class=\"form_alpaca\" style=\"position: relative;\" v-for=\"(item, index) in createFiles\" v-bind:key=\"item.partNo + 'cr'\">\n            <v-expansion-panel class=\"expaned__list__data\">\n              <v-expansion-panel-content hide-actions :value=\"false\">\n                <div slot=\"header\" @click=\"stateView = false\" style=\"background-color:#fff\">\n                  <div style=\"align-items: center;min-height: 38px;background: #fff; padding-left: 15px;\" :style=\"{width: checkStyle(item)}\">\n                    <div class=\"mr-2\" @click=\"loadAlpcaForm(item)\" style=\"min-width: 18px; display: flex; min-height: 38px;\">\n                      <div class=\"header__tphs\"><span class=\"text-bold\">{{index + 1}}.</span> &nbsp;</div>\n                      <div class=\"header__tphs\">\n                        {{item.partName}} <span v-if=\"item.required\" style=\"color: red\"> (*)</span>\n                        &nbsp;&nbsp;\n                        <v-tooltip top v-if=\"item.eForm && item.daKhai\">\n                          <i slot=\"activator\" style=\"color: #0d71bb; font-size: 13px;\" class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\n                          <span>Biểu mẫu trực tuyến (Đã khai)</span>\n                        </v-tooltip>\n                        <v-tooltip top v-if=\"item.eForm && !item.daKhai\">\n                          <i slot=\"activator\" style=\"color: #0d71bb; font-size: 13px;\" class=\"fa fa-file-o\"></i>\n                          <span>Biểu mẫu trực tuyến (Chưa khai)</span>\n                        </v-tooltip>\n                    <!-- <v-tooltip top v-if=\"!item.eForm && item.hasFileTemp\">\n                      <v-badge v-on:click.stop=\"downloadFileTemplate(item, index)\">\n                        <v-icon style=\"color: #0d71bb;\" size=\"16\" color=\"primary\">save_alt</v-icon>\n                      </v-badge>\n                      <span>Download file giấy tờ</span>\n                    </v-tooltip> -->\n                  </div>\n                </div>\n                <div v-for=\"(itemFileView, index) in dossierFilesItems\" :key=\"index + 'cr'\" v-if=\"item.partNo + id === itemFileView.dossierPartNo + id && !itemFileView.eForm\">\n                  <div style=\"width: calc(100% - 370px);display: flex;align-items: center;min-height: 38px;background: #fff;padding-left: 15px; font-size: 12px;\">\n                    <span v-on:click.stop=\"viewFile2(itemFileView)\" class=\"ml-3\" style=\"cursor: pointer;\">\n                      <v-icon v-if=\"itemFileView.eForm\">border_color</v-icon>\n                      <v-icon v-else>attach_file</v-icon>\n                      {{itemFileView.displayName}} - \n                      <i>{{itemFileView.modifiedDate}}</i>\n                    </span>\n                    <v-btn icon ripple v-on:click.stop=\"deleteSingleFile(itemFileView, index)\" class=\"mx-0 my-0\">\n                      <v-icon style=\"color: red\">delete_outline</v-icon>\n                    </v-btn>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <v-card v-if=\"item.eForm\">\n              <v-card-text style=\"background-color: rgba(244, 247, 213, 0.19);\">\n                <v-layout wrap>\n                  <v-flex xs12 class=\"text-xs-right\">\n                    <v-btn color=\"primary\" @click=\"saveAlpacaForm(item, index)\" \n                    v-if=\"item.eForm\">Lưu lại</v-btn>\n                    <v-btn color=\"primary\" @click=\"deleteSingleFileEform(item, index)\" v-if=\"item.daKhai && item.eForm\">Xóa</v-btn>\n                    <v-btn color=\"primary\" @click=\"previewFileEfom(item, index)\" v-if=\"item.daKhai && item.eForm\">In</v-btn>\n                    <div :id=\"'formAlpaca' + item.partNo + id\">\n                    </div>\n                  </v-flex>\n                </v-layout>\n              </v-card-text>\n            </v-card>\n          </v-expansion-panel-content>\n        </v-expansion-panel>\n        <div class=\"absolute__btn group__thanh_phan pr-3 mr-1\">\n          <content-placeholders class=\"mt-1\" v-if=\"loading\">\n            <content-placeholders-text :lines=\"1\" />\n          </content-placeholders>\n          <v-layout row wrap v-else>\n            <v-flex style=\"width: 50px;\">\n              <input\n              type=\"file\"\n              style=\"display: none\"\n              :id=\"'file' + item.partNo\"\n              @change=\"onUploadSingleFile($event,item)\"\n              >\n              <v-progress-circular\n              :width=\"2\"\n              :size=\"25\"\n              color=\"green\"\n              indeterminate\n              v-if=\"progressUploadPart + id === item.partNo + id\"\n              ></v-progress-circular>\n              <v-tooltip top v-else-if=\"progressUploadPart + id !== item.partNo + id\">\n                <v-btn slot=\"activator\" icon class=\"mx-0 my-0\" @click=\"pickFile(item)\">\n                  <v-badge>\n                    <v-icon size=\"16\" color=\"primary\">cloud_upload</v-icon>\n                  </v-badge>\n                </v-btn>\n                <span>Tải file lên</span>\n              </v-tooltip>\n              <!-- <v-tooltip top>\n                <v-btn slot=\"activator\" class=\"mx-0\" fab dark small color=\"primary\" @click=\"viewFileWithPartNo(item)\" style=\"height:20px;width:20px\">\n                  {{item.count}}\n                </v-btn>\n                <span>Xem</span>\n              </v-tooltip> -->\n            </v-flex>\n          </v-layout>\n        </div>\n      </div>\n    </v-card>\n    <!-- <div class=\"absolute-lable\" style=\"font-size: 12px\" v-if=\"originality !== 1 && !onlyView\">\n      <span>Không chọn</span>\n      <span>Bản chính</span>\n      <span>Bản chụp</span>\n      <span>Công chứng</span>\n    </div> -->\n    <v-dialog v-model=\"dialogPDF\" max-width=\"900\" transition=\"fade-transition\" style=\"overflow: hidden;\">\n      <v-card>\n        <v-card-title class=\"headline\">File đính kèm</v-card-title>\n        <v-btn icon dark class=\"mx-0 my-0 absolute__btn_panel mr-2\" @click.native=\"dialogPDF = false\">\n          <v-icon>clear</v-icon>\n        </v-btn>\n        <div v-if=\"dialogPDFLoading\" style=\"\n        min-height: 600px;\n        text-align: center;\n        margin: auto;\n        padding: 25%;\n        \">\n        <v-progress-circular\n        :size=\"100\"\n        :width=\"1\"\n        color=\"primary\"\n        indeterminate\n        ></v-progress-circular>\n      </div>\n      <iframe v-show=\"!dialogPDFLoading\" :id=\"'dialogPDFPreview' + id\" src=\"\" type=\"application/pdf\" width=\"100%\" height=\"100%\" style=\"overflow: auto;min-height: 600px;\" frameborder=\"0\">\n      </iframe>\n    </v-card>\n  </v-dialog>\n</v-expansion-panel-content>\n</v-expansion-panel>\n</div>\n</template>\n\n<script>\n  import $ from 'jquery'\n  import toastr from 'toastr'\n  export default {\n    props: {\n      id: {\n        type: String,\n        default: () => 'nm'\n      },\n      detailDossier: {\n        type: Object,\n        default: () => {}\n      },\n      createFiles: {\n        type: Array,\n        default: () => []\n      }\n    },\n    data: () => ({\n      dossierTemplateItems: [],\n      dossierMarksItems: [],\n      dossierFilesItems: [],\n      thongTinHoSo: {},\n      valid: true,\n      stateView: false,\n      dialogAddOtherTemp: false,\n      loadingAddOther: false,\n      otherDossierTemplate: '',\n      sheet: false,\n      partView: '',\n      dossierFileIdView: '',\n      stateEdit: false,\n      progressUploadPart: '',\n      dialogPDF: false,\n      dialogPDFLoading: true,\n      stateAddFileOther: false,\n      dossierTemplatesItemSelect: {},\n      fileViews: [],\n      sampleCount: 0,\n      fileTemplateItems: []\n    }),\n    computed: {\n      loading () {\n        return this.$store.getters.loading\n      },\n      originality () {\n        var vm = this\n        return vm.getOriginality()\n      },\n      initDataResource () {\n        return this.$store.getters.loadingInitData\n      }\n    },\n    created () {\n      var vm = this\n      vm.page = 1\n      vm.$nextTick(function () {\n        console.log('vm.detailDossier------------', vm.detailDossier)\n        if (vm.detailDossier['dossierId']) {\n          vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(resFiles => {\n            vm.dossierFilesItems = resFiles\n            vm.createFiles = vm.mergeDossierTemplateVsDossierFiles(vm.createFiles, resFiles)\n            console.log('vm.createFiles------------', vm.createFiles)\n            console.log('vm.dossierFilesItems------------', vm.dossierFilesItems)\n          }).catch(reject => {\n          })\n        }\n      })\n    },\n    mounted () {\n      var vm = this\n      vm.$nextTick(function () {\n        if (vm.createFiles.length > 0) {\n          setTimeout(function () {\n            console.log('vm.createFiles------------', vm.createFiles)\n            console.log('vm.dossierFilesItems------------', vm.dossierFilesItems)\n            vm.genAllAlpacaForm(vm.dossierFilesItems, vm.createFiles)\n          }, 300)\n        }\n      })\n    },\n    methods: {\n      genAllAlpacaForm (dossierFiles, createFiles) {\n        var vm = this\n        if (dossierFiles.length > 0) {\n          var dossierFilesEform = dossierFiles.filter(file => {\n            return file.eForm\n          })\n          var dossierTemplatesHasForm = createFiles.filter(template => {\n            return template.eForm\n          })\n          if (dossierFilesEform.length > 0) {\n            dossierFilesEform.forEach(itemFiles => {\n              if (itemFiles.eForm) {\n                vm.$store.dispatch('loadAlpcaForm', itemFiles)\n              }\n            })\n          } else {\n            createFiles.forEach(val => {\n              if (val.eForm) {\n                val['templateFileNo'] = vm.detailDossier.dossierTemplateNo\n                vm.showAlpacaJSFORM(val)\n              }\n            })\n          }\n          if (dossierTemplatesHasForm.length !== dossierFilesEform.length) {\n            dossierTemplatesHasForm.forEach(template => {\n              let indexFromFile = dossierFilesEform.findIndex(item => {\n                return template.partNo === item.dossierPartNo\n              })\n              if (indexFromFile === -1) {\n                template['templateFileNo'] = vm.detailDossier.dossierTemplateNo\n                vm.showAlpacaJSFORM(template)\n              }\n            })\n          }\n        } else {\n          createFiles.forEach(val => {\n            if (val.eForm) {\n              val['templateFileNo'] = vm.detailDossier.dossierTemplateNo\n              vm.showAlpacaJSFORM(val)\n            }\n          })\n        }\n      },\n      mergeDossierTemplateVsDossierFiles (createFiles, dossierFiles) {\n        var vm = this\n        if (dossierFiles.length !== 0) {\n          createFiles.forEach(template => {\n            var itemFind = dossierFiles.find(file => {\n              return template.partNo === file.dossierPartNo && file.eForm\n            })\n            if (itemFind) {\n              template['daKhai'] = true\n            } else if (!itemFind && template.eForm) {\n              template['daKhai'] = false\n            }\n          })\n        } else {\n          createFiles.forEach(template => {\n            if (template.eForm) {\n              template['daKhai'] = false\n            }\n          })\n        }\n        return createFiles\n      },\n      showAlpacaJSFORM (item) {\n        var vm = this\n        item['dossierId'] = vm.detailDossier.dossierId\n        vm.$store.dispatch('loadFormScript', item).then(resScript => {\n          vm.$store.dispatch('loadFormData', item).then(resData => {\n            $('#formAlpaca' + item.partNo + vm.id).empty()\n            var formScript, formData\n            /* eslint-disable */\n            if (resScript) {\n              formScript = eval('(' + resScript + ')')\n            } else {\n              formScript = {}\n            }\n            if (resData) {\n              formData = eval('(' + resData + ')')\n            } else {\n              formData = {}\n            }\n            /* eslint-disable */\n            formScript.data = formData\n            $('#formAlpaca' + item.partNo + vm.id).alpaca(formScript)\n          })\n        })\n      },\n      saveAlpacaForm (item, index) {\n        var vm = this\n        var fileFind = vm.dossierFilesItems.find(itemFile => {\n          return itemFile.dossierPartNo === item.partNo && itemFile.eForm\n        })\n        if (fileFind) {\n          fileFind['dossierId'] = vm.detailDossier.dossierId\n          fileFind['id'] = vm.id\n          vm.$store.dispatch('putAlpacaForm', fileFind).then(resData => {\n          // toastr.success('Yêu cầu của bạn được thực hiện thành công.')\n        }).catch(reject => {\n          toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\n        })\n      } else {\n        item['dossierId'] = vm.detailDossier.dossierId\n        item['id'] = vm.id\n        vm.$store.dispatch('postEform', item).then(resPostEform => {\n          // toastr.success('Yêu cầu của bạn được thực hiện thành công.')\n          vm.createFiles[index].daKhai = true\n          vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(resFiles => {\n            vm.dossierFilesItems = resFiles\n          }).catch(reject => {\n            toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\n          })\n        }).catch(reject => {\n          toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\n        })\n      }\n    },\n    onDeleteAttackFiles (item) {\n      var vm = this\n      console.log('delete')\n      let x = confirm('Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?')\n      if (x) {\n        vm.dossierFilesItems.forEach(val => {\n          if (val.dossierPartNo === item.partNo) {\n            val['dossierId'] = vm.detailDossier.dossierId\n            vm.$store.dispatch('deleteAttackFiles', val).then(function (result) {\n              vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId)\n            }).catch(function (xhr) {\n            })\n          }\n        })\n      }\n    },\n    pickFile (item) {\n      var vm = this\n      vm.stateAddFileOther = false\n      document.getElementById('file' + item.partNo).click()\n    },\n    onUploadSingleFile (e, data) {\n      var vm = this\n      vm.dossierTemplatesItemSelect = data\n      vm.progressUploadPart = data.partNo\n      data['dossierId'] = vm.detailDossier.dossierId\n      data['dossierTemplateNo'] = vm.detailDossier.dossierTemplateNo\n      vm.$store.dispatch('uploadSingleFile', data).then(function (result) {\n        vm.progressUploadPart = ''\n        vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(result => {\n          vm.dossierFilesItems = result\n        })\n      }).catch(function (xhr) {\n        vm.progressUploadPart = ''\n      })\n    },\n    loadAlpcaForm (data) {\n      var vm = this\n      var fileFind = vm.dossierFilesItems.find(itemFile => {\n        return itemFile.dossierPartNo === data.partNo && itemFile.eForm\n      })\n      if (fileFind) {\n        fileFind['id'] = vm.id\n        vm.$store.dispatch('loadAlpcaForm', fileFind)\n      } else {\n        vm.createFiles.forEach(val => {\n          if (val.eForm && data.partNo === val.partNo) {\n            val['templateFileNo'] = vm.detailDossier.dossierTemplateNo\n            vm.showAlpacaJSFORM(val)\n          }\n        })\n      }\n    },\n    deleteSingleFileEform (item, index) {\n      var vm = this\n      let x = confirm('Bạn có muốn xóa?')\n      if (x) {\n        vm.dossierFilesItems.forEach(file => {\n          if (file.dossierPartNo === item.partNo && file.eForm) {\n            file['dossierId'] = vm.detailDossier.dossierId\n            vm.$store.dispatch('deleteDossierFile', file).then(resFile => {\n              console.log('success!')\n              vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(result => {\n                vm.dossierFilesItems = result\n                var fileViewsTemp = vm.dossierFilesItems.filter(file => {\n                  return file.dossierPartNo === item.partNo && !file.eForm\n                })\n                if (fileViewsTemp) {\n                  vm.fileViews = fileViewsTemp\n                }\n              })\n            })\n          }\n        })\n        vm.createFiles[index].daKhai = false\n      }\n    },\n    previewFileEfom (item, index) {\n      var vm = this\n      vm.dossierFilesItems.forEach(file => {\n        if (file.dossierPartNo === item.partNo && file.eForm) {\n          file['dossierId'] = vm.detailDossier.dossierId\n          vm.dialogPDFLoading = true\n          vm.dialogPDF = true\n          file['id'] = vm.id\n          vm.$store.dispatch('putAlpacaForm', file).then(resData => {\n            setTimeout(function () {\n              vm.$store.dispatch('viewFile', file).then(result => {\n                vm.dialogPDFLoading = false\n                document.getElementById('dialogPDFPreview' + vm.id).src = result\n              })\n            }, 1000)\n          }).catch(reject => {\n            toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\n          })\n        }\n      })\n    },\n    deleteSingleFile (item, index) {\n      var vm = this\n      let x = confirm('Bạn có muốn xóa?')\n      if (x) {\n        item['dossierId'] = vm.detailDossier.dossierId\n        vm.$store.dispatch('deleteDossierFile', item).then(resFile => {\n          vm.fileViews.splice(index, 1)\n          vm.partView = item.dossierPartNo\n          vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(result => {\n            vm.dossierFilesItems = result\n          })\n        }).catch(reject => {\n          toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\n        })\n      }\n    },\n    viewFile (data) {\n      var vm = this\n      vm.dossierFilesItems.forEach(val => {\n        val['dossierId'] = vm.detailDossier.dossierId\n        if (val.dossierPartNo === data.partNo) {\n          this.$store.dispatch('viewFile', val)\n        }\n      })\n    },\n    viewFile2 (data) {\n      var vm = this\n      if (data.fileType === 'doc' || data.fileType === 'docx' || data.fileType === 'xlsx' || data.fileType === 'xls' || data.fileType === 'zip' || data.fileType === 'rar') {\n        var url = vm.initDataResource.dossierApi + '/' + vm.detailDossier.dossierId + '/files/' + data.referenceUid\n        window.open(url)\n      } else {\n        vm.dialogPDFLoading = true\n        vm.dialogPDF = true\n        data['dossierId'] = vm.detailDossier.dossierId\n        vm.$store.dispatch('viewFile', data).then(result => {\n          vm.dialogPDFLoading = false\n          document.getElementById('dialogPDFPreview' + vm.id).src = result\n        })\n      }\n    },\n    viewFileWithPartNo (item) {\n      var vm = this\n      if (vm.dossierFilesItems) {\n        var fileViewsTemp = vm.dossierFilesItems.filter(file => {\n          return file.dossierPartNo === item.partNo && !file.eForm\n        })\n        if (fileViewsTemp) {\n          vm.fileViews = fileViewsTemp\n          if (vm.partView !== item.partNo) {\n            vm.stateView = true\n            vm.partView = item.partNo\n          } else {\n            vm.stateView = !vm.stateView\n            vm.partView = item.partNo\n          }\n        } else {\n          return\n        }\n      }\n      return\n    },\n    checkStyle (item) {\n      return 'calc(100% - ' + 50 + 'px)'\n    },\n    downloadFileTemplate (item, index) {\n      var vm = this\n      if (vm.fileTemplateItems.length > 0) {\n        let fileFind = vm.fileTemplateItems.find(file => {\n          return item.fileTemplateNo === file.fileTemplateNo\n        })\n        if (fileFind) {\n          let url = vm.initDataResource.serviceInfoApi + '/' + fileFind.serviceCode + '/filetemplates/' + fileFind.fileTemplateNo\n          window.open(url)\n        } else {\n          console.log('ko thay file')\n        }\n      }\n    },\n    cancelDialog () {\n      var vm = this\n      vm.dialogAddOtherTemp = false\n      vm.progressUploadPart = ''\n    },\n    addFileOther (item) {\n      var vm = this\n      vm.dialogAddOtherTemp = true\n      vm.stateAddFileOther = true\n      vm.dossierTemplatesItemSelect = item\n    },\n    changeDisplayName (item, index) {\n      var vm = this\n      let params = {\n        dossierId: vm.detailDossier.dossierId,\n        value: value\n      }\n      vm.$store.dispatch('changeDisplayNameFile', params).then(result => {\n        vm.fileViews[index].displayName = result.displayName\n        vm.stateEdit = false\n      }).catch(reject => {\n        console.log('error')\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// TaoTaiLieuKetQua.vue?6c78af49","/* eslint-disable */\n\n(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(['jquery'], factory);\n\t} else if (typeof module === 'object' && module.exports) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = function(root, jQuery) {\n\t\t\tif (jQuery === undefined) {\n\t\t\t\t// require('jQuery') returns a factory that requires window to\n\t\t\t\t// build a jQuery instance, we normalize how we use modules\n\t\t\t\t// that require this pattern but the window provided is a noop\n\t\t\t\t// if it's defined (how jquery works)\n\t\t\t\tif (typeof window !== 'undefined') {\n\t\t\t\t\tjQuery = require('jquery');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tjQuery = require('jquery')(root);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfactory(jQuery);\n\t\t\treturn jQuery;\n\t\t};\n\t} else {\n\t\t// Browser globals\n\t\tfactory(jQuery);\n\t}\n}(function($) {\n\n\tvar Comments = {\n\t\t// Instance variables\n\t\t$el: null,\n\t\tcommentsById: {},\n\t\tusersById: {},\n\t\tdataFetched: false,\n\t\tcurrentSortKey: '',\n\t\toptions: {},\n\t\tevents: {\n\t\t\t// Close dropdowns\n\t\t\t'click': 'closeDropdowns',\n\t\t\t// Save comment on keydown\n\t\t\t'keydown [contenteditable]' : 'saveOnKeydown',\n\t\t\t// Listening changes in contenteditable fields (due to input event not working with IE)\n\t\t\t'focus [contenteditable]' : 'saveEditableContent',\n\t\t\t'keyup [contenteditable]' : 'checkEditableContentForChange',\n\t\t\t'paste [contenteditable]' : 'checkEditableContentForChange',\n\t\t\t'input [contenteditable]' : 'checkEditableContentForChange',\n\t\t\t'blur [contenteditable]' : 'checkEditableContentForChange',\n\t\t\t// Navigation\n\t\t\t'click .navigation li[data-sort-key]' : 'navigationElementClicked',\n\t\t\t'click .navigation li.title' : 'toggleNavigationDropdown',\n\t\t\t// Main comenting field\n\t\t\t'click .commenting-field.main .textarea': 'showMainCommentingField',\n\t\t\t'click .commenting-field.main .close' : 'hideMainCommentingField',\n\t\t\t// All commenting fields\n\t\t\t'click .commenting-field .textarea' : 'increaseTextareaHeight',\n\t\t\t'change .commenting-field .textarea' : 'increaseTextareaHeight textareaContentChanged',\n\t\t\t'click .commenting-field:not(.main) .close' : 'removeCommentingField',\n\t\t\t// Edit mode actions\n\t\t\t'click .commenting-field .send.enabled' : 'postComment',\n\t\t\t'click .commenting-field .update.enabled' : 'putComment',\n\t\t\t'click .commenting-field .delete.enabled' : 'deleteComment',\n\t\t\t'change .commenting-field .upload.enabled input[type=\"file\"]' : 'fileInputChanged',\n\t\t\t// Other actions\n\t\t\t'click li.comment button.upvote' : 'upvoteComment',\n\t\t\t'click li.comment button.delete.enabled' : 'deleteComment',\n\t\t\t'click li.comment .hashtag' : 'hashtagClicked',\n\t\t\t'click li.comment .ping' : 'pingClicked',\n\t\t\t// Other\n\t\t\t'click li.comment ul.child-comments .toggle-all': 'toggleReplies',\n\t\t\t'click li.comment button.reply': 'replyButtonClicked',\n\t\t\t'click li.comment button.edit': 'editButtonClicked',\n\t\t\t// Drag & dropping attachments\n\t\t\t'dragenter' : 'showDroppableOverlay',\n\t\t\t'dragenter .droppable-overlay' : 'handleDragEnter',\n\t\t\t'dragleave .droppable-overlay' : 'handleDragLeaveForOverlay',\n\t\t\t'dragenter .droppable-overlay .droppable' : 'handleDragEnter',\n\t\t\t'dragleave .droppable-overlay .droppable' : 'handleDragLeaveForDroppable',\n\t\t\t'dragover .droppable-overlay' : 'handleDragOverForOverlay',\n\t\t\t'drop .droppable-overlay' : 'handleDrop',\n\t\t\t// Prevent propagating the click event into buttons under the autocomplete dropdown\n\t\t\t'click .dropdown.autocomplete': 'stopPropagation',\n\t\t\t'mousedown .dropdown.autocomplete': 'stopPropagation',\n\t\t\t'touchstart .dropdown.autocomplete': 'stopPropagation',\n\t\t},\n\t\t// Default options\n\n\t\tgetDefaultOptions: function() {\n\t\t\treturn {\n\t\t\t\t// User        \n\t\t\t\tprofilePictureURL: '',\n\t\t\t\tcurrentUserIsAdmin: false,\n\t\t\t\tcurrentUserId: null,\n\t\t\t\t// Font awesome icon overrides        \n\t\t\t\tspinnerIconURL: '',\n\t\t\t\tupvoteIconURL: '',\n\t\t\t\treplyIconURL: '',\n\t\t\t\tuploadIconURL: '',\n\t\t\t\tattachmentIconURL: '',\n\t\t\t\tfileIconURL: '',\n\t\t\t\tnoCommentsIconURL: '',\n\t\t\t\tnoCommentsImptIconURL: '',\n\t\t\t\t// Strings to be formatted (for example localization)     \n\t\t\t\ttextareaPlaceholderText: 'Thêm bình luận mới',\n\t\t\t\tnewestText: 'Mới nhất',\n\t\t\t\toldestText: 'Cũ nhất',\n\t\t\t\timportantCmtText: 'Ý kiến chính thức',\n\t\t\t\tpopularText: 'Phổ biến',\n\t\t\t\tattachmentsText: 'Tệp đính kèm',\n\t\t\t\tsendText: 'Gửi',\n\t\t\t\treplyText: 'Trả lời',\n\t\t\t\teditText: 'Sửa',\n\t\t\t\teditedText: 'Đã sửa',\n\t\t\t\tyouText: 'You',\n\t\t\t\tsaveText: 'Ghi lại',\n\t\t\t\tdeleteText: 'Xoá',\n\t\t\t\tnewText: 'Mới',\n\t\t\t\tviewAllRepliesText: 'Xem tất cả __replyCount__ trả lời',\n\t\t\t\thideRepliesText: 'Hide replies',\n\t\t\t\tnoCommentsText: 'Không có bình luận',\n\t\t\t\tnoCommentsImportantText: 'Không có ý kiến chính thức',\n\t\t\t\tnoAttachmentsText: 'Không có tệp đính kèm',\n\t\t\t\tattachmentDropText: 'Kéo thả tệp để tải lên',\n\t\t\t\ttextFormatter: function(text) {return text},\n\t\t\t\t\n\t\t\t\t// Functionalities        \n\t\t\t\tenableReplying: true,\n\t\t\t\tenableEditing: true,\n\t\t\t\tenableUpvoting: true,\n\t\t\t\tenableDeleting: true,\n\t\t\t\tenableAttachments: false,\n\t\t\t\tenableHashtags: false,\n\t\t\t\tenablePinging: false,\n\t\t\t\tenableDeletingCommentWithReplies: false,\n\t\t\t\tenableNavigation: true,\n\t\t\t\tpostCommentOnEnter: false,\n\t\t\t\tforceResponsive: false,\n\t\t\t\treadOnly: false,\n\t\t\t\tdefaultNavigationSortKey: 'newest',\n\t\t\t\t// Colors     \n\t\t\t\thighlightColor: '#2793e6',\n\t\t\t\tdeleteButtonColor: '#C9302C',\n\t\t\t\tscrollContainer: this.$el,\n\t\t\t\troundProfilePictures: false,\n\t\t\t\ttextareaRows: 2,\n\t\t\t\ttextareaRowsOnFocus: 2,\n\t\t\t\ttextareaMaxRows: 5,\n\t\t\t\tmaxRepliesVisible: 2,\n\t\t\t\t\n\t\t\t\tfieldMappings: {\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tparent: 'parent',\n\t\t\t\t\tcreated: 'createdDate',\n\t\t\t\t\tmodified: 'modifiedDate',\n\t\t\t\t\tcontent: 'content',\n\t\t\t\t\tfile: 'file',\n\t\t\t\t\tfileURL: 'file_url',\n\t\t\t\t\tfileMimeType: 'file_mime_type',\n\t\t\t\t\tpings: 'pings',\n\t\t\t\t\tcreator: 'creator',\n\t\t\t\t\tfullname: 'fullname',\n\t\t\t\t\tprofileURL: 'profile_url',\n\t\t\t\t\tprofilePictureURL: 'profile_picture_url',\n\t\t\t\t\tisNew: 'is_new',\n\t\t\t\t\tcreatedByAdmin: 'created_by_admin',\n\t\t\t\t\tcreatedByCurrentUser: 'created_by_current_user',\n\t\t\t\t\tupvoteCount: 'upvote_count',\n\t\t\t\t\tuserHasUpvoted: 'user_has_upvoted'\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\tgetUsers: function(success, error) {success([])},\n\t\t\t\tgetComments: function(success, error) {success([])},\n\t\t\t\tpostComment: function(commentJSON, success, error) {success(commentJSON)},\n\t\t\t\tputComment: function(commentJSON, success, error) {success(commentJSON)},\n\t\t\t\tdeleteComment: function(commentJSON, success, error) {success()},\n\t\t\t\tupvoteComment: function(commentJSON, success, error) {success(commentJSON)},\n\t\t\t\thashtagClicked: function(hashtag) {},\n\t\t\t\tpingClicked: function(userId) {},\n\t\t\t\tuploadAttachments: function(commentArray, success, error) {success(commentArray)},\n\t\t\t\trefresh: function() {},\n\t\t\t\ttimeFormatter: function(time) {return new Date(time).toLocaleDateString()},\n\t\t\t\tappendNewComments: function(commentJSONs, success, error) {success([])}\n\t\t\t}\n\t\t},\n\n\t\t// Initialization\n\t\tinit: function(options, el) {\n\t\t\tthis.$el = $(el);\n\t\t\tthis.$el.addClass('jquery-comments');\n\t\t\tthis.undelegateEvents();\n\t\t\tthis.delegateEvents();\n\t\t\t// Detect mobile devices\n\t\t\t(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);\n\t\t\tif($.browser.mobile) this.$el.addClass('mobile');\n\t\t\t// Init options\n\t\t\tthis.options = $.extend(true, {}, this.getDefaultOptions(), options);;\n\t\t\t// Read-only mode\n\t\t\tif(this.options.readOnly) this.$el.addClass('read-only');\n\t\t\t// Set initial sort key\n\t\t\tthis.currentSortKey = this.options.defaultNavigationSortKey;\n\t\t\t// Create CSS declarations for highlight color\n\t\t\tthis.createCssDeclarations();\n\t\t\t// Fetching data and rendering\n\t\t\tthis.fetchDataAndRender();\n\t\t},\n\n\t\tdelegateEvents: function() {\n\t\t\tthis.bindEvents(false);\n\t\t},\n\n\t\tundelegateEvents: function() {\n\t\t\tthis.bindEvents(true);\n\t\t},\n\n\t\tbindEvents: function(unbind) {\n\t\t\t\tvar bindFunction = unbind ? 'off' : 'on';\n\t\t\t\tfor (var key in this.events) {\n\t\t\t\t\t\tvar eventName = key.split(' ')[0];\n\t\t\t\t\t\tvar selector = key.split(' ').slice(1).join(' ');\n\t\t\t\t\t\tvar methodNames = this.events[key].split(' ');\n\n\t\t\t\t\t\tfor(var index in methodNames) {\n\t\t\t\t\t\t\t\tif(methodNames.hasOwnProperty(index)) {\n\t\t\t\t\t\t\t\t\t\tvar method = this[methodNames[index]];\n\n\t\t\t\t\t\t\t\t\t\t// Keep the context\n\t\t\t\t\t\t\t\t\t\tmethod = $.proxy(method, this);\n\n\t\t\t\t\t\t\t\t\t\tif (selector == '') {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$el[bindFunction](eventName, method);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$el[bindFunction](eventName, selector, method);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t},\n\n\t\t// Basic functionalities\n\t\tfetchDataAndRender: function () {\n\t\t\tvar self = this;\n\t\t\tsetTimeout(function(){self.appendNewComments()},30000);\n\t\t\tthis.commentsById = {};\n\t\t\tthis.usersById = {};\n\t\t\tthis.$el.empty();\n\t\t\tthis.createHTML();\n\t\t\t// Render after data has been fetched\n\t\t\tvar dataFetched = this.after(this.options.enablePinging ? 2 : 1, function() {\n\t\t\t\tself.dataFetched = true;\n\t\t\t\tself.render();\n\t\t\t});\n\n\t\t\t// Comments\n\t\t\tvar commentsFetched = function(commentsArray) {\n\t\t\t\t// Convert comments to custom data model\n\t\t\t\tvar commentModels = commentsArray.map(function(commentsJSON){\n\t\t\t\t\treturn self.createCommentModel(commentsJSON)\n\t\t\t\t});\n\t\t\t\t// Sort comments by date (oldest first so that they can be appended to the data model\n\t\t\t\t// without caring dependencies)\n\t\t\t\tself.sortComments(commentModels, 'oldest');\n\t\t\t\t$(commentModels).each(function(index, commentModel) {\n\t\t\t\t\t\tself.addCommentToDataModel(commentModel);\n\t\t\t\t});\n\t\t\t\tdataFetched();\n\t\t\t};\n\t\t\tthis.options.getComments(commentsFetched, dataFetched);\n\n\t\t\t// Users\n\t\t\tif(this.options.enablePinging) {\n\t\t\t\tvar usersFetched = function(userArray) {\n\t\t\t\t\t$(userArray).each(function(index, user) {\n\t\t\t\t\t\tself.usersById[user.id] = user;\n\t\t\t\t\t});\n\t\t\t\t\tdataFetched();\n\t\t\t\t}\n\t\t\t\tthis.options.getUsers(usersFetched, dataFetched);\n\t\t\t};\n\t\t},\n\n\t\tfetchNext: function() {\n\t\t\tvar self = this;\n\t\t\t// Loading indicator\n\t\t\tvar spinner = this.createSpinner();\n\t\t\tthis.$el.find('ul#comment-list').append(spinner);\n\t\t\tvar success = function (commentModels) {\n\t\t\t\t$(commentModels).each(function(index, commentModel) {\n\t\t\t\t\tself.createComment(commentModel);\n\t\t\t\t});\n\t\t\t\tspinner.remove();\n\t\t\t}\n\n\t\t\tvar error = function() {\n\t\t\t\tspinner.remove();\n\t\t\t}\n\t\t\tthis.options.getComments(success, error);\n\t\t},\n\n\t\tcreateCommentModel: function(commentJSON) {\n\t\t\tvar commentModel = this.applyInternalMappings(commentJSON);\n\t\t\tcommentModel.childs = [];\n\t\t\tthis.commentsById[commentModel.id] = commentModel;\n\t\t\treturn commentModel;\n\t\t},\n\n\t\taddCommentToDataModel: function(commentModel) {\n\t\t\tif(!(commentModel.id in this.commentsById)) {\n\t\t\t\tthis.commentsById[commentModel.id] = commentModel;\n\n\t\t\t\t// Update child array of the parent (append childs to the array of outer most parent)\n\t\t\t\tif(commentModel.parent) {\n\t\t\t\t\tvar outermostParent = this.getOutermostParent(commentModel.parent);\n\t\t\t\t\toutermostParent.childs.push(commentModel.id);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdateCommentModel: function(commentModel) {\n\t\t\t$.extend(this.commentsById[commentModel.id], commentModel);\n\t\t},\n\n\t\trender: function() {\n\t\t\tvar self = this;\n\t\t\t// Prevent re-rendering if data hasn't been fetched\n\t\t\tif(!this.dataFetched) return;\n\t\t\t// Show active container\n\t\t\tthis.showActiveContainer();\n\t\t\t// Create comments\n\t\t\tthis.createComments();\n\t\t\t// Create attachments if enabled\n\t\t\tif(this.options.enableAttachments) this.createAttachments(); \n\t\t\t// Create important comment\n\t\t\tthis.createImportantComments();\n\t\t\t// Remove spinner\n\t\t\tthis.$el.find('> .spinner').remove();\n\t\t\tthis.options.refresh();\n\t\t},\n\n\t\tshowActiveContainer: function() {\n\t\t\tvar activeNavigationEl = this.$el.find('.navigation li[data-container-name].active');\n\t\t\tvar containerName = activeNavigationEl.data('container-name');\n\t\t\tvar containerEl = this.$el.find('[data-container=\"' + containerName + '\"]');\n\t\t\tcontainerEl.siblings('[data-container]').hide();\n\t\t\tcontainerEl.show();\n\t\t},\n\n\t\tcreateComments: function() {\n\t\t\tvar self = this;\n\t\t\t// Create the list element before appending to DOM in order to reach better performance\n\t\t\tthis.$el.find('#comment-list').remove();\n\t\t\tvar commentList = $('<ul/>', {\n\t\t\t\tid: 'comment-list',\n\t\t\t\t'class': 'main'\n\t\t\t});\n\n\t\t\t// Divide commments into main level comments and replies\n\t\t\tvar mainLevelComments = [];\n\t\t\tvar replies = [];\n\n\t\t\t$(this.getComments()).each(function(index, commentModel) {\n\t\t\t\tif(commentModel.parent == null) {\n\t\t\t\t\tmainLevelComments.push(commentModel);\n\t\t\t\t} else {\n\t\t\t\t\treplies.push(commentModel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Append main level comments\n\t\t\tthis.sortComments(mainLevelComments, this.currentSortKey);\n\t\t\tmainLevelComments.reverse();    // Reverse the order as they are prepended to DOM\n\t\t\t$(mainLevelComments).each(function(index, commentModel) {\n\t\t\t\tself.addComment(commentModel, commentList);\n\t\t\t});\n\n\t\t\t// Append replies in chronological order\n\t\t\tthis.sortComments(replies, 'oldest');\n\t\t\t$(replies).each(function(index, commentModel) {\n\t\t\t\tself.addComment(commentModel, commentList);\n\t\t\t});\n\n\t\t\t// Appned list to DOM\n\t\t\tthis.$el.find('[data-container=\"comments\"]').prepend(commentList);\n\t\t},\n\n\t\tcreateAttachments: function() {\n\t\t\tvar self = this;\n\t\t\t// Create the list element before appending to DOM in order to reach better performance\n\t\t\tthis.$el.find('#attachment-list').remove();\n\t\t\tvar attachmentList = $('<ul/>', {\n\t\t\t\tid: 'attachment-list',\n\t\t\t\t'class': 'main'\n\t\t\t});\n\n\t\t\tvar attachments = this.getAttachments();\n\t\t\tthis.sortComments(attachments, 'newest');\n\t\t\tattachments.reverse();    // Reverse the order as they are prepended to DOM\n\t\t\t$(attachments).each(function(index, commentModel) {\n\t\t\t\tself.addAttachment(commentModel, attachmentList);\n\t\t\t});\n\n\t\t\t// Appned list to DOM\n\t\t\tthis.$el.find('[data-container=\"attachments\"]').prepend(attachmentList);\n\t\t},\n\t\tcreateImportantComments: function() {\n\t\t\tvar self = this;\n\t\t\t// Create the list element before appending to DOM in order to reach better performance\n\t\t\tthis.$el.find('#importantCmt-list').remove();\n\t\t\tvar importantCmtList = $('<ul/>', {\n\t\t\t\t\tid: 'importantCmt-list',\n\t\t\t\t\t'class': 'main'\n\t\t\t});\n\n\t\t\tvar importantCmt = this.getImportantCmt();\n\n\t\t\tthis.sortComments(importantCmt, 'newest');\n\t\t\timportantCmt.reverse();    // Reverse the order as they are prepended to DOM\n\t\t\t$(importantCmt).each(function(index, commentModel) {\n\t\t\t\t\tself.addImportantCmt(commentModel, importantCmtList);\n\t\t\t});\n\n\t\t\t// Appned list to DOM\n\t\t\tthis.$el.find('[data-container=\"importantCmt\"]').prepend(importantCmtList);\n\t\t},\n\t\taddComment: function(commentModel, commentList) {\n\t\t\tcommentList = commentList || this.$el.find('#comment-list');\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\n\n\t\t\t// Case: reply\n\t\t\tif(commentModel.parent) {\n\t\t\t\tvar directParentEl = commentList.find('.comment[data-id=\"'+commentModel.parent+'\"]');\n\n\t\t\t\t// Re-render action bar of direct parent element\n\t\t\t\tthis.reRenderCommentActionBar(commentModel.parent);\n\n\t\t\t\t// Force replies into one level only\n\t\t\t\tvar outerMostParent = directParentEl.parents('.comment').last();\n\t\t\t\tif(outerMostParent.length == 0) outerMostParent = directParentEl;\n\n\t\t\t\t// Append element to DOM\n\t\t\t\tvar childCommentsEl = outerMostParent.find('.child-comments');\n\t\t\t\tvar commentingField = childCommentsEl.find('.commenting-field');\n\t\t\t\tif(commentingField.length) {\n\t\t\t\t\tcommentingField.before(commentEl)\n\t\t\t\t} else {\n\t\t\t\t\tchildCommentsEl.append(commentEl);\n\t\t\t\t}\n\n\t\t\t\t// Update toggle all -button\n\t\t\t\tthis.updateToggleAllButton(outerMostParent);\n\n\t\t\t// Case: main level comment\n\t\t\t} else {\n\t\t\t\tcommentList.prepend(commentEl);\n\t\t\t}\n\t\t},\n\t\taddAttachment: function(commentModel, commentList) {\n\t\t\tcommentList = commentList || this.$el.find('#attachment-list');\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\n\t\t\tcommentList.prepend(commentEl);\n\t\t},\n\t\taddImportantCmt: function(commentModel, commentList) {\n\t\t\tcommentList = commentList || this.$el.find('#importantCmt-list');\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\n\t\t\tcommentList.prepend(commentEl);\n\t\t},\n\t\tremoveComment: function(commentId) {\n\t\t\tvar self = this;\n\t\t\tvar commentModel = this.commentsById[commentId];\n\n\t\t\t// Remove child comments recursively\n\t\t\tvar childComments = this.getChildComments(commentModel.id);\n\t\t\t$(childComments).each(function(index, childComment) {\n\t\t\t\tself.removeComment(childComment.id);\n\t\t\t});\n\n\t\t\t// Update the child array of outermost parent\n\t\t\tif(commentModel.parent) {\n\t\t\t\tvar outermostParent = this.getOutermostParent(commentModel.parent);\n\t\t\t\tvar indexToRemove = outermostParent.childs.indexOf(commentModel.id);\n\t\t\t\toutermostParent.childs.splice(indexToRemove, 1);\n\t\t\t}\n\n\t\t\t// Remove the comment from data model\n\t\t\tdelete this.commentsById[commentId];\n\t\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentId+'\"]');\n\t\t\tvar parentEl = commentElements.parents('li.comment').last();\n\n\t\t\t// Remove the element\n\t\t\tcommentElements.remove();\n\n\t\t\t// Update the toggle all button\n\t\t\tthis.updateToggleAllButton(parentEl);\n\t\t},\n\n\t\tuploadAttachments: function(files, commentingField) {\n\t\t\tvar self = this;\n\t\t\tif(!commentingField) commentingField = this.$el.find('.commenting-field.main');\n\t\t\tvar isReply = !commentingField.hasClass('main');\n\t\t\tvar fileCount = files.length;\n\n\t\t\tif(fileCount) {\n\t\t\t\tvar uploadButton = commentingField.find('.upload');\n\t\t\t\tvar textarea = commentingField.find('.textarea');\n\n\t\t\t\t// Disable upload button and append spinners while request is pending\n\t\t\t\tuploadButton.removeClass('enabled');\n\t\t\t\tvar attachmentListSpinner = this.createSpinner();\n\t\t\t\tvar commentListSpinner = this.createSpinner();\n\t\t\t\tthis.$el.find('ul#attachment-list').prepend(attachmentListSpinner);\n\t\t\t\tif(isReply) {\n\t\t\t\t\tcommentingField.before(commentListSpinner);\n\t\t\t\t} else {\n\t\t\t\t\tthis.$el.find('ul#comment-list').prepend(commentListSpinner);\n\t\t\t\t}\n\n\t\t\t\tvar success = function(commentArray) {\n\t\t\t\t\t$(commentArray).each(function(index, commentJSON) {\n\t\t\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\n\t\t\t\t\t\tself.addCommentToDataModel(commentModel);\n\t\t\t\t\t\tself.addComment(commentModel);\n\t\t\t\t\t\tself.addAttachment(commentModel);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Close the commenting field if all the uploads were successfull\n\t\t\t\t\t// and there's no content besides the attachment\n\t\t\t\t\tif(commentArray.length == fileCount && self.getTextareaContent(textarea).length == 0) {\n\t\t\t\t\t\tcommentingField.find('.close').trigger('click');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Enable upload button and remove spinners\n\t\t\t\t\tuploadButton.addClass('enabled');\n\t\t\t\t\tcommentListSpinner.remove();\n\t\t\t\t\tattachmentListSpinner.remove();\n\t\t\t\t};\n\n\t\t\t\tvar error = function() {\n\t\t\t\t\t// Enable upload button and remove spinners\n\t\t\t\t\tuploadButton.addClass('enabled');\n\t\t\t\t\tcommentListSpinner.remove();\n\t\t\t\t\tattachmentListSpinner.remove();\n\t\t\t\t};\n\n\t\t\t\tvar commentArray = [];\n\t\t\t\t$(files).each(function(index, file) {\n\t\t\t\t\t// Create comment JSON\n\t\t\t\t\tvar commentJSON = self.createCommentJSON(textarea);\n\t\t\t\t\tcommentJSON.id += '-' + index;\n\t\t\t\t\tcommentJSON.content = '';\n\t\t\t\t\tcommentJSON.file = file;\n\t\t\t\t\tcommentJSON.fileURL = 'C:/fakepath/' + file.name;\n\t\t\t\t\tcommentJSON.fileMimeType = file.type;\n\t\t\t\t\t// Reverse mapping\n\t\t\t\t\tcommentJSON = self.applyExternalMappings(commentJSON);\n\t\t\t\t\tcommentArray.push(commentJSON);\n\t\t\t\t});\n\n\t\t\t\tself.options.uploadAttachments(commentArray, success, error);\n\t\t\t}\n\n\t\t\t// Clear the input field\n\t\t\tuploadButton.find('input').val('');\n\t\t},\n\n\t\tupdateToggleAllButton: function(parentEl) {\n\t\t\t// Don't hide replies if maxRepliesVisible is null or undefined\n\t\t\tif (this.options.maxRepliesVisible == null) return;\n\n\t\t\tvar childCommentsEl = parentEl.find('.child-comments');\n\t\t\tvar childComments = childCommentsEl.find('.comment');\n\t\t\tvar toggleAllButton = childCommentsEl.find('li.toggle-all');\n\t\t\tchildComments.removeClass('hidden-reply');\n\n\t\t\t// Select replies to be hidden\n\t\t\tif (this.options.maxRepliesVisible === 0) {\n\t\t\t\tvar hiddenReplies = childComments;\n\t\t\t} else {\n\t\t\t\tvar hiddenReplies = childComments.slice(0, -this.options.maxRepliesVisible);\n\t\t\t}\n\n\t\t\t// Add identifying class for hidden replies so they can be toggled\n\t\t\thiddenReplies.addClass('hidden-reply');\n\n\t\t\t// Show all replies if replies are expanded\n\t\t\tif(toggleAllButton.find('span.text').text() == this.options.textFormatter(this.options.hideRepliesText)) {\n\t\t\t\thiddenReplies.addClass('visible');\n\t\t\t}\n\n\t\t\t// Make sure that toggle all button is present\n\t\t\tif(childComments.length > this.options.maxRepliesVisible) {\n\n\t\t\t\t// Append button to toggle all replies if necessary\n\t\t\t\tif(!toggleAllButton.length) {\n\n\t\t\t\t\ttoggleAllButton = $('<li/>', {\n\t\t\t\t\t\t'class': 'toggle-all highlight-font-bold'\n\t\t\t\t\t});\n\t\t\t\t\tvar toggleAllButtonText = $('<span/>', {\n\t\t\t\t\t\t'class': 'text'\n\t\t\t\t\t});\n\t\t\t\t\tvar caret = $('<span/>', {\n\t\t\t\t\t\t'class': 'caret'\n\t\t\t\t\t});\n\n\t\t\t\t\t// Append toggle button to DOM\n\t\t\t\t\ttoggleAllButton.append(toggleAllButtonText).append(caret);\n\t\t\t\t\tchildCommentsEl.prepend(toggleAllButton);\n\t\t\t\t}\n\n\t\t\t\t// Update the text of toggle all -button\n\t\t\t\tthis.setToggleAllButtonText(toggleAllButton, false);\n\t\t\t// Make sure that toggle all button is not present\n\t\t\t} else {\n\t\t\t\ttoggleAllButton.remove();\n\t\t\t}\n\t\t},\n\n\t\tsortComments: function (comments, sortKey) {\n\t\t\tvar self = this;\n\t\t\t// Sort by popularity\n\t\t\tif(sortKey == 'popularity') {\n\t\t\t\tcomments.sort(function(commentA, commentB) {\n\t\t\t\t\tvar pointsOfA = commentA.childs.length;\n\t\t\t\t\tvar pointsOfB = commentB.childs.length;\n\n\t\t\t\t\tif(self.options.enableUpvoting) {\n\t\t\t\t\t\tpointsOfA += commentA.upvoteCount;\n\t\t\t\t\t\tpointsOfB += commentB.upvoteCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(pointsOfB != pointsOfA) {\n\t\t\t\t\t\treturn pointsOfB - pointsOfA;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Return newer if popularity is the same\n\t\t\t\t\t\tvar createdA = new Date(commentA.created).getTime();\n\t\t\t\t\t\tvar createdB = new Date(commentB.created).getTime();\n\t\t\t\t\t\treturn createdB - createdA;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t// Sort by date\n\t\t\t} else {\n\t\t\t\tcomments.sort(function(commentA, commentB) {\n\t\t\t\t\tvar createdA = (new Date(commentA.created)).getTime();\n\t\t\t\t\tvar createdB = (new Date(commentB.created)).getTime();\n\t\t\t\t\tif(sortKey == 'oldest') {\n\t\t\t\t\t\treturn createdA - createdB;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn createdB - createdA;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tsortUsers: function(users) {\n\t\t\tusers.sort(function(a,b) {\n\t\t\t\tvar nameA = a.fullname.toLowerCase().trim();\n\t\t\t\tvar nameB = b.fullname.toLowerCase().trim();\n\t\t\t\tif(nameA < nameB) return -1;\n\t\t\t\tif(nameA > nameB) return 1;\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t},\n\n\t\tsortAndReArrangeComments: function(sortKey) {\n\t\t\tvar commentList = this.$el.find('#comment-list');\n\n\t\t\t// Get main level comments\n\t\t\tvar mainLevelComments = this.getComments().filter(function(commentModel){return !commentModel.parent});\n\t\t\tthis.sortComments(mainLevelComments, sortKey);\n\n\t\t\t// Rearrange the main level comments\n\t\t\t$(mainLevelComments).each(function(index, commentModel) {\n\t\t\t\t\tvar commentEl = commentList.find('> li.comment[data-id='+commentModel.id+']');\n\t\t\t\t\tcommentList.append(commentEl);\n\t\t\t});\n\t\t},\n\n\t\tshowActiveSort: function() {\n\t\t\tvar activeElements = this.$el.find('.navigation li[data-sort-key=\"' + this.currentSortKey + '\"]');\n\n\t\t\t// Indicate active sort\n\t\t\tthis.$el.find('.navigation li').removeClass('active');\n\t\t\tactiveElements.addClass('active');\n\n\t\t\t// Update title for dropdown\n\t\t\tvar titleEl = this.$el.find('.navigation .title');\n\t\t\tif(this.currentSortKey != 'attachments') {\n\t\t\t\ttitleEl.addClass('active');\n\t\t\t\ttitleEl.find('header').html(activeElements.first().html());\n\t\t\t} else {\n\t\t\t\tvar defaultDropdownEl = this.$el.find('.navigation ul.dropdown').children().first();\n\t\t\t\ttitleEl.find('header').html(defaultDropdownEl.html());\n\t\t\t} \n\n\t\t\t// Show active container\n\t\t\tthis.showActiveContainer();\n\t\t},\n\n\t\tforceResponsive: function() {\n\t\t\tthis.$el.addClass('responsive');\n\t\t},\n\n\t\t// Event handlers\n\n\t\tcloseDropdowns: function() {\n\t\t\tthis.$el.find('.dropdown').hide();\n\t\t},\n\n\t\tsaveOnKeydown: function(ev) {\n\t\t\t// Save comment on cmd/ctrl + enter\n\t\t\tif(ev.keyCode == 13) {\n\t\t\t\tvar metaKey = ev.metaKey || ev.ctrlKey;\n\t\t\t\tif(this.options.postCommentOnEnter || metaKey) {                \n\t\t\t\t\tvar el = $(ev.currentTarget);\n\t\t\t\t\tel.siblings('.control-row').find('.save').trigger('click');\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsaveEditableContent: function(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tel.data('before', el.html());\n\t\t},\n\n\t\tcheckEditableContentForChange: function(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tif (el.data('before') != el.html()) {\n\t\t\t\tel.data('before', el.html());\n\t\t\t\tel.trigger('change');\n\t\t\t}\n\t\t},\n\n\t\tnavigationElementClicked: function(ev) {\n\t\t\tvar navigationEl = $(ev.currentTarget);\n\t\t\tvar sortKey = navigationEl.data().sortKey;\n\n\t\t\t// Sort the comments if necessary\n\t\t\tif(sortKey != 'attachments') {\n\t\t\t\t\tthis.sortAndReArrangeComments(sortKey);\n\t\t\t}\n\t\t\t// Save the current sort key\n\t\t\tthis.currentSortKey = sortKey;\n\t\t\tthis.showActiveSort();\n\t\t},\n\n\t\ttoggleNavigationDropdown: function(ev) {\n\t\t\t// Prevent closing immediately\n\t\t\tev.stopPropagation();\n\n\t\t\tvar dropdown = $(ev.currentTarget).find('~ .dropdown');\n\t\t\tdropdown.toggle();\n\t\t},\n\n\t\tshowMainCommentingField: function(ev) {\n\t\t\tvar mainTextarea = $(ev.currentTarget);\n\t\t\tmainTextarea.siblings('.control-row').show();\n\t\t\tmainTextarea.parent().find('.close').show();\n\t\t\tmainTextarea.focus();\n\t\t},\n\n\t\thideMainCommentingField: function(ev) {\n\t\t\tvar closeButton = $(ev.currentTarget);\n\t\t\tvar mainTextarea = this.$el.find('.commenting-field.main .textarea');\n\t\t\tvar mainControlRow = this.$el.find('.commenting-field.main .control-row');\n\n\t\t\tthis.clearTextarea(mainTextarea);\n\t\t\tthis.adjustTextareaHeight(mainTextarea, false);\n\n\t\t\tmainControlRow.hide();\n\t\t\tcloseButton.hide();\n\t\t\tmainTextarea.blur();\n\t\t},\n\n\t\tincreaseTextareaHeight: function(ev) {\n\t\t\tvar textarea = $(ev.currentTarget);\n\t\t\tthis.adjustTextareaHeight(textarea, true);\n\t\t},\n\n\t\ttextareaContentChanged: function(ev) {\n\t\t\tvar textarea = $(ev.currentTarget);\n\t\t\tvar saveButton = textarea.siblings('.control-row').find('.save');\n\n\t\t\t// Update parent id if reply-to tag was removed\n\t\t\tif(!textarea.find('.reply-to.tag').length) {\n\t\t\t\tvar commentId = textarea.attr('data-comment');\n\n\t\t\t\t// Case: editing comment\n\t\t\t\tif(commentId) {\n\t\t\t\t\tvar parentComments = textarea.parents('li.comment');\n\t\t\t\t\tif(parentComments.length > 1) {\n\t\t\t\t\t\tvar parentId = parentComments.last().data('id');\n\t\t\t\t\t\ttextarea.attr('data-parent', parentId);\n\t\t\t\t\t}\n\n\t\t\t\t// Case: new comment\n\t\t\t\t} else {\n\t\t\t\t\tvar parentId = textarea.parents('li.comment').last().data('id');\n\t\t\t\t\ttextarea.attr('data-parent', parentId);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Move close button if scrollbar is visible\n\t\t\tvar commentingField = textarea.parents('.commenting-field').first();\n\t\t\tif(textarea[0].scrollHeight > textarea.outerHeight()) {\n\t\t\t\tcommentingField.addClass('scrollable');\n\t\t\t} else {\n\t\t\t\tcommentingField.removeClass('scrollable');\n\t\t\t}\n\n\t\t\t// Check if content or parent has changed if editing\n\t\t\tvar contentOrParentChangedIfEditing = true;\n\t\t\tvar content = this.getTextareaContent(textarea, true);\n\t\t\tif(commentId = textarea.attr('data-comment')) {\n\t\t\t\tvar contentChanged = content != this.commentsById[commentId].content;\n\t\t\t\tvar parentFromModel;\n\t\t\t\tif(this.commentsById[commentId].parent) {\n\t\t\t\t\tparentFromModel = this.commentsById[commentId].parent.toString();\n\t\t\t\t}\n\t\t\t\tvar parentChanged = textarea.attr('data-parent') != parentFromModel;\n\t\t\t\tcontentOrParentChangedIfEditing = contentChanged || parentChanged;\n\t\t\t}\n\n\t\t\t// Check whether save button needs to be enabled\n\t\t\tif(content.length && contentOrParentChangedIfEditing) {\n\t\t\t\tsaveButton.addClass('enabled');\n\t\t\t} else {\n\t\t\t\tsaveButton.removeClass('enabled');\n\t\t\t}\n\t\t},\n\n\t\tremoveCommentingField: function(ev) {\n\t\t\tvar closeButton = $(ev.currentTarget);\n\n\t\t\t// Remove edit class from comment if user was editing the comment\n\t\t\tvar textarea = closeButton.siblings('.textarea');\n\t\t\tif(textarea.attr('data-comment')) {\n\t\t\t\tcloseButton.parents('li.comment').first().removeClass('edit');\n\t\t\t}\n\n\t\t\t// Remove the field\n\t\t\tvar commentingField = closeButton.parents('.commenting-field').first();\n\t\t\tcommentingField.remove();\n\t\t},\n\n\t\tappendNewComments: function() {\n\t\t\tvar self = this;\n\t\t\tconsole.log($(self.$el.context), $(self.$el.context).length);\n\t\t\tif ($(self.$el.context).length == 0) {\n\t\t\t\tclearTimeout(myVar);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar commentJSONs = this.getComments();\n\n\t\t\tvar success = function(commentsNew, commentsEdit) {\n\t\t\t\tfor (var c in commentsNew) {\n\t\t\t\t\tself.createComment(commentsNew[c]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor (var cmt in commentsEdit) {\n\t\t\t\t\tvar commentModel = self.createCommentModel(commentsEdit[cmt]);\n\t\t\t\t\tself.updateCommentModel(commentModel);\n\t\t\t\t\tself.reRenderComment(commentModel.id);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar error = function() {\n\t\t\t\tconsole.log('jquery comment append new error');\n\t\t\t};\n\t\t\tvar myVar = setTimeout(function(){self.appendNewComments()},30000);\n\t\t\tthis.options.appendNewComments(commentJSONs, success, error);\n\t\t},\n\t\t\t\n\t\tpostComment: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar sendButton = $(ev.currentTarget);\n\t\t\tvar commentingField = sendButton.parents('.commenting-field').first();\n\t\t\tvar textarea = commentingField.find('.textarea');\n\n\t\t\t// Disable send button while request is pending\n\t\t\tsendButton.removeClass('enabled');\n\n\t\t\t// Create comment JSON\n\t\t\tvar commentJSON = this.createCommentJSON(textarea);\n\n\t\t\t// Reverse mapping\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\n\t\t\tvar success = function(commentJSON) {\n\t\t\t\tself.currentSortKey = 'newest'\n\t\t\t\tself.showActiveSort()\n\t\t\t\tself.createComment(commentJSON);\n\t\t\t\tcommentingField.find('.close').trigger('click');\n\t\t\t};\n\n\t\t\tvar error = function() {\n\t\t\t\tsendButton.addClass('enabled');\n\t\t\t};\n\n\t\t\tthis.options.postComment(commentJSON, success, error);\n\t\t},\n\n\t\tcreateComment: function(commentJSON) {\n\t\t\tvar commentModel = this.createCommentModel(commentJSON);\n\t\t\tthis.addCommentToDataModel(commentModel);\n\t\t\tthis.addComment(commentModel);\n\t\t\tif (commentModel.opinion == true) {\n\t\t\t\tthis.addImportantCmt(commentModel);\n\t\t\t}\n\t\t},\n\n\t\tputComment: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar saveButton = $(ev.currentTarget);\n\t\t\tvar commentingField = saveButton.parents('.commenting-field').first();\n\t\t\tvar textarea = commentingField.find('.textarea');\n\n\t\t\t// Disable send button while request is pending\n\t\t\tsaveButton.removeClass('enabled');\n\n\t\t\t// Use a clone of the existing model and update the model after succesfull update\n\t\t\tvar commentJSON =  $.extend({}, this.commentsById[textarea.attr('data-comment')]);\n\t\t\t$.extend(commentJSON, {\n\t\t\t\tparent: textarea.attr('data-parent') || null,\n\t\t\t\tcontent: this.getTextareaContent(textarea),\n\t\t\t\tpings: this.getPings(textarea),\n\t\t\t\tmodified: new Date().getTime()\n\t\t\t});\n\n\t\t\t// Reverse mapping\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\t\t\t\n\t\t\tvar success = function(commentJSON) {\n\t\t\t\t// The outermost parent can not be changed by editing the comment so the childs array\n\t\t\t\t// of parent does not require an update\n\n\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\n\t\t\t\n\t\t\t\t// Delete childs array from new comment model since it doesn't need an update\n\t\t\t\tdelete commentModel['childs'];\n\t\t\t\tself.updateCommentModel(commentModel);\n\t\t\t\t// Close the editing field\n\t\t\t\tcommentingField.find('.close').trigger('click');\n\n\t\t\t\t// Re-render the comment\n\t\t\t\tself.reRenderComment(commentModel.id);\n\t\t\t};\n\n\t\t\tvar error = function() {\n\t\t\t\tsaveButton.addClass('enabled');\n\t\t\t};\n\n\t\t\tthis.options.putComment(commentJSON, success, error);\n\t\t},\n\n\t\tdeleteComment: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar deleteButton = $(ev.currentTarget);\n\t\t\tvar commentEl = deleteButton.parents('.comment').first();\n\t\t\tvar commentJSON =  $.extend({}, this.commentsById[commentEl.attr('data-id')]);\n\t\t\tvar commentId = commentJSON.id;\n\t\t\tvar parentId = commentJSON.parent;\n\n\t\t\t// Disable send button while request is pending\n\t\t\tdeleteButton.removeClass('enabled');\n\n\t\t\t// Reverse mapping\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\n\t\t\tvar success = function() {\n\t\t\t\tself.removeComment(commentId);\n\t\t\t\tif(parentId) self.reRenderCommentActionBar(parentId);\n\t\t\t\t// \n\t\t\t\tif (commentJSON.opinion==true) {\n\t\t\t\t\t$(`[data-sort-key=${self.currentSortKey}]`).trigger('click')\n\t\t\t\t}\n\t\t\t\t// \n\t\t\t};\n\n\t\t\tvar error = function() {\n\t\t\t\tdeleteButton.addClass('enabled');\n\t\t\t};\n\n\t\t\tthis.options.deleteComment(commentJSON, success, error);\n\t\t},\n\n\t\thashtagClicked: function(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tvar value = el.attr('data-value');\n\t\t\tthis.options.hashtagClicked(value);\n\t\t},\n\n\t\tpingClicked: function(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tvar value = el.attr('data-value');\n\t\t\tthis.options.pingClicked(value);\n\t\t},\n\n\t\tfileInputChanged: function(ev, files) {\n\t\t\tvar files = ev.currentTarget.files;\n\t\t\tvar commentingField = $(ev.currentTarget).parents('.commenting-field').first();\n\t\t\tthis.uploadAttachments(files, commentingField);\n\t\t},\n\n\t\tupvoteComment: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar commentEl = $(ev.currentTarget).parents('li.comment').first();\n\t\t\tvar commentModel = commentEl.data().model;\n\n\t\t\t// Check whether user upvoted the comment or revoked the upvote\n\t\t\tvar previousUpvoteCount = commentModel.upvoteCount;\n\t\t\tvar newUpvoteCount;\n\t\t\tif(commentModel.userHasUpvoted) {\n\t\t\t\tnewUpvoteCount = previousUpvoteCount - 1;\n\t\t\t} else {\n\t\t\t\tnewUpvoteCount = previousUpvoteCount + 1;\n\t\t\t}\n\n\t\t\t// Show changes immediatelly\n\t\t\tcommentModel.userHasUpvoted = !commentModel.userHasUpvoted;\n\t\t\tcommentModel.upvoteCount = newUpvoteCount;\n\t\t\tthis.reRenderUpvotes(commentModel.id);\n\n\t\t\t// Reverse mapping\n\t\t\tvar commentJSON = $.extend({}, commentModel);\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\n\t\t\tvar success = function(commentJSON) {\n\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\n\t\t\t\tself.updateCommentModel(commentModel);\n\t\t\t\tself.reRenderUpvotes(commentModel.id);\n\t\t\t};\n\n\t\t\tvar error = function() {\n\t\t\t\t// Revert changes\n\t\t\t\tcommentModel.userHasUpvoted = !commentModel.userHasUpvoted;\n\t\t\t\tcommentModel.upvoteCount = previousUpvoteCount;\n\t\t\t\tself.reRenderUpvotes(commentModel.id);\n\t\t\t};\n\n\t\t\tthis.options.upvoteComment(commentJSON, success, error);\n\t\t},\n\n\t\ttoggleReplies: function(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tel.siblings('.hidden-reply').toggleClass('visible');\n\t\t\tthis.setToggleAllButtonText(el, true);\n\t\t},\n\n\t\treplyButtonClicked: function(ev) {\n\t\t\tvar replyButton = $(ev.currentTarget);\n\t\t\tvar outermostParent = replyButton.parents('li.comment').last();\n\t\t\tvar parentId = replyButton.parents('.comment').first().data().id;\n\n\t\t\t// Remove existing field\n\t\t\tvar replyField = outermostParent.find('.child-comments > .commenting-field');\n\t\t\tif(replyField.length) replyField.remove();\n\t\t\tvar previousParentId = replyField.find('.textarea').attr('data-parent');\n\n\t\t\t// Create the reply field (do not re-create)\n\t\t\tif(previousParentId != parentId) {\n\t\t\t\treplyField = this.createCommentingFieldElement(parentId, null, false);\n\t\t\t\toutermostParent.find('.child-comments').append(replyField);\n\n\t\t\t\t// Move cursor to end\n\t\t\t\tvar textarea = replyField.find('.textarea');\n\t\t\t\tthis.moveCursorToEnd(textarea)\n\n\t\t\t\t// Make sure the reply field will be displayed\n\t\t\t\tvar scrollTop = this.options.scrollContainer.scrollTop();\n\t\t\t\tvar endOfReply = scrollTop + replyField.position().top + replyField.outerHeight();\n\t\t\t\tvar endOfScrollable = scrollTop + this.options.scrollContainer.outerHeight();\n\t\t\t\tif(endOfReply > endOfScrollable) {\n\t\t\t\t\tvar newScrollTop = scrollTop + (endOfReply - endOfScrollable);\n\t\t\t\t\tthis.options.scrollContainer.scrollTop(newScrollTop);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\teditButtonClicked: function(ev) {\n\t\t\tvar editButton = $(ev.currentTarget);\n\t\t\tvar commentEl = editButton.parents('li.comment').first();\n\t\t\tvar commentModel = commentEl.data().model;\n\t\t\t\n\t\t\tcommentModel = this.commentsById[commentModel.id];\n\t\t\tcommentEl.addClass('edit');\n\n\t\t\t// Create the editing field\n\t\t\tvar editField = this.createCommentingFieldElement(commentModel.parent, commentModel.id, false);\n\t\t\tcommentEl.find('.comment-wrapper').first().append(editField);\n\n\t\t\t// Append original content\n\t\t\tvar textarea = editField.find('.textarea');\n\t\t\ttextarea.attr('data-comment', commentModel.id);\n\n\t\t\t// Escaping HTML\n\t\t\ttextarea.append(this.getFormattedCommentContent(commentModel, true));\n\n\t\t\t// Move cursor to end\n\t\t\tthis.moveCursorToEnd(textarea);\n\t\t},\n\n\t\tshowDroppableOverlay: function(ev) {\n\t\t\tif(this.options.enableAttachments) {\n\t\t\t\tthis.$el.find('.droppable-overlay').css('top', this.$el[0].scrollTop);\n\t\t\t\tthis.$el.find('.droppable-overlay').show();\n\t\t\t\tthis.$el.addClass('drag-ongoing');\n\t\t\t}\n\t\t},\n\n\t\thandleDragEnter: function(ev) {\n\t\t\tvar count = $(ev.currentTarget).data('dnd-count') || 0;\n\t\t\tcount++;\n\t\t\t$(ev.currentTarget).data('dnd-count', count);\n\t\t\t$(ev.currentTarget).addClass('drag-over');\n\t\t},\n\n\t\thandleDragLeave: function(ev, callback) {\n\t\t\tvar count = $(ev.currentTarget).data('dnd-count');\n\t\t\tcount--;\n\t\t\t$(ev.currentTarget).data('dnd-count', count);\n\n\t\t\tif(count == 0) {            \n\t\t\t\t$(ev.currentTarget).removeClass('drag-over');\n\t\t\t\tif(callback) callback();\n\t\t\t}\n\t\t},\n\n\t\thandleDragLeaveForOverlay: function(ev) {\n\t\t\tvar self = this;\n\t\t\tthis.handleDragLeave(ev, function() {\n\t\t\t\tself.hideDroppableOverlay();\n\t\t\t});\n\t\t},\n\n\t\thandleDragLeaveForDroppable: function(ev) {\n\t\t\tthis.handleDragLeave(ev);\n\t\t},\n\n\t\thandleDragOverForOverlay: function(ev) {\n\t\t\tev.stopPropagation();\n\t\t\tev.preventDefault();\n\t\t\tev.originalEvent.dataTransfer.dropEffect = 'copy';\n\t\t},\n\n\t\thideDroppableOverlay: function() {\n\t\t\tthis.$el.find('.droppable-overlay').hide();\n\t\t\tthis.$el.removeClass('drag-ongoing');\n\t\t},\n\n\t\thandleDrop: function(ev) {\n\t\t\tev.preventDefault();\n\n\t\t\t// Reset DND counts\n\t\t\t$(ev.target).trigger('dragleave');\n\n\t\t\t// Hide the overlay and upload the files\n\t\t\tthis.hideDroppableOverlay();\n\t\t\tthis.uploadAttachments(ev.originalEvent.dataTransfer.files);\n\t\t},\n\n\t\tstopPropagation: function(ev) {\n\t\t\tev.stopPropagation();\n\t\t},\n\n\n\t\t// HTML elements\n\n\t\tcreateHTML: function() {\n\t\t\tvar self = this;\n\t\t\t// Commenting field\n\t\t\tvar mainCommentingField = this.createCommentingFieldElement(null, null, true);\n\t\t\tmainCommentingField.addClass('main');\n\t\t\tthis.$el.append(mainCommentingField);\n\n\t\t\t// Hide control row and close button\n\t\t\tvar mainControlRow = mainCommentingField.find('.control-row');\n\t\t\tmainControlRow.hide();\n\t\t\tmainCommentingField.find('.close').hide();\n\n\t\t\t// Navigation bar\n\t\t\tif (this.options.enableNavigation) {\n\t\t\t\tthis.$el.append(this.createNavigationElement());\n\t\t\t\tthis.showActiveSort();\n\t\t\t}\n\n\t\t\t// Loading spinner\n\t\t\tvar spinner = this.createSpinner();\n\t\t\tthis.$el.append(spinner);\n\n\t\t\t// Comments container\n\t\t\tvar commentsContainer = $('<div/>', {\n\t\t\t\t'class': 'data-container overflowComment',\n\t\t\t\t'data-container': 'comments'\n\t\t\t});\n\t\t\tthis.$el.append(commentsContainer);\n\t\t\t\t\n\t\t\t// \"No comments\" placeholder\n\t\t\tvar noComments = $('<div/>', {\n\t\t\t\t'class': 'no-comments no-data',\n\t\t\t\ttext: this.options.textFormatter(this.options.noCommentsText)\n\t\t\t});\n\t\t\tvar noCommentsIcon = $('<i/>', {\n\t\t\t\t'class': 'fa fa-comments fa-2x'\n\t\t\t});\n\t\t\tif(this.options.noCommentsIconURL.length) {\n\t\t\t\tnoCommentsIcon.css('background-image', 'url(\"'+this.options.noCommentsIconURL+'\")');\n\t\t\t\tnoCommentsIcon.addClass('image');\n\t\t\t}\n\t\t\tnoComments.prepend($('<br/>')).prepend(noCommentsIcon);            \n\t\t\tcommentsContainer.append(noComments);\n\n\t\t\t// important Comment Container\n\t\t\tvar importantCmtContainer = $('<div/>', {\n\t\t\t\t'class': 'data-container overflowComment',\n\t\t\t\t'data-container': 'importantCmt'\n\t\t\t});\n\t\t\tthis.$el.append(importantCmtContainer);\n\t\t\t\t// \"No comments Important\" placeholder\n\t\t\tvar noCommentsImpt = $('<div/>', {\n\t\t\t\t'class': 'no-comments no-data',\n\t\t\t\ttext: this.options.textFormatter(this.options.noCommentsImportantText)\n\t\t\t});\n\t\t\tvar noCommentsImptIcon = $('<i/>', {\n\t\t\t\t'class': 'fa fa-comments fa-2x'\n\t\t\t});\n\t\t\tif(this.options.noCommentsImptIconURL.length) {\n\t\t\t\tnoCommentsImptIcon.css('background-image', 'url(\"'+this.options.noCommentsImptIconURL+'\")');\n\t\t\t\tnoCommentsImptIcon.addClass('image');\n\t\t\t}\n\t\t\tnoCommentsImpt.prepend($('<br/>')).prepend(noCommentsImptIcon);            \n\t\t\timportantCmtContainer.append(noCommentsImpt);\n\n\t\t\t// Attachments\n\t\t\tif(this.options.enableAttachments) {\n\t\t\t\t// Attachments container\n\t\t\t\tvar attachmentsContainer = $('<div/>', {\n\t\t\t\t\t'class': 'data-container overflowComment',\n\t\t\t\t\t'data-container': 'attachments'\n\t\t\t\t});\n\t\t\t\tthis.$el.append(attachmentsContainer);\n\t\t\t\t\n\t\t\t\t// \"No attachments\" placeholder\n\t\t\t\tvar noAttachments = $('<div/>', {\n\t\t\t\t\t'class': 'no-attachments no-data',\n\t\t\t\t\ttext: this.options.textFormatter(this.options.noAttachmentsText)\n\t\t\t\t});\n\t\t\t\tvar noAttachmentsIcon = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-paperclip fa-2x'\n\t\t\t\t});\n\t\t\t\tif(this.options.attachmentIconURL.length) {\n\t\t\t\t\tnoAttachmentsIcon.css('background-image', 'url(\"'+this.options.attachmentIconURL+'\")');\n\t\t\t\t\tnoAttachmentsIcon.addClass('image');\n\t\t\t\t}\n\t\t\t\tnoAttachments.prepend($('<br/>')).prepend(noAttachmentsIcon);\n\t\t\t\tattachmentsContainer.append(noAttachments);\n\n\n\t\t\t\t// Drag & dropping attachments\n\t\t\t\tvar droppableOverlay = $('<div/>', {\n\t\t\t\t\t'class': 'droppable-overlay'\n\t\t\t\t});\n\n\t\t\t\tvar droppableContainer = $('<div/>', {\n\t\t\t\t\t'class': 'droppable-container'\n\t\t\t\t});\n\n\t\t\t\tvar droppable = $('<div/>', {\n\t\t\t\t\t'class': 'droppable'\n\t\t\t\t});\n\n\t\t\t\tvar uploadIcon = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-upload fa-4x'\n\t\t\t\t});\n\t\t\t\tif(this.options.uploadIconURL.length) {\n\t\t\t\t\tuploadIcon.css('background-image', 'url(\"'+this.options.uploadIconURL+'\")');\n\t\t\t\t\tuploadIcon.addClass('image');\n\t\t\t\t}\n\n\t\t\t\tvar dropAttachmentText = $('<div/>', {\n\t\t\t\t\ttext: this.options.textFormatter(this.options.attachmentDropText)\n\t\t\t\t});\n\t\t\t\tdroppable.append(uploadIcon);\n\t\t\t\tdroppable.append(dropAttachmentText);\n\n\t\t\t\tdroppableOverlay.html(droppableContainer.html(droppable)).hide();\n\t\t\t\tthis.$el.append(droppableOverlay);\n\t\t\t}\n\t\t},\n\n\t\tcreateProfilePictureElement: function(src) {\n\t\t\tif(src) {\n\t\t\t\tvar profilePicture = $('<img/>', {\n\t\t\t\t\tsrc: src\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar profilePicture = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-user'\n\t\t\t\t});\n\t\t\t}\n\t\t\tprofilePicture.addClass('profile-picture');\n\t\t\tif(this.options.roundProfilePictures) profilePicture.addClass('round');\n\t\t\treturn profilePicture;\n\t\t},\n\n\t\tcreateCommentingFieldElement: function(parentId, existingCommentId, enableOpinion) {\n\t\t\tvar self = this;\n\t\t\t// Commenting field\n\t\t\tvar commentingField = $('<div/>', {\n\t\t\t\t'class': 'commenting-field'\n\t\t\t});\n\n\t\t\t// Profile picture\n\t\t\tif(existingCommentId) {\n\t\t\t\tvar profilePictureURL = this.commentsById[existingCommentId].profilePictureURL;\n\t\t\t} else {\n\t\t\t\tvar profilePictureURL = this.options.profilePictureURL;\n\t\t\t}\n\t\t\tvar profilePicture = this.createProfilePictureElement(profilePictureURL);\n\n\t\t\t// New comment\n\t\t\tvar textareaWrapper = $('<div/>', {\n\t\t\t\t'class': 'textarea-wrapper'\n\t\t\t});\n\n\t\t\t// Control row\n\t\t\tvar controlRow = $('<div/>', {\n\t\t\t\t'class': 'control-row'\n\t\t\t});\n\n\t\t\t// Textarea\n\t\t\tvar textarea = $('<div/>', {\n\t\t\t\t'class': 'textarea',\n\t\t\t\t'data-placeholder': this.options.textFormatter(this.options.textareaPlaceholderText),\n\t\t\t\tcontenteditable: true\n\t\t\t});\n\n\t\t\t// Setting the initial height for the textarea\n\t\t\tthis.adjustTextareaHeight(textarea, false);\n\n\t\t\t// Close button\n\t\t\tvar closeButton = $('<span/>', {\n\t\t\t\t'class': 'close'\n\t\t\t}).append($('<span class=\"left\"/>')).append($('<span class=\"right\"/>'));\n\n\t\t\t// Save button text\n\t\t\tif(existingCommentId) {\n\t\t\t\tvar saveButtonText = this.options.textFormatter(this.options.saveText);\n\t\t\t\tvar opinionCmtId = existingCommentId\n\t\t\t\t// Delete button Edit Comment\n\t\t\t\t// var deleteButton = $('<span/>', {\n\t\t\t\t// \t\t'class': 'delete',\n\t\t\t\t// \t\ttext: this.options.textFormatter(this.options.deleteText)\n\t\t\t\t// }).css('background-color', this.options.deleteButtonColor);\n\t\t\t\t// controlRow.append(deleteButton);\n\n\t\t\t\t// // Enable the delete button only if the user is allowed to delete\n\t\t\t\t// if(this.isAllowedToDelete(existingCommentId)) deleteButton.addClass('enabled')\n\n\t\t\t} else {\n\t\t\t\tvar saveButtonText = this.options.textFormatter(this.options.sendText);\n\t\t\t\tvar opinionCmtId =''\n\t\t\t\t// Add upload button if attachments are enabled\n\t\t\t\tif(this.options.enableAttachments) {\n\t\t\t\t\tvar uploadButton = $('<span/>', {\n\t\t\t\t\t\t'class': 'enabled upload'\n\t\t\t\t\t});\n\t\t\t\t\tvar uploadIcon = $('<i/>', {\n\t\t\t\t\t\t'class': 'md-icon',\n\t\t\t\t\t\ttext: 'Tải lên'\n\t\t\t\t\t});\n\t\t\t\t\tvar fileInput = $('<input/>', {\n\t\t\t\t\t\ttype: 'file',\n\t\t\t\t\t\t'data-role': 'none' // Prevent jquery-mobile for adding classes\n\t\t\t\t\t});\n\t\t\t\t\t// Multi file upload might not work with backend as the the file names\n\t\t\t\t\t// may be the same causing duplicates\n\t\t\t\t\tif(!$.browser.mobile) fileInput.attr('multiple', 'multiple');\n\n\t\t\t\t\tif(this.options.uploadIconURL.length) {\n\t\t\t\t\t\tuploadIcon.css('background-image', 'url(\"'+this.options.uploadIconURL+'\")');\n\t\t\t\t\t\tuploadIcon.addClass('image');\n\t\t\t\t\t}\n\t\t\t\t\tuploadButton.append(uploadIcon).append(fileInput);\n\t\t\t\t\tcontrolRow.append(uploadButton);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Save button\n\t\t\tvar saveButtonClass = existingCommentId ? 'update' : 'send';\n\t\t\tvar saveButton = $('<span/>', {\n\t\t\t\t'class': saveButtonClass + ' save highlight-background',\n\t\t\t\ttext: saveButtonText\n\t\t\t});\n\t\t\t// Check opinion\n\n\t\t\tif (enableOpinion) {\n\t\t\t\tvar checkOpinion = $('<input/>', {\n\t\t\t\t\t'class': 'opinion checkOpinion mt-1 mr-1',\n\t\t\t\t\t'id': 'opinion' + opinionCmtId,\n\t\t\t\t\t'name': 'opinion' + opinionCmtId,\n\t\t\t\t\t'type': 'checkbox'\n\t\t\t\t});\n\t\t\t\tvar labelCheckOpinion = $('<label/>', {\n\t\t\t\t\t'class': 'opinion label-opinion',\n\t\t\t\t\t'for': 'opinion'+opinionCmtId,\n\t\t\t\t\ttext: 'Ý kiến chính thức'\n\t\t\t\t});\n\t\t\t\tcontrolRow.append(checkOpinion).append(labelCheckOpinion);\n\t\t\t}\n\t\t\t\n\t\t\t// Populate the element\n\t\t\tcontrolRow.prepend(saveButton);\n\t\t\ttextareaWrapper.append(closeButton).append(textarea).append(controlRow);\n\t\t\tcommentingField.append(profilePicture).append(textareaWrapper);\n\n\n\t\t\tif(parentId) {\n\n\t\t\t\t\t// Set the parent id to the field if necessary\n\t\t\t\ttextarea.attr('data-parent', parentId);\n\n\t\t\t\t// Append reply-to tag if necessary\n\t\t\t\tvar parentModel = this.commentsById[parentId];\n\t\t\t\tif(parentModel.parent) {\n\t\t\t\t\ttextarea.html('&nbsp;');    // Needed to set the cursor to correct place\n\n\t\t\t\t\t// Creating the reply-to tag\n\t\t\t\t\tvar replyToName = '@' + parentModel.fullname;\n\t\t\t\t\tvar replyToTag = this.createTagElement(replyToName, 'reply-to', parentModel.creator);\n\t\t\t\t\ttextarea.prepend(replyToTag);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Pinging users\n\t\t\tif(this.options.enablePinging) {\n\t\t\t\t\ttextarea.textcomplete([{\n\t\t\t\t\t\t\t/**match: /(^|\\s)@(([a-zäöüß]|\\s)*)$/im,*/\n\t\t\t\t\t\tmatch: /(^|\\s)@(([0-9]|[^\\u0000-\\u007F]|[a-zäöüß]|\\s)*)$/im,\n\t\t\t\t\t\t\tsearch: function (term, callback) {\n\t\t\t\t\t\t\t\t// console.log(term);\n\t\t\t\t\t\t\t\t\tterm = self.normalizeSpaces(term);\n\n\t\t\t\t\t\t\t\t\t// Users excluding self and already pinged users\n\t\t\t\t\t\t\t\t\tvar pings = self.getPings(textarea);\n\t\t\t\t\t\t\t\t\tvar users = self.getUsers().filter(function(user) {\n\t\t\t\t\t\t\t\t\t\t\tvar isSelf = user.id == self.options.currentUserId;\n\t\t\t\t\t\t\t\t\t\t\tvar alreadyPinged = pings.indexOf(user.id) != -1;\n\t\t\t\t\t\t\t\t\t\t\treturn !isSelf && !alreadyPinged;\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t// Sort users\n\t\t\t\t\t\t\t\t\tself.sortUsers(users);\n\n\t\t\t\t\t\t\t\t\tcallback($.map(users, function (user) {\n\t\t\t\t\t\t\t\t\t\t\tvar lowercaseTerm = term.toLowerCase();\n\t\t\t\t\t\t\t\t\t\t\tvar nameMatch = user.fullname.toLowerCase().indexOf(lowercaseTerm) != -1;\n\t\t\t\t\t\t\t\t\t\t\tvar emailMatch = user.email.toLowerCase().indexOf(lowercaseTerm) != -1;\n\t\t\t\t\t\t\t\t\t\t\treturn nameMatch || emailMatch ? user : null;\n\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttemplate: function(user) {\n\t\t\t\t\t\t\t\t\tvar wrapper = $('<div/>');\n\n\t\t\t\t\t\t\t\t\tvar profilePictureEl = $('<img/>', {\n\t\t\t\t\t\t\t\t\t\t\tsrc: user.pictureUrl,\n\t\t\t\t\t\t\t\t\t\t\t'class': 'profile-picture round'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tvar detailsEl = $('<div/>', {\n\t\t\t\t\t\t\t\t\t\t\t'class': 'details',\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tvar nameEl = $('<div/>', {\n\t\t\t\t\t\t\t\t\t\t\t'class': 'name',\n\t\t\t\t\t\t\t\t\t}).html(user.fullname);\n\n\t\t\t\t\t\t\t\t\tvar emailEl = $('<div/>', {\n\t\t\t\t\t\t\t\t\t\t\t'class': 'email',\n\t\t\t\t\t\t\t\t\t}).html(user.email);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (user.email) {\n\t\t\t\t\t\t\t\t\t\t\tdetailsEl.append(nameEl).append(emailEl);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tdetailsEl.addClass('no-email')\n\t\t\t\t\t\t\t\t\t\t\tdetailsEl.append(nameEl)\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\twrapper.append(profilePictureEl).append(detailsEl);\n\t\t\t\t\t\t\t\t\treturn wrapper.html();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\treplace: function (user) {\n\t\t\t\t\t\t\t\t\tvar tag = self.createTagElement('@' + user.fullname, 'ping', user.id);\n\t\t\t\t\t\t\t\t\treturn ' ' + tag[0].outerHTML + ' ';\n\t\t\t\t\t\t\t},\n\t\t\t\t\t}], {\n\t\t\t\t\t\t\tappendTo: '.jquery-comments',\n\t\t\t\t\t\t\tdropdownClassName: 'dropdown autocomplete',\n\t\t\t\t\t\t\tmaxCount: 5,\n\t\t\t\t\t\t\trightEdgeOffset: 0,\n\t\t\t\t\t});\n\n\n\t\t\t\t\t// OVERIDE TEXTCOMPLETE DROPDOWN POSITIONING\n\n\t\t\t\t\t$.fn.textcomplete.Dropdown.prototype.render = function(zippedData) {\n\t\t\t\t\t\tvar contentsHtml = this._buildContents(zippedData);\n\t\t\t\t\t\tvar unzippedData = $.map(zippedData, function (d) { return d.value; });\n\t\t\t\t\t\tif (zippedData.length) {\n\t\t\t\t\t\t\tvar strategy = zippedData[0].strategy;\n\t\t\t\t\t\t\tif (strategy.id) {\n\t\t\t\t\t\t\t\tthis.$el.attr('data-strategy', strategy.id);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.$el.removeAttr('data-strategy');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._renderHeader(unzippedData);\n\t\t\t\t\t\t\tthis._renderFooter(unzippedData);\n\t\t\t\t\t\t\tif (contentsHtml) {\n\t\t\t\t\t\t\t\tthis._renderContents(contentsHtml);\n\t\t\t\t\t\t\t\tthis._fitToBottom();\n\t\t\t\t\t\t\t\tthis._fitToRight();\n\t\t\t\t\t\t\t\tthis._activateIndexedItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._setScroll();\n\t\t\t\t\t\t} else if (this.noResultsMessage) {\n\t\t\t\t\t\t\tthis._renderNoResultsMessage(unzippedData);\n\t\t\t\t\t\t} else if (this.shown) {\n\t\t\t\t\t\t\tthis.deactivate();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// CUSTOM CODE\n\t\t\t\t\t\t// ===========\n\n\t\t\t\t\t\t// Adjust vertical position\n\t\t\t\t\t\tvar top = parseInt(this.$el.css('top')) + self.options.scrollContainer.scrollTop();\n\t\t\t\t\t\tthis.$el.css('top', top);\n\n\t\t\t\t\t\t// Adjust horizontal position\n\t\t\t\t\t\tvar originalLeft = this.$el.css('left');\n\t\t\t\t\t\tthis.$el.css('left', 0);    // Left must be set to 0 in order to get the real width of the el\n\t\t\t\t\t\tvar maxLeft = self.$el.width() - this.$el.outerWidth();\n\t\t\t\t\t\tvar left = Math.min(maxLeft, parseInt(originalLeft));\n\t\t\t\t\t\tthis.$el.css('left', left);\n\n\t\t\t\t\t\t// ===========\n\t\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn commentingField;\n\t},\n\n\tcreateNavigationElement: function() {\n\t\tvar navigationEl = $('<ul/>', {\n\t\t\t'class': 'navigation'\n\t\t});\n\t\tvar navigationWrapper = $('<div/>', {\n\t\t\t'class': 'navigation-wrapper'\n\t\t});\n\t\tnavigationEl.append(navigationWrapper);\n\n\t\t// Newest\n\t\tvar newest = $('<li/>', {\n\t\t\ttext: this.options.textFormatter(this.options.newestText),\n\t\t\t'data-sort-key': 'newest',\n\t\t\t'data-container-name': 'comments'\n\t\t});\n\n\t\t// Oldest\n\t\tvar oldest = $('<li/>', {\n\t\t\ttext: this.options.textFormatter(this.options.oldestText),\n\t\t\t'data-sort-key': 'oldest',\n\t\t\t'data-container-name': 'comments'\n\t\t});\n\t\t// Important\n\t\tvar important = $('<li/>', {\n\t\t\ttext: this.options.textFormatter(this.options.importantCmtText),\n\t\t\t'data-sort-key': 'important',\n\t\t\t'data-container-name': 'importantCmt'\n\t\t});\n\t\t// Popular\n\t\tvar popular = $('<li/>', {\n\t\t\ttext: this.options.textFormatter(this.options.popularText),\n\t\t\t'data-sort-key': 'popularity',\n\t\t\t'data-container-name': 'comments'\n\t\t});\n\n\t\t// Attachments\n\t\tvar attachments = $('<li/>', {\n\t\t\ttext: this.options.textFormatter(this.options.attachmentsText),\n\t\t\t'data-sort-key': 'attachments',\n\t\t\t'data-container-name': 'attachments'\n\t\t});\n\n\t\t// Attachments icon\n\t\tvar attachmentsIcon = $('<i/>', {\n\t\t\t'class': 'fa fa-paperclip'\n\t\t});\n\t\tif(this.options.attachmentIconURL.length) {\n\t\t\tattachmentsIcon.css('background-image', 'url(\"'+this.options.attachmentIconURL+'\")');\n\t\t\tattachmentsIcon.addClass('image');\n\t\t}\n\t\tattachments.prepend(attachmentsIcon);\n\n\t\t// Responsive navigation\n\t\tvar dropdownNavigationWrapper = $('<div/>', {\n\t\t\t'class': 'navigation-wrapper responsive'\n\t\t});\n\t\tvar dropdownNavigation = $('<ul/>', {\n\t\t\t'class': 'dropdown'\n\t\t});\n\t\tvar dropdownTitle = $('<li/>', {\n\t\t\t'class': 'title'\n\t\t});\n\t\tvar dropdownTitleHeader = $('<header/>');\n\n\t\tdropdownTitle.append(dropdownTitleHeader);\n\t\tdropdownNavigationWrapper.append(dropdownTitle);\n\t\tdropdownNavigationWrapper.append(dropdownNavigation);\n\t\tnavigationEl.append(dropdownNavigationWrapper);\n\n\t\t// Populate elements\n\t\tnavigationWrapper.append(newest).append(oldest).append(important);\n\t\tdropdownNavigation.append(newest.clone()).append(oldest.clone()).append(important.clone());\n\n\t\tif(this.options.enableReplying || this.options.enableUpvoting) {\n\t\t\tnavigationWrapper.append(popular);\n\t\t\tdropdownNavigation.append(popular.clone());\n\t\t}\n\t\tif(this.options.enableAttachments) {\n\t\t\tnavigationWrapper.append(attachments);\n\t\t\tdropdownNavigationWrapper.append(attachments.clone());\n\t\t}\n\n\t\tif(this.options.forceResponsive) this.forceResponsive();\n\t\treturn navigationEl;\n\t},\n\n\tcreateSpinner: function() {\n\t\tvar spinner = $('<div/>', {\n\t\t\t'class': 'spinner'\n\t\t});\n\t\tvar spinnerIcon = $('<i/>', {\n\t\t\t'class': 'fa fa-spinner fa-spin'\n\t\t});\n\t\tif(this.options.spinnerIconURL.length) {\n\t\t\tspinnerIcon.css('background-image', 'url(\"'+this.options.spinnerIconURL+'\")');\n\t\t\tspinnerIcon.addClass('image');\n\t\t}\n\t\tspinner.html(spinnerIcon);\n\t\treturn spinner;\n\t},\n\n\tcreateCommentElement: function(commentModel) {\n\n\t\t// Comment container element\n\t\tvar commentEl = $('<li/>', {\n\t\t\t'data-id': commentModel.id,\n\t\t\t'class': 'comment'\n\t\t}).data('model', commentModel);\n\n\t\tif(commentModel.createdByCurrentUser) commentEl.addClass('by-current-user');\n\t\tif(commentModel.createdByAdmin) commentEl.addClass('by-admin');\n\n\t\t// Child comments\n\t\tvar childComments = $('<ul/>', {\n\t\t\t'class': 'child-comments'\n\t\t});\n\n\t\t// Comment wrapper\n\t\tvar commentWrapper = this.createCommentWrapperElement(commentModel);\n\n\t\tcommentEl.append(commentWrapper);\n\t\tif(commentModel.parent == null) commentEl.append(childComments);\n\t\treturn commentEl;\n\t},\n\n\tcreateCommentWrapperElement: function(commentModel) {\n\t\tvar commentWrapper = $('<div/>', {\n\t\t\t'class': 'comment-wrapper'\n\t\t});\n\n\t\t// Profile picture\n\t\tvar profilePicture = this.createProfilePictureElement(commentModel.profilePictureURL);\n\n\t\t// Time\n\t\tvar time = $('<time/>', {\n\t\t\ttext: this.options.timeFormatter(commentModel.created),\n\t\t\t'data-original': commentModel.created\n\t\t});\n\n\t\t// Name\n\t\tvar nameText = commentModel.createdByCurrentUser ? this.options.textFormatter(this.options.youText) : commentModel.fullname;\n\t\tvar name = $('<div/>', {\n\t\t\t'class': 'name'\n\t\t});\n\t\tif(commentModel.profileURL) {\n\t\t\tvar link = $('<a/>', {\n\t\t\t\thref: commentModel.profileURL,\n\t\t\t\ttext: nameText\n\t\t\t});\n\t\t\tname.html(link);\n\t\t} else {\n\t\t\tname.text(nameText);\n\t\t}\n\n\t\t// Highlight name for own comments and admin\n\t\tif(commentModel.createdByCurrentUser || commentModel.createdByAdmin) name.addClass('highlight-font-bold');\n\n\t\t// Show reply-to name if parent of parent exists\n\t\tif(commentModel.parent) {\n\t\t\tvar parent = this.commentsById[commentModel.parent];\n\t\t\tif(parent.parent) {\n\t\t\t\tvar replyTo = $('<span/>', {\n\t\t\t\t\t'class': 'reply-to',\n\t\t\t\t\ttext: parent.fullname\n\t\t\t\t});\n\n\t\t\t\t// reply icon\n\t\t\t\tvar replyIcon = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-share'\n\t\t\t\t});\n\t\t\t\tif(this.options.replyIconURL.length) {\n\t\t\t\t\treplyIcon.css('background-image', 'url(\"'+this.options.replyIconURL+'\")');\n\t\t\t\t\treplyIcon.addClass('image');\n\t\t\t\t}\n\n\t\t\t\treplyTo.prepend(replyIcon);\n\t\t\t\tname.append(replyTo);\n\t\t\t}\n\t\t}\n\n\t\t// New tag\n\t\tif(commentModel.isNew) {\n\t\t\tvar newTag = $('<span/>', {\n\t\t\t\t'class': 'new highlight-background',\n\t\t\t\ttext: this.options.newText\n\t\t\t});\n\t\t\tname.append(newTag);\n\t\t}\n\n\t\t// Wrapper\n\t\tvar wrapper = $('<div/>', {\n\t\t\t'class': 'wrapper'\n\t\t});\n\t\t// Note Ý kiến chính thức\n\t\tvar noteOpinion = $('<div/>', {\n\t\t\t'class': 'note-opinion',\n\t\t\ttext: '(Ý kiến chính thức)'\n\t\t});\n\t\t// Content\n\t\tvar content = $('<div/>', {\n\t\t\t'class': 'content'\n\t\t});\n\n\t\t// Case: attachment\n\t\tvar isAttachment = commentModel.fileURL != undefined;\n\t\tif(isAttachment) {\n\t\t\tvar format = null;\n\t\t\tvar type = null;\n\n\t\t\t// Type and format\n\t\t\tif(commentModel.fileMimeType) {\n\t\t\t\tvar mimeTypeParts = commentModel.fileMimeType.split('/');\n\t\t\t\tif(mimeTypeParts.length == 2) {\n\t\t\t\t\tformat = mimeTypeParts[1];\n\t\t\t\t\ttype = mimeTypeParts[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Attachment link\n\t\t\tvar link = $('<a/>', {\n\t\t\t\t'class': 'attachment',\n\t\t\t\thref: commentModel.fileURL,\n\t\t\t\ttarget: '_blank'\n\t\t\t});\n\t\t\t\n\t\t\t// var link = $('<a/>', {\n\t\t\t// \t\t'class': 'attachment',\n\t\t\t// \t\thref: 'javascript:viewCommentFileAttach(\"' + commentModel.fileURL + '\",\"' + commentModel.fileMimeType + '\");'\n\t\t\t// });\n\t\t\t\n\t\t\t// Case: image preview\n\t\t\tif(type == 'image') {\n\t\t\t\tvar image = $('<img/>', {\n\t\t\t\t\tsrc: commentModel.fileURL\n\t\t\t\t});\n\t\t\t\tlink.html(image);\n\t\t\t// Case: video preview\n\t\t\t} else if(type == 'video') {\n\t\t\t\tvar video = $('<video/>', {\n\t\t\t\t\tsrc: commentModel.fileURL,\n\t\t\t\t\ttype: commentModel.fileMimeType,\n\t\t\t\t\tcontrols: 'controls'\n\t\t\t\t});\n\t\t\t\tlink.html(video);\n\n\t\t\t// Case: icon and text\n\t\t\t} else {\n\n\t\t\t\t// Icon\n\t\t\t\tvar availableIcons = ['archive', 'audio', 'code', 'excel', 'image', 'movie', 'pdf', 'photo',\n\t\t\t\t\t'picture', 'powerpoint', 'sound', 'video', 'word', 'zip'];\n\t\t\t\t\n\t\t\t\tvar iconClass = 'fa fa-file-o';\n\t\t\t\tif(availableIcons.indexOf(format) > 0) {\n\t\t\t\t\ticonClass = 'fa fa-file-' + format + '-o';\n\t\t\t\t} else if(availableIcons.indexOf(type) > 0) {\n\t\t\t\t\ticonClass = 'fa fa-file-' + type + '-o';\n\t\t\t\t}\n\n\t\t\t\tvar fileIcon = $('<i/>', {\n\t\t\t\t\t'class': iconClass\n\t\t\t\t});\n\t\t\t\tif(this.options.fileIconURL.length) {\n\t\t\t\t\tfileIcon.css('background-image', 'url(\"'+this.options.fileIconURL+'\")');\n\t\t\t\t\tfileIcon.addClass('image');\n\t\t\t\t}\n\t\t\t\t// File name\n\t\t\t\t/**\n\t\t\t\tvar parts = commentModel.fileURL.split('/');\n\t\t\t\tvar fileName = parts[parts.length - 1];\n\t\t\t\tfileName = fileName.split('?')[0];\n\t\t\t\tfileName = decodeURIComponent(fileName);\n\t\t\t\t*/\n\t\t\t\tvar fileName = commentModel.fileName;\n\t\t\t\tlink.text(fileName);\n\t\t\t\tlink.prepend(fileIcon);\n\t\t\t}\n\t\t\tcontent.html(link);\n\t\t// Case: regular comment\n\t\t} else {\n\t\t\tcontent.html(this.getFormattedCommentContent(commentModel));\n\t\t}\n\n\t\t// Edited timestamp\n\t\tif(commentModel.modified && commentModel.modified != commentModel.created) {\n\t\t\tvar editedTime = this.options.timeFormatter(commentModel.modified);\n\t\t\tvar edited = $('<time/>', {\n\t\t\t\t'class': 'edited',\n\t\t\t\ttext: this.options.textFormatter(this.options.editedText) + ' ' + editedTime,\n\t\t\t\t'data-original': commentModel.modified\n\t\t\t});\n\t\t\tcontent.append(edited);\n\t\t}\n\n\t\t// Actions\n\t\tvar actions = $('<span/>', {\n\t\t\t'class': 'actions'\n\t\t});\n\n\t\t// Reply\n\t\tvar reply = $('<button/>', {\n\t\t\t'class': 'action reply',\n\t\t\t'type': 'button',\n\t\t\ttext: this.options.textFormatter(this.options.replyText)\n\t\t});\n\n\t\t// Upvote icon\n\t\tvar upvoteIcon = $('<i/>', {\n\t\t\t'class': 'fa fa-thumbs-up'\n\t\t});\n\t\tif(this.options.upvoteIconURL.length) {\n\t\t\tupvoteIcon.css('background-image', 'url(\"'+this.options.upvoteIconURL+'\")');\n\t\t\tupvoteIcon.addClass('image');\n\t\t}\n\n\t\t// Upvotes\n\t\tvar upvotes = this.createUpvoteElement(commentModel);\n\n\t\t// Append buttons for actions that are enabled\n\t\tif(this.options.enableReplying) actions.append(reply);\n\t\tif(this.options.enableUpvoting) actions.append(upvotes);\n\n\t\tif(commentModel.createdByCurrentUser || this.options.currentUserIsAdmin) {\n\t\t\t// Case: delete button for attachment and currentUser\n\t\t\tif(isAttachment && this.isAllowedToDelete(commentModel.id)) {\n\t\t\t\tvar deleteButton = $('<button/>', {\n\t\t\t\t\t'class': 'action delete enabled',\n\t\t\t\t\ttext: this.options.textFormatter(this.options.deleteText)\n\t\t\t\t});\n\t\t\t\tactions.append(deleteButton);\n\n\t\t\t// Case: edit button for regular comment\n\t\t\t} else if(!isAttachment && this.options.enableEditing) {\n\t\t\t\tvar editButton = $('<button/>', {\n\t\t\t\t\t'class': 'action edit',\n\t\t\t\t\ttext: this.options.textFormatter(this.options.editText)\n\t\t\t\t});\n\t\t\t\tactions.append(editButton);\n\t\t\t\tvar deleteButton = $('<button/>', {\n\t\t\t\t\t'class': 'action delete enabled',\n\t\t\t\t\ttext: this.options.textFormatter(this.options.deleteText)\n\t\t\t\t});\n\t\t\t\tactions.append(deleteButton);\n\t\t\t}\n\t\t}\n\n\t\twrapper.append(content);\n\t\tif(commentModel.opinion == true) {\n\t\t\twrapper.append(noteOpinion);\n\t\t}\n\t\twrapper.append(actions);\n\t\tcommentWrapper.append(profilePicture).append(time).append(name).append(wrapper);\n\t\treturn commentWrapper;\n\t},\n\n\tcreateUpvoteElement: function(commentModel) {\n\t\t// Upvote icon\n\t\tvar upvoteIcon = $('<i/>', {\n\t\t\t'class': 'fa fa-thumbs-up'\n\t\t});\n\t\tif(this.options.upvoteIconURL.length) {\n\t\t\tupvoteIcon.css('background-image', 'url(\"'+this.options.upvoteIconURL+'\")');\n\t\t\tupvoteIcon.addClass('image');\n\t\t}\n\n\t\t// Upvotes\n\t\tvar upvoteEl = $('<button/>', {\n\t\t\t'class': 'action upvote' + (commentModel.userHasUpvoted ? ' highlight-font' : '')\n\t\t}).append($('<span/>', {\n\t\t\ttext: commentModel.upvoteCount,\n\t\t\t'class': 'upvote-count'\n\t\t})).append(upvoteIcon);\n\n\t\treturn upvoteEl;\n\t},\n\n\tcreateTagElement: function(text, extraClasses, value) {\n\t\tvar tagEl = $('<input/>', {\n\t\t\t'class': 'tag',\n\t\t\t'type': 'button',\n\t\t\t'data-role': 'none',\n\t\t});\n\t\tif(extraClasses) tagEl.addClass(extraClasses);\n\t\ttagEl.val(text);\n\t\ttagEl.attr('data-value', value);\n\t\treturn tagEl;\n\t},\n\n\treRenderComment: function(id) {\n\t\tvar commentModel = this.commentsById[id];\n\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentModel.id+'\"]');\n\n\t\tvar self = this;\n\t\tcommentElements.each(function(index, commentEl) {\n\t\t\tvar commentWrapper = self.createCommentWrapperElement(commentModel);\n\t\t\t$(commentEl).find('.comment-wrapper').first().replaceWith(commentWrapper);\n\t\t});\n\t},\n\n\treRenderCommentActionBar: function(id) {\n\t\tvar commentModel = this.commentsById[id];\n\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentModel.id+'\"]');\n\n\t\tvar self = this;\n\t\tcommentElements.each(function(index, commentEl) {\n\t\t\tvar commentWrapper = self.createCommentWrapperElement(commentModel);\n\t\t\t$(commentEl).find('.actions').first().replaceWith(commentWrapper.find('.actions'));\n\t\t});\n\t},\n\n\treRenderUpvotes: function(id) {\n\t\tvar commentModel = this.commentsById[id];\n\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentModel.id+'\"]');\n\n\t\tvar self = this;\n\t\tcommentElements.each(function(index, commentEl) {\n\t\t\tvar upvotes = self.createUpvoteElement(commentModel);\n\t\t\t$(commentEl).find('.upvote').first().replaceWith(upvotes);\n\t\t});\n\t},\n\n\n\t// Styling\n\tcreateCssDeclarations: function() {\n\n\t\t// Remove previous css-declarations\n\t\t$('head style.jquery-comments-css').remove();\n\n\t\t// Navigation underline\n\t\tthis.createCss('.jquery-comments ul.navigation li.active:after {background: '\n\t\t\t+ this.options.highlightColor  + ' !important;',\n\t\t\t+'}');\n\n\t\t// Dropdown active element\n\t\tthis.createCss('.jquery-comments ul.navigation ul.dropdown li.active {background: '\n\t\t\t+ this.options.highlightColor  + ' !important;',\n\t\t\t+'}');\n\n\t\t// Background highlight\n\t\tthis.createCss('.jquery-comments .highlight-background {background: '\n\t\t\t+ this.options.highlightColor  + ' !important;',\n\t\t\t+'}');\n\n\t\t// Font highlight\n\t\tthis.createCss('.jquery-comments .highlight-font {color: '\n\t\t\t+ this.options.highlightColor + ' !important;'\n\t\t\t+'}');\n\t\tthis.createCss('.jquery-comments .highlight-font-bold {color: '\n\t\t\t+ this.options.highlightColor + ' !important;'\n\t\t\t+ 'font-weight: bold;'\n\t\t\t+'}');\n\t},\n\n\tcreateCss: function(css) {\n\t\tvar styleEl = $('<style/>', {\n\t\t\ttype: 'text/css',\n\t\t\t'class': 'jquery-comments-css',\n\t\t\ttext: css\n\t\t});\n\t\t$('head').append(styleEl);\n\t},\n\n\t//\n\tgetComments: function() {\n\t\tvar self = this;\n\t\tlet commentArr = Object.keys(this.commentsById).map(function(id){return self.commentsById[id]})\n\t\tlet importantCmtArr = commentArr.filter(function(comment){return comment.opinion})\n\t\tlet importantCmtUser = commentArr.filter(function(comment){return comment.opinion&&comment.createdByCurrentUser})\n\t\tlet attachCmtArr = commentArr.filter(function(comment){return comment.fileURL != undefined})\n\t\tif (commentArr.length > 3) {\n\t\t\t$('.data-container[data-container=comments]').addClass('lessEl')\n\t\t} else {\n\t\t\t$('.data-container[data-container=comments]').addClass('fullEl')\n\t\t}\n\t\t// \n\t\tif (importantCmtArr.length > 3) {\n\t\t\t$('.data-container[data-container=importantCmt]').addClass('lessEl')\n\t\t} else {\n\t\t\t$('.data-container[data-container=importantCmt]').addClass('fullEl')\n\t\t}\n\t\tif (importantCmtUser.length > 0) {\n\t\t\t$('.opinion').hide()\n\t\t} else {\n\t\t\t$('.opinion').show()\n\t\t}\n\t\t// \n\t\tif (attachCmtArr.length > 3) {\n\t\t\t$('.data-container[data-container=attachments]').addClass('lessEl')\n\t\t} else {\n\t\t\t$('.data-container[data-container=attachments]').addClass('fullEl')\n\t\t}\n\n\t\treturn Object.keys(this.commentsById).map(function(id){return self.commentsById[id]});\n\t},\n\n\tgetUsers: function() {\n\t\tvar self = this;\n\t\treturn Object.keys(this.usersById).map(function(id){return self.usersById[id]});\n\t},\n\n\tgetChildComments: function(parentId) {\n\t\treturn this.getComments().filter(function(comment){return comment.parent == parentId});\n\t},\n\n\tgetAttachments: function() {\n\t\tvar self = this;\n\t\treturn this.getComments().filter(function(comment){return comment.fileURL != undefined});\n\t},\n\tgetImportantCmt: function() {\n\t\tvar self = this;\n\t\treturn this.getComments().filter(function(comment){return comment.opinion == true});\n\t},\n\tgetOutermostParent: function(directParentId) {\n\t\tvar parentId = directParentId;\n\t\tdo {\n\t\t\tvar parentComment = this.commentsById[parentId];\n\t\t\tparentId = parentComment.parent;\n\t\t} while(parentComment.parent != null);\n\t\treturn parentComment;\n\t},\n\n\tcreateCommentJSON: function(textarea) {\n\t\tvar time = new Date().toISOString();\n\t\tvar commentJSON = {\n\t\t\tid: 'c' +  (this.getComments().length + 1),   // Temporary id\n\t\t\tparent: textarea.attr('data-parent') || null,\n\t\t\tcreated: time,\n\t\t\tmodified: time,\n\t\t\tcontent: this.getTextareaContent(textarea),\n\t\t\tpings: this.getPings(textarea),\n\t\t\tfullname: this.options.textFormatter(this.options.youText),\n\t\t\tprofilePictureURL: this.options.profilePictureURL,\n\t\t\tcreatedByCurrentUser: true,\n\t\t\tupvoteCount: 0,\n\t\t\tuserHasUpvoted: false\n\t\t};\n\t\treturn commentJSON;\n\t},\n\n\tisAllowedToDelete: function(commentId) {\n\t\tif(this.options.enableDeleting) {\n\t\t\tvar isAllowedToDelete = true;\n\t\t\tif(!this.options.enableDeletingCommentWithReplies) {\n\t\t\t\t$(this.getComments()).each(function(index, comment) {\n\t\t\t\t\tif(comment.parent == commentId) isAllowedToDelete = false;\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn isAllowedToDelete;\n\t\t}\n\t\treturn false;\n\t},\n\n\tsetToggleAllButtonText: function(toggleAllButton, toggle) {\n\t\tvar self = this;\n\t\tvar textContainer = toggleAllButton.find('span.text');\n\t\tvar caret = toggleAllButton.find('.caret');\n\n\t\tvar showExpandingText = function() {\n\t\t\t\tvar text = self.options.textFormatter(self.options.viewAllRepliesText);\n\t\t\t\tvar replyCount = toggleAllButton.siblings('.comment').length;\n\t\t\t\ttext = text.replace('__replyCount__', replyCount);\n\t\t\t\ttextContainer.text(text);\n\t\t};\n\n\t\tvar hideRepliesText = this.options.textFormatter(this.options.hideRepliesText);\n\n\t\tif(toggle) {\n\t\t\t// Toggle text\n\t\t\tif(textContainer.text() == hideRepliesText) {\n\t\t\t\tshowExpandingText();\n\t\t\t} else {\n\t\t\t\ttextContainer.text(hideRepliesText);\n\t\t\t}\n\t\t\t// Toggle direction of the caret\n\t\t\tcaret.toggleClass('up');\n\t\t} else {\n\t\t\t// Update text if necessary\n\t\t\tif(textContainer.text() != hideRepliesText) {\n\t\t\t\tshowExpandingText();\n\t\t\t}\n\t\t}\n\t},\n\n\tadjustTextareaHeight: function(textarea, focus) {\n\t\tvar textareaBaseHeight = 2.2;\n\t\tvar lineHeight = 1.45;\n\n\t\tvar setRows = function(rows) {\n\t\t\tvar height = textareaBaseHeight + (rows - 1) * lineHeight;\n\t\t\ttextarea.css('height', height + 'em');\n\t\t};\n\n\t\ttextarea = $(textarea);\n\t\tvar rowCount = focus == true ? this.options.textareaRowsOnFocus : this.options.textareaRows;\n\t\tdo {\n\t\t\tsetRows(rowCount);\n\t\t\trowCount++;\n\t\t\tvar isAreaScrollable = textarea[0].scrollHeight > textarea.outerHeight();\n\t\t\tvar maxRowsUsed = this.options.textareaMaxRows == false ?\n\t\t\t\tfalse : rowCount > this.options.textareaMaxRows;\n\t\t} while(isAreaScrollable && !maxRowsUsed);\n\t},\n\n\tclearTextarea: function(textarea) {\n\t\ttextarea.empty().trigger('input');\n\t},\n\n\tgetTextareaContent: function(textarea, humanReadable) {\n\t\tvar textareaClone = textarea.clone();\n\n\t\t// Remove reply-to tag\n\t\ttextareaClone.find('.reply-to.tag').remove();\n\n\t\t// Replace tags with text values\n\t\ttextareaClone.find('.tag.hashtag').replaceWith(function(){\n\t\t\treturn humanReadable ? $(this).val() : '#' + $(this).attr('data-value');\n\t\t});\n\t\ttextareaClone.find('.tag.ping').replaceWith(function(){\n\t\t\treturn humanReadable ? $(this).val() : '@' + $(this).attr('data-value');\n\t\t});\n\n\t\tvar ce = $('<pre/>').html(textareaClone.html());\n\t\tce.find('div, p, br').replaceWith(function() { return '\\n' + this.innerHTML; });\n\n\t\t// Trim leading spaces\n\t\tvar text = ce.text().replace(/^\\s+/g, '');\n\n\t\t// Normalize spaces\n\t\tvar text = this.normalizeSpaces(text);\n\t\treturn text;\n\t},\n\n\tgetFormattedCommentContent: function(commentModel, replaceNewLines) {\n\t\tvar html = this.escape(commentModel.content);\n\t\thtml = this.linkify(html);\n\t\thtml = this.highlightTags(commentModel, html);\n\t\tif(replaceNewLines) html = html.replace(/(?:\\n)/g, '<br>');\n\t\treturn html;\n\t},\n\n\tgetPings: function(textarea) {\n\t\treturn $.map(textarea.find('.ping'), function(el){return parseInt($(el).attr('data-value'))});\n\t},\n\n\tmoveCursorToEnd: function(el) {\n\t\tel = $(el)[0];\n\n\t\t// Trigger input to adjust size\n\t\t$(el).trigger('input');\n\n\t\t// Scroll to bottom\n\t\t$(el).scrollTop(el.scrollHeight);\n\n\t\t// Move cursor to end\n\t\tif (typeof window.getSelection != 'undefined' && typeof document.createRange != 'undefined') {\n\t\t\tvar range = document.createRange();\n\t\t\trange.selectNodeContents(el);\n\t\t\trange.collapse(false);\n\t\t\tvar sel = window.getSelection();\n\t\t\tsel.removeAllRanges();\n\t\t\tsel.addRange(range);\n\t\t} else if (typeof document.body.createTextRange != 'undefined') {\n\t\t\tvar textRange = document.body.createTextRange();\n\t\t\ttextRange.moveToElementText(el);\n\t\t\ttextRange.collapse(false);\n\t\t\ttextRange.select();\n\t\t}\n\n\t\t// Focus\n\t\tel.focus();\n\t},\n\n\tescape: function(inputText) {\n\t\treturn $('<pre/>').text(this.normalizeSpaces(inputText)).html();\n\t},\n\n\tnormalizeSpaces: function(inputText) {\n\t\treturn inputText.replace(new RegExp('\\u00a0', 'g'), ' ');   // Convert non-breaking spaces to reguar spaces\n\t},\n\n\tafter: function(times, func) {\n\t\tvar self = this;\n\t\treturn function() {\n\t\t\ttimes--;\n\t\t\tif (times == 0) {\n\t\t\t\treturn func.apply(self, arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\thighlightTags: function(commentModel, html) {\n\t\tif(this.options.enableHashtags) html = this.highlightHashtags(commentModel, html);\n\t\tif(this.options.enablePinging) html = this.highlightPings(commentModel, html);\n\t\treturn html;\n\t},\n\n\thighlightHashtags: function(commentModel, html) {\n\t\tvar self = this;\n\n\t\tif(html.indexOf('#') != -1) {\n\t\t\tvar __createTag = function(tag) {\n\t\t\t\tvar tag = self.createTagElement('#' + tag, 'hashtag', tag);\n\t\t\t\treturn tag[0].outerHTML;\n\t\t\t}\n\n\t\t\tvar regex = /(^|\\s)#([a-zäöüß\\d-_]+)/gim;\n\t\t\thtml = html.replace(regex, function($0, $1, $2){\n\t\t\t\treturn $1 + __createTag($2);\n\t\t\t});\n\t\t}\n\t\treturn html;\n\t},\n\n\thighlightPings: function(commentModel, html) {\n\t\tvar self = this;\n\n\t\tif(html.indexOf('@') != -1) {\n\n\t\t\tvar __createTag = function(user) {\n\t\t\t\tvar tag = self.createTagElement('@' + user.fullname, 'ping', user.id);\n\t\t\t\treturn tag[0].outerHTML;\n\t\t\t}\n\n\t\t\tvar highlightedHtml = '';\n\t\t\t$(commentModel.pings).each(function(index, id) {\n\t\t\t\tif(id in self.usersById) {\n\t\t\t\t\tvar user = self.usersById[id];\n\t\t\t\t\tvar pingText = '@' + user.id;\n\n\t\t\t\t\tvar endIndex = html.indexOf(pingText) + pingText.length;\n\t\t\t\t\tvar current = html.slice(0, endIndex);\n\t\t\t\t\thighlightedHtml += current.replace(pingText, __createTag(user));\n\n\t\t\t\t\thtml = html.slice(endIndex);\n\t\t\t\t}\n\t\t\t});\n\t\t\thighlightedHtml += html;\n\t\t\treturn highlightedHtml;\n\t\t}\n\t\treturn html;\n\t},\n\n\tlinkify: function(inputText) {\n\t\tvar replacedText, replacePattern1, replacePattern2, replacePattern3;\n\n\t\t// URLs starting with http://, https://, file:// or ftp://\n\t\treplacePattern1 = /(^|\\s)((https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gim;\n\t\treplacedText = inputText.replace(replacePattern1, '$1<a href=\"$2\" target=\"_blank\">$2</a>');\n\n\t\t// URLs starting with \"www.\" (without // before it, or it'd re-link the ones done above).\n\t\treplacePattern2 = /(^|\\s)(www\\.[\\S]+(\\b|$))/gim;\n\t\treplacedText = replacedText.replace(replacePattern2, '$1<a href=\"http://$2\" target=\"_blank\">$2</a>');\n\n\t\t// Change email addresses to mailto:: links.\n\t\treplacePattern3 = /(^|\\s)(([a-zA-Z0-9\\-\\_\\.]+)@[a-zA-Z\\_]+?(\\.[a-zA-Z]{2,6})+)/gim;\n\t\treplacedText = replacedText.replace(replacePattern3, '$1<a href=\"mailto:$2\">$2</a>');\n\n\t\t// If there are hrefs in the original text, let's split\n\t\t// the text up and only work on the parts that don't have urls yet.\n\t\tvar count = inputText.match(/<a href/g) || [];\n\n\t\tif(count.length > 0){\n\t\t\t// Keep delimiter when splitting\n\t\t\tvar splitInput = inputText.split(/(<\\/a>)/g);\n\t\t\tfor (var i = 0 ; i < splitInput.length ; i++){\n\t\t\t\tif(splitInput[i].match(/<a href/g) == null){\n\t\t\t\t\tsplitInput[i] = splitInput[i].replace(replacePattern1, '<a href=\"$1\" target=\"_blank\">$1</a>').replace(replacePattern2, '$1<a href=\"http://$2\" target=\"_blank\">$2</a>').replace(replacePattern3, '<a href=\"mailto:$1\">$1</a>');\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar combinedReplacedText = splitInput.join('');\n\t\t\treturn combinedReplacedText;\n\t\t} else {\n\t\t\treturn replacedText;\n\t\t}\n\t},\n\n\twaitUntil: function(condition, callback) {\n\t\tvar self = this;\n\n\t\tif(condition()) {\n\t\t\tcallback();\n\t\t} else {\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.waitUntil(condition, callback);\n\t\t\t}, 100);\n\t\t}\n\t},\n\n\tapplyInternalMappings: function(commentJSON) {\n\t\t// Inverting field mappings\n\t\tvar invertedMappings = {};\n\t\tvar mappings = this.options.fieldMappings;\n\t\tfor (var prop in mappings) {\n\t\t\tif(mappings.hasOwnProperty(prop)) {\n\t\t\t\tinvertedMappings[mappings[prop]] = prop;\n\t\t\t}\n\t\t}\n\n\t\treturn this.applyMappings(invertedMappings, commentJSON);\n\t},\n\n\tapplyExternalMappings: function(commentJSON) {\n\t\tvar mappings = this.options.fieldMappings;\n\t\treturn this.applyMappings(mappings, commentJSON);\n\t},\n\n\tapplyMappings: function(mappings, commentJSON) {\n\t\tvar result = {};\n\n\t\tfor(var key1 in commentJSON) {\n\t\t\tif(key1 in mappings) {\n\t\t\t\tvar key2 = mappings[key1];\n\t\t\t\tresult[key2] = commentJSON[key1];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\t};\n\n\t$.fn.comments = function(options) {\n\t\treturn this.each(function() {\n\t\t\tvar comments = Object.create(Comments);\n\t\t\t$.data(this, 'comments', comments);\n\t\t\tcomments.init(options || {}, this);\n\t\t});\n\t};\n}));\n\n\n/* eslint-disable */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jquery-comments/js/jquery-comments.js\n// module id = 687\n// module chunks = 0 1 6 11","(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof module === \"object\" && module.exports) {\n    var $ = require('jquery');\n    module.exports = factory($);\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n}(function (jQuery) {\n\n/*!\n * jQuery.textcomplete\n *\n * Repository: https://github.com/yuku-t/jquery-textcomplete\n * License:    MIT (https://github.com/yuku-t/jquery-textcomplete/blob/master/LICENSE)\n * Author:     Yuku Takahashi\n */\n\nif (typeof jQuery === 'undefined') {\n  throw new Error('jQuery.textcomplete requires jQuery');\n}\n\n+function ($) {\n  'use strict';\n\n  var warn = function (message) {\n    if (console.warn) { console.warn(message); }\n  };\n\n  var id = 1;\n\n  $.fn.textcomplete = function (strategies, option) {\n    var args = Array.prototype.slice.call(arguments);\n    return this.each(function () {\n      var self = this;\n      var $this = $(this);\n      var completer = $this.data('textComplete');\n      if (!completer) {\n        option || (option = {});\n        option._oid = id++;  // unique object id\n        completer = new $.fn.textcomplete.Completer(this, option);\n        $this.data('textComplete', completer);\n      }\n      if (typeof strategies === 'string') {\n        if (!completer) return;\n        args.shift()\n        completer[strategies].apply(completer, args);\n        if (strategies === 'destroy') {\n          $this.removeData('textComplete');\n        }\n      } else {\n        // For backward compatibility.\n        // TODO: Remove at v0.4\n        $.each(strategies, function (obj) {\n          $.each(['header', 'footer', 'placement', 'maxCount'], function (name) {\n            if (obj[name]) {\n              completer.option[name] = obj[name];\n              warn(name + 'as a strategy param is deprecated. Use option.');\n              delete obj[name];\n            }\n          });\n        });\n        completer.register($.fn.textcomplete.Strategy.parse(strategies, {\n          el: self,\n          $el: $this\n        }));\n      }\n    });\n  };\n\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  // Exclusive execution control utility.\n  //\n  // func - The function to be locked. It is executed with a function named\n  //        `free` as the first argument. Once it is called, additional\n  //        execution are ignored until the free is invoked. Then the last\n  //        ignored execution will be replayed immediately.\n  //\n  // Examples\n  //\n  //   var lockedFunc = lock(function (free) {\n  //     setTimeout(function { free(); }, 1000); // It will be free in 1 sec.\n  //     console.log('Hello, world');\n  //   });\n  //   lockedFunc();  // => 'Hello, world'\n  //   lockedFunc();  // none\n  //   lockedFunc();  // none\n  //   // 1 sec past then\n  //   // => 'Hello, world'\n  //   lockedFunc();  // => 'Hello, world'\n  //   lockedFunc();  // none\n  //\n  // Returns a wrapped function.\n  var lock = function (func) {\n    var locked, queuedArgsToReplay;\n\n    return function () {\n      // Convert arguments into a real array.\n      var args = Array.prototype.slice.call(arguments);\n      if (locked) {\n        // Keep a copy of this argument list to replay later.\n        // OK to overwrite a previous value because we only replay\n        // the last one.\n        queuedArgsToReplay = args;\n        return;\n      }\n      locked = true;\n      var self = this;\n      args.unshift(function replayOrFree() {\n        if (queuedArgsToReplay) {\n          // Other request(s) arrived while we were locked.\n          // Now that the lock is becoming available, replay\n          // the latest such request, then call back here to\n          // unlock (or replay another request that arrived\n          // while this one was in flight).\n          var replayArgs = queuedArgsToReplay;\n          queuedArgsToReplay = undefined;\n          replayArgs.unshift(replayOrFree);\n          func.apply(self, replayArgs);\n        } else {\n          locked = false;\n        }\n      });\n      func.apply(this, args);\n    };\n  };\n\n  var isString = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object String]';\n  };\n\n  var uniqueId = 0;\n  var initializedEditors = [];\n\n  function Completer(element, option) {\n    this.$el        = $(element);\n    this.id         = 'textcomplete' + uniqueId++;\n    this.strategies = [];\n    this.views      = [];\n    this.option     = $.extend({}, Completer.defaults, option);\n\n    if (!this.$el.is('input[type=text]') && !this.$el.is('input[type=search]') && !this.$el.is('textarea') && !element.isContentEditable && element.contentEditable != 'true') {\n      throw new Error('textcomplete must be called on a Textarea or a ContentEditable.');\n    }\n\n    // use ownerDocument to fix iframe / IE issues\n    if (element === element.ownerDocument.activeElement) {\n      // element has already been focused. Initialize view objects immediately.\n      this.initialize()\n    } else {\n      // Initialize view objects lazily.\n      var self = this;\n      this.$el.one('focus.' + this.id, function () { self.initialize(); });\n\n      // Special handling for CKEditor: lazy init on instance load\n      if ((!this.option.adapter || this.option.adapter == 'CKEditor') && typeof CKEDITOR != 'undefined' && (this.$el.is('textarea'))) {\n        CKEDITOR.on(\"instanceReady\", function(event) { //For multiple ckeditors on one page: this needs to be executed each time a ckeditor-instance is ready.\n\n          if($.inArray(event.editor.id, initializedEditors) == -1) { //For multiple ckeditors on one page: focus-eventhandler should only be added once for every editor.\n            initializedEditors.push(event.editor.id);\n\t\t\t\n            event.editor.on(\"focus\", function(event2) {\n\t\t\t\t//replace the element with the Iframe element and flag it as CKEditor\n\t\t\t\tself.$el = $(event.editor.editable().$);\n\t\t\t\tif (!self.option.adapter) {\n\t\t\t\t\tself.option.adapter = $.fn.textcomplete['CKEditor'];\n\t\t\t\t}\n\t\t\t\tself.option.ckeditor_instance = event.editor; //For multiple ckeditors on one page: in the old code this was not executed when adapter was alread set. So we were ALWAYS working with the FIRST instance.\n              \tself.initialize();\n            });\n          }\n        });\n      }\n    }\n  }\n\n  Completer.defaults = {\n    appendTo: 'body',\n    className: '',  // deprecated option\n    dropdownClassName: 'dropdown-menu textcomplete-dropdown',\n    maxCount: 10,\n    zIndex: '100',\n    rightEdgeOffset: 30\n  };\n\n  $.extend(Completer.prototype, {\n    // Public properties\n    // -----------------\n\n    id:         null,\n    option:     null,\n    strategies: null,\n    adapter:    null,\n    dropdown:   null,\n    $el:        null,\n    $iframe:    null,\n\n    // Public methods\n    // --------------\n\n    initialize: function () {\n      var element = this.$el.get(0);\n      \n      // check if we are in an iframe\n      // we need to alter positioning logic if using an iframe\n      if (this.$el.prop('ownerDocument') !== document && window.frames.length) {\n        for (var iframeIndex = 0; iframeIndex < window.frames.length; iframeIndex++) {\n          if (this.$el.prop('ownerDocument') === window.frames[iframeIndex].document) {\n            this.$iframe = $(window.frames[iframeIndex].frameElement);\n            break;\n          }\n        }\n      }\n      \n      \n      // Initialize view objects.\n      this.dropdown = new $.fn.textcomplete.Dropdown(element, this, this.option);\n      var Adapter, viewName;\n      if (this.option.adapter) {\n        Adapter = this.option.adapter;\n      } else {\n        if (this.$el.is('textarea') || this.$el.is('input[type=text]') || this.$el.is('input[type=search]')) {\n          viewName = typeof element.selectionEnd === 'number' ? 'Textarea' : 'IETextarea';\n        } else {\n          viewName = 'ContentEditable';\n        }\n        Adapter = $.fn.textcomplete[viewName];\n      }\n      this.adapter = new Adapter(element, this, this.option);\n    },\n\n    destroy: function () {\n      this.$el.off('.' + this.id);\n      if (this.adapter) {\n        this.adapter.destroy();\n      }\n      if (this.dropdown) {\n        this.dropdown.destroy();\n      }\n      this.$el = this.adapter = this.dropdown = null;\n    },\n\n    deactivate: function () {\n      if (this.dropdown) {\n        this.dropdown.deactivate();\n      }\n    },\n\n    // Invoke textcomplete.\n    trigger: function (text, skipUnchangedTerm) {\n      if (!this.dropdown) { this.initialize(); }\n      text != null || (text = this.adapter.getTextFromHeadToCaret());\n      var searchQuery = this._extractSearchQuery(text);\n      if (searchQuery.length) {\n        var term = searchQuery[1];\n        // Ignore shift-key, ctrl-key and so on.\n        if (skipUnchangedTerm && this._term === term && term !== \"\") { return; }\n        this._term = term;\n        this._search.apply(this, searchQuery);\n      } else {\n        this._term = null;\n        this.dropdown.deactivate();\n      }\n    },\n\n    fire: function (eventName) {\n      var args = Array.prototype.slice.call(arguments, 1);\n      this.$el.trigger(eventName, args);\n      return this;\n    },\n\n    register: function (strategies) {\n      Array.prototype.push.apply(this.strategies, strategies);\n    },\n\n    // Insert the value into adapter view. It is called when the dropdown is clicked\n    // or selected.\n    //\n    // value    - The selected element of the array callbacked from search func.\n    // strategy - The Strategy object.\n    // e        - Click or keydown event object.\n    select: function (value, strategy, e) {\n      this._term = null;\n      this.adapter.select(value, strategy, e);\n      this.fire('change').fire('textComplete:select', value, strategy);\n      this.adapter.focus();\n    },\n\n    // Private properties\n    // ------------------\n\n    _clearAtNext: true,\n    _term:        null,\n\n    // Private methods\n    // ---------------\n\n    // Parse the given text and extract the first matching strategy.\n    //\n    // Returns an array including the strategy, the query term and the match\n    // object if the text matches an strategy; otherwise returns an empty array.\n    _extractSearchQuery: function (text) {\n      for (var i = 0; i < this.strategies.length; i++) {\n        var strategy = this.strategies[i];\n        var context = strategy.context(text);\n        if (context || context === '') {\n          var matchRegexp = $.isFunction(strategy.match) ? strategy.match(text) : strategy.match;\n          if (isString(context)) { text = context; }\n          var match = text.match(matchRegexp);\n          if (match) { return [strategy, match[strategy.index], match]; }\n        }\n      }\n      return []\n    },\n\n    // Call the search method of selected strategy..\n    _search: lock(function (free, strategy, term, match) {\n      var self = this;\n      strategy.search(term, function (data, stillSearching) {\n        if (!self.dropdown.shown) {\n          self.dropdown.activate();\n        }\n        if (self._clearAtNext) {\n          // The first callback in the current lock.\n          self.dropdown.clear();\n          self._clearAtNext = false;\n        }\n        self.dropdown.setPosition(self.adapter.getCaretPosition());\n        self.dropdown.render(self._zip(data, strategy, term));\n        if (!stillSearching) {\n          // The last callback in the current lock.\n          free();\n          self._clearAtNext = true; // Call dropdown.clear at the next time.\n        }\n      }, match);\n    }),\n\n    // Build a parameter for Dropdown#render.\n    //\n    // Examples\n    //\n    //  this._zip(['a', 'b'], 's');\n    //  //=> [{ value: 'a', strategy: 's' }, { value: 'b', strategy: 's' }]\n    _zip: function (data, strategy, term) {\n      return $.map(data, function (value) {\n        return { value: value, strategy: strategy, term: term };\n      });\n    }\n  });\n\n  $.fn.textcomplete.Completer = Completer;\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  var $window = $(window);\n\n  var include = function (zippedData, datum) {\n    var i, elem;\n    var idProperty = datum.strategy.idProperty\n    for (i = 0; i < zippedData.length; i++) {\n      elem = zippedData[i];\n      if (elem.strategy !== datum.strategy) continue;\n      if (idProperty) {\n        if (elem.value[idProperty] === datum.value[idProperty]) return true;\n      } else {\n        if (elem.value === datum.value) return true;\n      }\n    }\n    return false;\n  };\n\n  var dropdownViews = {};\n  $(document).on('click', function (e) {\n    var id = e.originalEvent && e.originalEvent.keepTextCompleteDropdown;\n    $.each(dropdownViews, function (key, view) {\n      if (key !== id) { view.deactivate(); }\n    });\n  });\n\n  var commands = {\n    SKIP_DEFAULT: 0,\n    KEY_UP: 1,\n    KEY_DOWN: 2,\n    KEY_ENTER: 3,\n    KEY_PAGEUP: 4,\n    KEY_PAGEDOWN: 5,\n    KEY_ESCAPE: 6\n  };\n\n  // Dropdown view\n  // =============\n\n  // Construct Dropdown object.\n  //\n  // element - Textarea or contenteditable element.\n  function Dropdown(element, completer, option) {\n    this.$el       = Dropdown.createElement(option);\n    this.completer = completer;\n    this.id        = completer.id + 'dropdown';\n    this._data     = []; // zipped data.\n    this.$inputEl  = $(element);\n    this.option    = option;\n\n    // Override setPosition method.\n    if (option.listPosition) { this.setPosition = option.listPosition; }\n    if (option.height) { this.$el.height(option.height); }\n    var self = this;\n    $.each(['maxCount', 'placement', 'footer', 'header', 'noResultsMessage', 'className'], function (_i, name) {\n      if (option[name] != null) { self[name] = option[name]; }\n    });\n    this._bindEvents(element);\n    dropdownViews[this.id] = this;\n  }\n\n  $.extend(Dropdown, {\n    // Class methods\n    // -------------\n\n    createElement: function (option) {\n      var $parent = option.appendTo;\n      if (!($parent instanceof $)) { $parent = $($parent); }\n      var $el = $('<ul></ul>')\n        .addClass(option.dropdownClassName)\n        .attr('id', 'textcomplete-dropdown-' + option._oid)\n        .css({\n          display: 'none',\n          left: 0,\n          position: 'absolute',\n          zIndex: option.zIndex\n        })\n        .appendTo($parent);\n      return $el;\n    }\n  });\n\n  $.extend(Dropdown.prototype, {\n    // Public properties\n    // -----------------\n\n    $el:       null,  // jQuery object of ul.dropdown-menu element.\n    $inputEl:  null,  // jQuery object of target textarea.\n    completer: null,\n    footer:    null,\n    header:    null,\n    id:        null,\n    maxCount:  null,\n    placement: '',\n    shown:     false,\n    data:      [],     // Shown zipped data.\n    className: '',\n\n    // Public methods\n    // --------------\n\n    destroy: function () {\n      // Don't remove $el because it may be shared by several textcompletes.\n      this.deactivate();\n\n      this.$el.off('.' + this.id);\n      this.$inputEl.off('.' + this.id);\n      this.clear();\n      this.$el.remove();\n      this.$el = this.$inputEl = this.completer = null;\n      delete dropdownViews[this.id]\n    },\n\n    render: function (zippedData) {\n      var contentsHtml = this._buildContents(zippedData);\n      var unzippedData = $.map(zippedData, function (d) { return d.value; });\n      if (zippedData.length) {\n        var strategy = zippedData[0].strategy;\n        if (strategy.id) {\n          this.$el.attr('data-strategy', strategy.id);\n        } else {\n          this.$el.removeAttr('data-strategy');\n        }\n        this._renderHeader(unzippedData);\n        this._renderFooter(unzippedData);\n        if (contentsHtml) {\n          this._renderContents(contentsHtml);\n          this._fitToBottom();\n          this._fitToRight();\n          this._activateIndexedItem();\n        }\n        this._setScroll();\n      } else if (this.noResultsMessage) {\n        this._renderNoResultsMessage(unzippedData);\n      } else if (this.shown) {\n        this.deactivate();\n      }\n    },\n\n    setPosition: function (pos) {\n      // Make the dropdown fixed if the input is also fixed\n      // This can't be done during init, as textcomplete may be used on multiple elements on the same page\n      // Because the same dropdown is reused behind the scenes, we need to recheck every time the dropdown is showed\n      var position = 'absolute';\n      // Check if input or one of its parents has positioning we need to care about\n      this.$inputEl.add(this.$inputEl.parents()).each(function() {\n        if($(this).css('position') === 'absolute') // The element has absolute positioning, so it's all OK\n          return false;\n        if($(this).css('position') === 'fixed') {\n          pos.top -= $window.scrollTop();\n          pos.left -= $window.scrollLeft();\n          position = 'fixed';\n          return false;\n        }\n      });\n      this.$el.css(this._applyPlacement(pos));\n      this.$el.css({ position: position }); // Update positioning\n\n      return this;\n    },\n\n    clear: function () {\n      this.$el.html('');\n      this.data = [];\n      this._index = 0;\n      this._$header = this._$footer = this._$noResultsMessage = null;\n    },\n\n    activate: function () {\n      if (!this.shown) {\n        this.clear();\n        this.$el.show();\n        if (this.className) { this.$el.addClass(this.className); }\n        this.completer.fire('textComplete:show');\n        this.shown = true;\n      }\n      return this;\n    },\n\n    deactivate: function () {\n      if (this.shown) {\n        this.$el.hide();\n        if (this.className) { this.$el.removeClass(this.className); }\n        this.completer.fire('textComplete:hide');\n        this.shown = false;\n      }\n      return this;\n    },\n\n    isUp: function (e) {\n      return e.keyCode === 38 || (e.ctrlKey && e.keyCode === 80);  // UP, Ctrl-P\n    },\n\n    isDown: function (e) {\n      return e.keyCode === 40 || (e.ctrlKey && e.keyCode === 78);  // DOWN, Ctrl-N\n    },\n\n    isEnter: function (e) {\n      var modifiers = e.ctrlKey || e.altKey || e.metaKey || e.shiftKey;\n      return !modifiers && (e.keyCode === 13 || e.keyCode === 9 || (this.option.completeOnSpace === true && e.keyCode === 32))  // ENTER, TAB\n    },\n\n    isPageup: function (e) {\n      return e.keyCode === 33;  // PAGEUP\n    },\n\n    isPagedown: function (e) {\n      return e.keyCode === 34;  // PAGEDOWN\n    },\n\n    isEscape: function (e) {\n      return e.keyCode === 27;  // ESCAPE\n    },\n\n    // Private properties\n    // ------------------\n\n    _data:    null,  // Currently shown zipped data.\n    _index:   null,\n    _$header: null,\n    _$noResultsMessage: null,\n    _$footer: null,\n\n    // Private methods\n    // ---------------\n\n    _bindEvents: function () {\n      this.$el.on('mousedown.' + this.id, '.textcomplete-item', $.proxy(this._onClick, this));\n      this.$el.on('touchstart.' + this.id, '.textcomplete-item', $.proxy(this._onClick, this));\n      this.$el.on('mouseover.' + this.id, '.textcomplete-item', $.proxy(this._onMouseover, this));\n      this.$inputEl.on('keydown.' + this.id, $.proxy(this._onKeydown, this));\n    },\n\n    _onClick: function (e) {\n      var $el = $(e.target);\n      e.preventDefault();\n      e.originalEvent.keepTextCompleteDropdown = this.id;\n      if (!$el.hasClass('textcomplete-item')) {\n        $el = $el.closest('.textcomplete-item');\n      }\n      var datum = this.data[parseInt($el.data('index'), 10)];\n      this.completer.select(datum.value, datum.strategy, e);\n      var self = this;\n      // Deactive at next tick to allow other event handlers to know whether\n      // the dropdown has been shown or not.\n      setTimeout(function () {\n        self.deactivate();\n        if (e.type === 'touchstart') {\n          self.$inputEl.focus();\n        }\n      }, 0);\n    },\n\n    // Activate hovered item.\n    _onMouseover: function (e) {\n      var $el = $(e.target);\n      e.preventDefault();\n      if (!$el.hasClass('textcomplete-item')) {\n        $el = $el.closest('.textcomplete-item');\n      }\n      this._index = parseInt($el.data('index'), 10);\n      this._activateIndexedItem();\n    },\n\n    _onKeydown: function (e) {\n      if (!this.shown) { return; }\n\n      var command;\n\n      if ($.isFunction(this.option.onKeydown)) {\n        command = this.option.onKeydown(e, commands);\n      }\n\n      if (command == null) {\n        command = this._defaultKeydown(e);\n      }\n\n      switch (command) {\n        case commands.KEY_UP:\n          e.preventDefault();\n          this._up();\n          break;\n        case commands.KEY_DOWN:\n          e.preventDefault();\n          this._down();\n          break;\n        case commands.KEY_ENTER:\n          e.preventDefault();\n          this._enter(e);\n          break;\n        case commands.KEY_PAGEUP:\n          e.preventDefault();\n          this._pageup();\n          break;\n        case commands.KEY_PAGEDOWN:\n          e.preventDefault();\n          this._pagedown();\n          break;\n        case commands.KEY_ESCAPE:\n          e.preventDefault();\n          this.deactivate();\n          break;\n      }\n    },\n\n    _defaultKeydown: function (e) {\n      if (this.isUp(e)) {\n        return commands.KEY_UP;\n      } else if (this.isDown(e)) {\n        return commands.KEY_DOWN;\n      } else if (this.isEnter(e)) {\n        return commands.KEY_ENTER;\n      } else if (this.isPageup(e)) {\n        return commands.KEY_PAGEUP;\n      } else if (this.isPagedown(e)) {\n        return commands.KEY_PAGEDOWN;\n      } else if (this.isEscape(e)) {\n        return commands.KEY_ESCAPE;\n      }\n    },\n\n    _up: function () {\n      if (this._index === 0) {\n        this._index = this.data.length - 1;\n      } else {\n        this._index -= 1;\n      }\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _down: function () {\n      if (this._index === this.data.length - 1) {\n        this._index = 0;\n      } else {\n        this._index += 1;\n      }\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _enter: function (e) {\n      var datum = this.data[parseInt(this._getActiveElement().data('index'), 10)];\n      this.completer.select(datum.value, datum.strategy, e);\n      this.deactivate();\n    },\n\n    _pageup: function () {\n      var target = 0;\n      var threshold = this._getActiveElement().position().top - this.$el.innerHeight();\n      this.$el.children().each(function (i) {\n        if ($(this).position().top + $(this).outerHeight() > threshold) {\n          target = i;\n          return false;\n        }\n      });\n      this._index = target;\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _pagedown: function () {\n      var target = this.data.length - 1;\n      var threshold = this._getActiveElement().position().top + this.$el.innerHeight();\n      this.$el.children().each(function (i) {\n        if ($(this).position().top > threshold) {\n          target = i;\n          return false\n        }\n      });\n      this._index = target;\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _activateIndexedItem: function () {\n      this.$el.find('.textcomplete-item.active').removeClass('active');\n      this._getActiveElement().addClass('active');\n    },\n\n    _getActiveElement: function () {\n      return this.$el.children('.textcomplete-item:nth(' + this._index + ')');\n    },\n\n    _setScroll: function () {\n      var $activeEl = this._getActiveElement();\n      var itemTop = $activeEl.position().top;\n      var itemHeight = $activeEl.outerHeight();\n      var visibleHeight = this.$el.innerHeight();\n      var visibleTop = this.$el.scrollTop();\n      if (this._index === 0 || this._index == this.data.length - 1 || itemTop < 0) {\n        this.$el.scrollTop(itemTop + visibleTop);\n      } else if (itemTop + itemHeight > visibleHeight) {\n        this.$el.scrollTop(itemTop + itemHeight + visibleTop - visibleHeight);\n      }\n    },\n\n    _buildContents: function (zippedData) {\n      var datum, i, index;\n      var html = '';\n      for (i = 0; i < zippedData.length; i++) {\n        if (this.data.length === this.maxCount) break;\n        datum = zippedData[i];\n        if (include(this.data, datum)) { continue; }\n        index = this.data.length;\n        this.data.push(datum);\n        html += '<li class=\"textcomplete-item\" data-index=\"' + index + '\"><a>';\n        html +=   datum.strategy.template(datum.value, datum.term);\n        html += '</a></li>';\n      }\n      return html;\n    },\n\n    _renderHeader: function (unzippedData) {\n      if (this.header) {\n        if (!this._$header) {\n          this._$header = $('<li class=\"textcomplete-header\"></li>').prependTo(this.$el);\n        }\n        var html = $.isFunction(this.header) ? this.header(unzippedData) : this.header;\n        this._$header.html(html);\n      }\n    },\n\n    _renderFooter: function (unzippedData) {\n      if (this.footer) {\n        if (!this._$footer) {\n          this._$footer = $('<li class=\"textcomplete-footer\"></li>').appendTo(this.$el);\n        }\n        var html = $.isFunction(this.footer) ? this.footer(unzippedData) : this.footer;\n        this._$footer.html(html);\n      }\n    },\n\n    _renderNoResultsMessage: function (unzippedData) {\n      if (this.noResultsMessage) {\n        if (!this._$noResultsMessage) {\n          this._$noResultsMessage = $('<li class=\"textcomplete-no-results-message\"></li>').appendTo(this.$el);\n        }\n        var html = $.isFunction(this.noResultsMessage) ? this.noResultsMessage(unzippedData) : this.noResultsMessage;\n        this._$noResultsMessage.html(html);\n      }\n    },\n\n    _renderContents: function (html) {\n      if (this._$footer) {\n        this._$footer.before(html);\n      } else {\n        this.$el.append(html);\n      }\n    },\n\n    _fitToBottom: function() {\n      var windowScrollBottom = $window.scrollTop() + $window.height();\n      var height = this.$el.height();\n      if ((this.$el.position().top + height) > windowScrollBottom) {\n        // only do this if we are not in an iframe\n        if (!this.completer.$iframe) {\n          this.$el.offset({top: windowScrollBottom - height});\n        }\n      }\n    },\n\n    _fitToRight: function() {\n      // We don't know how wide our content is until the browser positions us, and at that point it clips us\n      // to the document width so we don't know if we would have overrun it. As a heuristic to avoid that clipping\n      // (which makes our elements wrap onto the next line and corrupt the next item), if we're close to the right\n      // edge, move left. We don't know how far to move left, so just keep nudging a bit.\n      var tolerance = this.option.rightEdgeOffset; // pixels. Make wider than vertical scrollbar because we might not be able to use that space.\n      var lastOffset = this.$el.offset().left, offset;\n      var width = this.$el.width();\n      var maxLeft = $window.width() - tolerance;\n      while (lastOffset + width > maxLeft) {\n        this.$el.offset({left: lastOffset - tolerance});\n        offset = this.$el.offset().left;\n        if (offset >= lastOffset) { break; }\n        lastOffset = offset;\n      }\n    },\n\n    _applyPlacement: function (position) {\n      // If the 'placement' option set to 'top', move the position above the element.\n      if (this.placement.indexOf('top') !== -1) {\n        // Overwrite the position object to set the 'bottom' property instead of the top.\n        position = {\n          top: 'auto',\n          bottom: this.$el.parent().height() - position.top + position.lineHeight,\n          left: position.left\n        };\n      } else {\n        position.bottom = 'auto';\n        delete position.lineHeight;\n      }\n      if (this.placement.indexOf('absleft') !== -1) {\n        position.left = 0;\n      } else if (this.placement.indexOf('absright') !== -1) {\n        position.right = 0;\n        position.left = 'auto';\n      }\n      return position;\n    }\n  });\n\n  $.fn.textcomplete.Dropdown = Dropdown;\n  $.extend($.fn.textcomplete, commands);\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  // Memoize a search function.\n  var memoize = function (func) {\n    var memo = {};\n    return function (term, callback) {\n      if (memo[term]) {\n        callback(memo[term]);\n      } else {\n        func.call(this, term, function (data) {\n          memo[term] = (memo[term] || []).concat(data);\n          callback.apply(null, arguments);\n        });\n      }\n    };\n  };\n\n  function Strategy(options) {\n    $.extend(this, options);\n    if (this.cache) { this.search = memoize(this.search); }\n  }\n\n  Strategy.parse = function (strategiesArray, params) {\n    return $.map(strategiesArray, function (strategy) {\n      var strategyObj = new Strategy(strategy);\n      strategyObj.el = params.el;\n      strategyObj.$el = params.$el;\n      return strategyObj;\n    });\n  };\n\n  $.extend(Strategy.prototype, {\n    // Public properties\n    // -----------------\n\n    // Required\n    match:      null,\n    replace:    null,\n    search:     null,\n\n    // Optional\n    id:         null,\n    cache:      false,\n    context:    function () { return true; },\n    index:      2,\n    template:   function (obj) { return obj; },\n    idProperty: null\n  });\n\n  $.fn.textcomplete.Strategy = Strategy;\n\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  var now = Date.now || function () { return new Date().getTime(); };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // `wait` msec.\n  //\n  // This utility function was originally implemented at Underscore.js.\n  var debounce = function (func, wait) {\n    var timeout, args, context, timestamp, result;\n    var later = function () {\n      var last = now() - timestamp;\n      if (last < wait) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    };\n\n    return function () {\n      context = this;\n      args = arguments;\n      timestamp = now();\n      if (!timeout) {\n        timeout = setTimeout(later, wait);\n      }\n      return result;\n    };\n  };\n\n  function Adapter () {}\n\n  $.extend(Adapter.prototype, {\n    // Public properties\n    // -----------------\n\n    id:        null, // Identity.\n    completer: null, // Completer object which creates it.\n    el:        null, // Textarea element.\n    $el:       null, // jQuery object of the textarea.\n    option:    null,\n\n    // Public methods\n    // --------------\n\n    initialize: function (element, completer, option) {\n      this.el        = element;\n      this.$el       = $(element);\n      this.id        = completer.id + this.constructor.name;\n      this.completer = completer;\n      this.option    = option;\n\n      if (this.option.debounce) {\n        this._onKeyup = debounce(this._onKeyup, this.option.debounce);\n      }\n\n      this._bindEvents();\n    },\n\n    destroy: function () {\n      this.$el.off('.' + this.id); // Remove all event handlers.\n      this.$el = this.el = this.completer = null;\n    },\n\n    // Update the element with the given value and strategy.\n    //\n    // value    - The selected object. It is one of the item of the array\n    //            which was callbacked from the search function.\n    // strategy - The Strategy associated with the selected value.\n    select: function (/* value, strategy */) {\n      throw new Error('Not implemented');\n    },\n\n    // Returns the caret's relative coordinates from body's left top corner.\n    getCaretPosition: function () {\n      var position = this._getCaretRelativePosition();\n      var offset = this.$el.offset();\n\n      // Calculate the left top corner of `this.option.appendTo` element.\n      var $parent = this.option.appendTo;\n      if ($parent) {\n         if (!($parent instanceof $)) { $parent = $($parent); }\n         var parentOffset = $parent.offsetParent().offset();\n         offset.top -= parentOffset.top;\n         offset.left -= parentOffset.left;\n      }\n\n      position.top += offset.top;\n      position.left += offset.left;\n      return position;\n    },\n\n    // Focus on the element.\n    focus: function () {\n      this.$el.focus();\n    },\n\n    // Private methods\n    // ---------------\n\n    _bindEvents: function () {\n      this.$el.on('keyup.' + this.id, $.proxy(this._onKeyup, this));\n    },\n\n    _onKeyup: function (e) {\n      if (this._skipSearch(e)) { return; }\n      this.completer.trigger(this.getTextFromHeadToCaret(), true);\n    },\n\n    // Suppress searching if it returns true.\n    _skipSearch: function (clickEvent) {\n      switch (clickEvent.keyCode) {\n        case 9:  // TAB\n        case 13: // ENTER\n        case 16: // SHIFT\n        case 17: // CTRL\n        case 18: // ALT\n        case 33: // PAGEUP\n        case 34: // PAGEDOWN\n        case 40: // DOWN\n        case 38: // UP\n        case 27: // ESC\n          return true;\n      }\n      if (clickEvent.ctrlKey) switch (clickEvent.keyCode) {\n        case 78: // Ctrl-N\n        case 80: // Ctrl-P\n          return true;\n      }\n    }\n  });\n\n  $.fn.textcomplete.Adapter = Adapter;\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  // Textarea adapter\n  // ================\n  //\n  // Managing a textarea. It doesn't know a Dropdown.\n  function Textarea(element, completer, option) {\n    this.initialize(element, completer, option);\n  }\n\n  $.extend(Textarea.prototype, $.fn.textcomplete.Adapter.prototype, {\n    // Public methods\n    // --------------\n\n    // Update the textarea with the given value and strategy.\n    select: function (value, strategy, e) {\n      var pre = this.getTextFromHeadToCaret();\n      var post = this.el.value.substring(this.el.selectionEnd);\n      var newSubstr = strategy.replace(value, e);\n      var regExp;\n      if (typeof newSubstr !== 'undefined') {\n        if ($.isArray(newSubstr)) {\n          post = newSubstr[1] + post;\n          newSubstr = newSubstr[0];\n        }\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\n        pre = pre.replace(regExp, newSubstr);\n        this.$el.val(pre + post);\n        this.el.selectionStart = this.el.selectionEnd = pre.length;\n      }\n    },\n\n    getTextFromHeadToCaret: function () {\n      return this.el.value.substring(0, this.el.selectionEnd);\n    },\n\n    // Private methods\n    // ---------------\n\n    _getCaretRelativePosition: function () {\n      var p = $.fn.textcomplete.getCaretCoordinates(this.el, this.el.selectionStart);\n      return {\n        top: p.top + this._calculateLineHeight() - this.$el.scrollTop(),\n        left: p.left - this.$el.scrollLeft(),\n        lineHeight: this._calculateLineHeight()\n      };\n    },\n\n    _calculateLineHeight: function () {\n      var lineHeight = parseInt(this.$el.css('line-height'), 10);\n      if (isNaN(lineHeight)) {\n        // http://stackoverflow.com/a/4515470/1297336\n        var parentNode = this.el.parentNode;\n        var temp = document.createElement(this.el.nodeName);\n        var style = this.el.style;\n        temp.setAttribute(\n          'style',\n          'margin:0px;padding:0px;font-family:' + style.fontFamily + ';font-size:' + style.fontSize\n        );\n        temp.innerHTML = 'test';\n        parentNode.appendChild(temp);\n        lineHeight = temp.clientHeight;\n        parentNode.removeChild(temp);\n      }\n      return lineHeight;\n    }\n  });\n\n  $.fn.textcomplete.Textarea = Textarea;\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  var sentinelChar = '吶';\n\n  function IETextarea(element, completer, option) {\n    this.initialize(element, completer, option);\n    $('<span>' + sentinelChar + '</span>').css({\n      position: 'absolute',\n      top: -9999,\n      left: -9999\n    }).insertBefore(element);\n  }\n\n  $.extend(IETextarea.prototype, $.fn.textcomplete.Textarea.prototype, {\n    // Public methods\n    // --------------\n\n    select: function (value, strategy, e) {\n      var pre = this.getTextFromHeadToCaret();\n      var post = this.el.value.substring(pre.length);\n      var newSubstr = strategy.replace(value, e);\n      var regExp;\n      if (typeof newSubstr !== 'undefined') {\n        if ($.isArray(newSubstr)) {\n          post = newSubstr[1] + post;\n          newSubstr = newSubstr[0];\n        }\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\n        pre = pre.replace(regExp, newSubstr);\n        this.$el.val(pre + post);\n        this.el.focus();\n        var range = this.el.createTextRange();\n        range.collapse(true);\n        range.moveEnd('character', pre.length);\n        range.moveStart('character', pre.length);\n        range.select();\n      }\n    },\n\n    getTextFromHeadToCaret: function () {\n      this.el.focus();\n      var range = document.selection.createRange();\n      range.moveStart('character', -this.el.value.length);\n      var arr = range.text.split(sentinelChar)\n      return arr.length === 1 ? arr[0] : arr[1];\n    }\n  });\n\n  $.fn.textcomplete.IETextarea = IETextarea;\n}(jQuery);\n\n// NOTE: TextComplete plugin has contenteditable support but it does not work\n//       fine especially on old IEs.\n//       Any pull requests are REALLY welcome.\n\n+function ($) {\n  'use strict';\n\n  // ContentEditable adapter\n  // =======================\n  //\n  // Adapter for contenteditable elements.\n  function ContentEditable (element, completer, option) {\n    this.initialize(element, completer, option);\n  }\n\n  $.extend(ContentEditable.prototype, $.fn.textcomplete.Adapter.prototype, {\n    // Public methods\n    // --------------\n\n    // Update the content with the given value and strategy.\n    // When an dropdown item is selected, it is executed.\n    select: function (value, strategy, e) {\n      var pre = this.getTextFromHeadToCaret();\n      // use ownerDocument instead of window to support iframes\n      var sel = this.el.ownerDocument.getSelection();\n      \n      var range = sel.getRangeAt(0);\n      var selection = range.cloneRange();\n      selection.selectNodeContents(range.startContainer);\n      var content = selection.toString();\n      var post = content.substring(range.startOffset);\n      var newSubstr = strategy.replace(value, e);\n      var regExp;\n      if (typeof newSubstr !== 'undefined') {\n        if ($.isArray(newSubstr)) {\n          post = newSubstr[1] + post;\n          newSubstr = newSubstr[0];\n        }\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\n        pre = pre.replace(regExp, newSubstr)\n            .replace(/ $/, \"&nbsp\"); // &nbsp necessary at least for CKeditor to not eat spaces\n        range.selectNodeContents(range.startContainer);\n        range.deleteContents();\n        \n        // create temporary elements\n        var preWrapper = this.el.ownerDocument.createElement(\"div\");\n        preWrapper.innerHTML = pre;\n        var postWrapper = this.el.ownerDocument.createElement(\"div\");\n        postWrapper.innerHTML = post;\n        \n        // create the fragment thats inserted\n        var fragment = this.el.ownerDocument.createDocumentFragment();\n        var childNode;\n        var lastOfPre;\n        while (childNode = preWrapper.firstChild) {\n        \tlastOfPre = fragment.appendChild(childNode);\n        }\n        while (childNode = postWrapper.firstChild) {\n        \tfragment.appendChild(childNode);\n        }\n        \n        // insert the fragment & jump behind the last node in \"pre\"\n        range.insertNode(fragment);\n        range.setStartAfter(lastOfPre);\n        \n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n    },\n\n    // Private methods\n    // ---------------\n\n    // Returns the caret's relative position from the contenteditable's\n    // left top corner.\n    //\n    // Examples\n    //\n    //   this._getCaretRelativePosition()\n    //   //=> { top: 18, left: 200, lineHeight: 16 }\n    //\n    // Dropdown's position will be decided using the result.\n    _getCaretRelativePosition: function () {\n      var range = this.el.ownerDocument.getSelection().getRangeAt(0).cloneRange();\n      var wrapperNode = range.endContainer.parentNode;\n      var node = this.el.ownerDocument.createElement('span');\n      range.insertNode(node);\n      range.selectNodeContents(node);\n      range.deleteContents();\n      setTimeout(function() { wrapperNode.normalize(); }, 0);\n      var $node = $(node);\n      var position = $node.offset();\n      position.left -= this.$el.offset().left;\n      position.top += $node.height() - this.$el.offset().top;\n      position.lineHeight = $node.height();\n      \n      // special positioning logic for iframes\n      // this is typically used for contenteditables such as tinymce or ckeditor\n      if (this.completer.$iframe) {\n        var iframePosition = this.completer.$iframe.offset();\n        position.top += iframePosition.top;\n        position.left += iframePosition.left;\n        // We need to get the scrollTop of the html-element inside the iframe and not of the body-element,\n        // because on IE the scrollTop of the body-element (this.$el) is always zero.\n        position.top -= $(this.completer.$iframe[0].contentWindow.document).scrollTop();\n      }\n      \n      $node.remove();\n      return position;\n    },\n\n    // Returns the string between the first character and the caret.\n    // Completer will be triggered with the result for start autocompleting.\n    //\n    // Example\n    //\n    //   // Suppose the html is '<b>hello</b> wor|ld' and | is the caret.\n    //   this.getTextFromHeadToCaret()\n    //   // => ' wor'  // not '<b>hello</b> wor'\n    getTextFromHeadToCaret: function () {\n      var range = this.el.ownerDocument.getSelection().getRangeAt(0);\n      var selection = range.cloneRange();\n      selection.selectNodeContents(range.startContainer);\n      return selection.toString().substring(0, range.startOffset);\n    }\n  });\n\n  $.fn.textcomplete.ContentEditable = ContentEditable;\n}(jQuery);\n\n// NOTE: TextComplete plugin has contenteditable support but it does not work\n//       fine especially on old IEs.\n//       Any pull requests are REALLY welcome.\n\n+function ($) {\n  'use strict';\n\n  // CKEditor adapter\n  // =======================\n  //\n  // Adapter for CKEditor, based on contenteditable elements.\n  function CKEditor (element, completer, option) {\n    this.initialize(element, completer, option);\n  }\n\n  $.extend(CKEditor.prototype, $.fn.textcomplete.ContentEditable.prototype, {\n    _bindEvents: function () {\n      var $this = this;\n      this.option.ckeditor_instance.on('key', function(event) {\n        var domEvent = event.data;\n        $this._onKeyup(domEvent);\n        if ($this.completer.dropdown.shown && $this._skipSearch(domEvent)) {\n          return false;\n        }\n      }, null, null, 1); // 1 = Priority = Important!\n      // we actually also need the native event, as the CKEditor one is happening to late\n      this.$el.on('keyup.' + this.id, $.proxy(this._onKeyup, this));\n    },\n});\n\n  $.fn.textcomplete.CKEditor = CKEditor;\n}(jQuery);\n\n// The MIT License (MIT)\n// \n// Copyright (c) 2015 Jonathan Ong me@jongleberry.com\n// \n// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n// associated documentation files (the \"Software\"), to deal in the Software without restriction,\n// including without limitation the rights to use, copy, modify, merge, publish, distribute,\n// sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// \n// The above copyright notice and this permission notice shall be included in all copies or\n// substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\n// NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n// https://github.com/component/textarea-caret-position\n\n(function ($) {\n\n// The properties that we copy into a mirrored div.\n// Note that some browsers, such as Firefox,\n// do not concatenate properties, i.e. padding-top, bottom etc. -> padding,\n// so we have to do every single property specifically.\nvar properties = [\n  'direction',  // RTL support\n  'boxSizing',\n  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY',  // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration',  // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize'\n\n];\n\nvar isBrowser = (typeof window !== 'undefined');\nvar isFirefox = (isBrowser && window.mozInnerScreenX != null);\n\nfunction getCaretCoordinates(element, position, options) {\n  if(!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  var debug = options && options.debug || false;\n  if (debug) {\n    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n    if ( el ) { el.parentNode.removeChild(el); }\n  }\n\n  // mirrored div\n  var div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  var style = div.style;\n  var computed = window.getComputedStyle? getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n\n  // default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (element.nodeName !== 'INPUT')\n    style.wordWrap = 'break-word';  // only for textarea-s\n\n  // position off-screen\n  style.position = 'absolute';  // required to return coordinates properly\n  if (!debug)\n    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n  // transfer the element's properties to the div\n  properties.forEach(function (prop) {\n    style[prop] = computed[prop];\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = 'scroll';\n  } else {\n    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // the second special handling for input type=\"text\" vs textarea: spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (element.nodeName === 'INPUT')\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n\n  var span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // for inputs, just '.' would be enough, but why bother?\n  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  var coordinates = {\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth'])\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#aaa';\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\n$.fn.textcomplete.getCaretCoordinates = getCaretCoordinates;\n\n}(jQuery));\n\nreturn jQuery;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jquery-textcomplete/dist/jquery.textcomplete.js\n// module id = 688\n// module chunks = 0 1 6 11","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\"\n  }, _vm._l((_vm.formBuilder), function(item, index) {\n    return _c('v-expansion-panel-content', {\n      key: index,\n      attrs: {\n        \"hide-actions\": \"\",\n        \"value\": \"1\"\n      }\n    }, [_c('div', {\n      attrs: {\n        \"slot\": \"header\"\n      },\n      slot: \"header\"\n    }, [_c('div', {\n      staticClass: \"background-triangle-small\"\n    }, [_c('v-icon', {\n      attrs: {\n        \"size\": \"18\",\n        \"color\": \"white\"\n      }\n    }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"\\n      \" + _vm._s(item.fieldLabel) + \"\\n      \")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', {\n      staticClass: \"py-2 px-2\"\n    }, [_c('v-layout', {\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      attrs: {\n        \"xs12\": \"\"\n      }\n    }, [(item.fieldType === 'textarea') ? _c('v-text-field', {\n      attrs: {\n        \"id\": item.fieldName,\n        \"value\": item.value,\n        \"placeholder\": item.placeholder,\n        \"multi-line\": \"\"\n      },\n      on: {\n        \"input\": function($event) {\n          _vm.inputChangeValue(item)\n        }\n      }\n    }) : _vm._e(), _vm._v(\" \"), (item.fieldType === 'string') ? _c('v-text-field', {\n      attrs: {\n        \"id\": item.fieldName,\n        \"value\": item.value,\n        \"placeholder\": item.placeholder\n      },\n      on: {\n        \"input\": function($event) {\n          _vm.inputChangeValue(item)\n        }\n      }\n    }) : _vm._e(), _vm._v(\" \"), (item.fieldType === 'number') ? _c('v-text-field', {\n      attrs: {\n        \"id\": item.fieldName,\n        \"value\": item.value,\n        \"placeholder\": item.placeholder,\n        \"rules\": [_vm.rulesValid.number]\n      },\n      on: {\n        \"input\": function($event) {\n          _vm.inputChangeValue(item)\n        }\n      }\n    }) : _vm._e(), _vm._v(\" \"), (item.fieldType === 'date') ? _c('v-text-field', {\n      attrs: {\n        \"id\": item.fieldName,\n        \"value\": item.value,\n        \"placeholder\": item.placeholder,\n        \"readonly\": \"\",\n        \"append-icon\": \"event\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.openDialogCustom(item, item.fieldName)\n        }\n      }\n    }) : _vm._e()], 1)], 1)], 1), _vm._v(\" \"), _c('v-dialog', {\n      attrs: {\n        \"width\": \"500\"\n      },\n      model: {\n        value: (_vm.dialog),\n        callback: function($$v) {\n          _vm.dialog = $$v\n        },\n        expression: \"dialog\"\n      }\n    }, [_c('v-date-picker', {\n      attrs: {\n        \"full-width\": \"\",\n        \"landscape\": \"\"\n      },\n      model: {\n        value: (_vm.date),\n        callback: function($$v) {\n          _vm.date = $$v\n        },\n        expression: \"date\"\n      }\n    }), _vm._v(\" \"), _c('v-card-actions', {\n      staticStyle: {\n        \"background\": \"#fff\"\n      }\n    }, [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\",\n        \"flat\": \"\"\n      },\n      on: {\n        \"click\": _vm.pickDateCustom\n      }\n    }, [_vm._v(\"\\n                Xác nhận\\n            \")])], 1)], 1)], 1)], 1)\n  }))\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-2df4b7d0\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2df4b7d0\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/FormBoSungThongTinNgan.vue\n// module id = 689\n// module chunks = 0 1 6 27","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"taotailieuketqua\",\n    staticStyle: {\n      \"background-color\": \"white\",\n      \"width\": \"100%\"\n    }\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\" Kết quả xử lý\\n        \")]), _vm._v(\" \"), _c('v-card', _vm._l((_vm.createFiles), function(item, index) {\n    return _c('div', {\n      key: item.partNo + 'cr',\n      staticClass: \"form_alpaca\",\n      staticStyle: {\n        \"position\": \"relative\"\n      }\n    }, [_c('v-expansion-panel', {\n      staticClass: \"expaned__list__data\"\n    }, [_c('v-expansion-panel-content', {\n      attrs: {\n        \"hide-actions\": \"\",\n        \"value\": false\n      }\n    }, [_c('div', {\n      staticStyle: {\n        \"background-color\": \"#fff\"\n      },\n      attrs: {\n        \"slot\": \"header\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.stateView = false\n        }\n      },\n      slot: \"header\"\n    }, [_c('div', {\n      staticStyle: {\n        \"align-items\": \"center\",\n        \"min-height\": \"38px\",\n        \"background\": \"#fff\",\n        \"padding-left\": \"15px\"\n      },\n      style: ({\n        width: _vm.checkStyle(item)\n      })\n    }, [_c('div', {\n      staticClass: \"mr-2\",\n      staticStyle: {\n        \"min-width\": \"18px\",\n        \"display\": \"flex\",\n        \"min-height\": \"38px\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.loadAlpcaForm(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"header__tphs\"\n    }, [_c('span', {\n      staticClass: \"text-bold\"\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\"  \")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"header__tphs\"\n    }, [_vm._v(\"\\n                        \" + _vm._s(item.partName) + \" \"), (item.required) ? _c('span', {\n      staticStyle: {\n        \"color\": \"red\"\n      }\n    }, [_vm._v(\" (*)\")]) : _vm._e(), _vm._v(\"\\n                          \\n                        \"), (item.eForm && item.daKhai) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('i', {\n      staticClass: \"fa fa-file-text-o\",\n      staticStyle: {\n        \"color\": \"#0d71bb\",\n        \"font-size\": \"13px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"aria-hidden\": \"true\"\n      },\n      slot: \"activator\"\n    }), _vm._v(\" \"), _c('span', [_vm._v(\"Biểu mẫu trực tuyến (Đã khai)\")])]) : _vm._e(), _vm._v(\" \"), (item.eForm && !item.daKhai) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('i', {\n      staticClass: \"fa fa-file-o\",\n      staticStyle: {\n        \"color\": \"#0d71bb\",\n        \"font-size\": \"13px\"\n      },\n      attrs: {\n        \"slot\": \"activator\"\n      },\n      slot: \"activator\"\n    }), _vm._v(\" \"), _c('span', [_vm._v(\"Biểu mẫu trực tuyến (Chưa khai)\")])]) : _vm._e()], 1)]), _vm._v(\" \"), _vm._l((_vm.dossierFilesItems), function(itemFileView, index) {\n      return (item.partNo + _vm.id === itemFileView.dossierPartNo + _vm.id && !itemFileView.eForm) ? _c('div', {\n        key: index + 'cr'\n      }, [_c('div', {\n        staticStyle: {\n          \"width\": \"calc(100% - 370px)\",\n          \"display\": \"flex\",\n          \"align-items\": \"center\",\n          \"min-height\": \"38px\",\n          \"background\": \"#fff\",\n          \"padding-left\": \"15px\",\n          \"font-size\": \"12px\"\n        }\n      }, [_c('span', {\n        staticClass: \"ml-3\",\n        staticStyle: {\n          \"cursor\": \"pointer\"\n        },\n        on: {\n          \"click\": function($event) {\n            $event.stopPropagation();\n            _vm.viewFile2(itemFileView)\n          }\n        }\n      }, [(itemFileView.eForm) ? _c('v-icon', [_vm._v(\"border_color\")]) : _c('v-icon', [_vm._v(\"attach_file\")]), _vm._v(\"\\n                      \" + _vm._s(itemFileView.displayName) + \" - \\n                      \"), _c('i', [_vm._v(_vm._s(itemFileView.modifiedDate))])], 1), _vm._v(\" \"), _c('v-btn', {\n        staticClass: \"mx-0 my-0\",\n        attrs: {\n          \"icon\": \"\",\n          \"ripple\": \"\"\n        },\n        on: {\n          \"click\": function($event) {\n            $event.stopPropagation();\n            _vm.deleteSingleFile(itemFileView, index)\n          }\n        }\n      }, [_c('v-icon', {\n        staticStyle: {\n          \"color\": \"red\"\n        }\n      }, [_vm._v(\"delete_outline\")])], 1)], 1)]) : _vm._e()\n    })], 2)]), _vm._v(\" \"), (item.eForm) ? _c('v-card', [_c('v-card-text', {\n      staticStyle: {\n        \"background-color\": \"rgba(244, 247, 213, 0.19)\"\n      }\n    }, [_c('v-layout', {\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      staticClass: \"text-xs-right\",\n      attrs: {\n        \"xs12\": \"\"\n      }\n    }, [(item.eForm) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.saveAlpacaForm(item, index)\n        }\n      }\n    }, [_vm._v(\"Lưu lại\")]) : _vm._e(), _vm._v(\" \"), (item.daKhai && item.eForm) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteSingleFileEform(item, index)\n        }\n      }\n    }, [_vm._v(\"Xóa\")]) : _vm._e(), _vm._v(\" \"), (item.daKhai && item.eForm) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.previewFileEfom(item, index)\n        }\n      }\n    }, [_vm._v(\"In\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n      attrs: {\n        \"id\": 'formAlpaca' + item.partNo + _vm.id\n      }\n    })], 1)], 1)], 1)], 1) : _vm._e()], 1)], 1), _vm._v(\" \"), _c('div', {\n      staticClass: \"absolute__btn group__thanh_phan pr-3 mr-1\"\n    }, [(_vm.loading) ? _c('content-placeholders', {\n      staticClass: \"mt-1\"\n    }, [_c('content-placeholders-text', {\n      attrs: {\n        \"lines\": 1\n      }\n    })], 1) : _c('v-layout', {\n      attrs: {\n        \"row\": \"\",\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      staticStyle: {\n        \"width\": \"50px\"\n      }\n    }, [_c('input', {\n      staticStyle: {\n        \"display\": \"none\"\n      },\n      attrs: {\n        \"type\": \"file\",\n        \"id\": 'file' + item.partNo\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.onUploadSingleFile($event, item)\n        }\n      }\n    }), _vm._v(\" \"), (_vm.progressUploadPart + _vm.id === item.partNo + _vm.id) ? _c('v-progress-circular', {\n      attrs: {\n        \"width\": 2,\n        \"size\": 25,\n        \"color\": \"green\",\n        \"indeterminate\": \"\"\n      }\n    }) : (_vm.progressUploadPart + _vm.id !== item.partNo + _vm.id) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"icon\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.pickFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_c('v-badge', [_c('v-icon', {\n      attrs: {\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      }\n    }, [_vm._v(\"cloud_upload\")])], 1)], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Tải file lên\")])], 1) : _vm._e()], 1)], 1)], 1)], 1)\n  })), _vm._v(\" \"), _c('v-dialog', {\n    staticStyle: {\n      \"overflow\": \"hidden\"\n    },\n    attrs: {\n      \"max-width\": \"900\",\n      \"transition\": \"fade-transition\"\n    },\n    model: {\n      value: (_vm.dialogPDF),\n      callback: function($$v) {\n        _vm.dialogPDF = $$v\n      },\n      expression: \"dialogPDF\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(\"File đính kèm\")]), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"mx-0 my-0 absolute__btn_panel mr-2\",\n    attrs: {\n      \"icon\": \"\",\n      \"dark\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialogPDF = false\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"clear\")])], 1), _vm._v(\" \"), (_vm.dialogPDFLoading) ? _c('div', {\n    staticStyle: {\n      \"min-height\": \"600px\",\n      \"text-align\": \"center\",\n      \"margin\": \"auto\",\n      \"padding\": \"25%\"\n    }\n  }, [_c('v-progress-circular', {\n    attrs: {\n      \"size\": 100,\n      \"width\": 1,\n      \"color\": \"primary\",\n      \"indeterminate\": \"\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('iframe', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.dialogPDFLoading),\n      expression: \"!dialogPDFLoading\"\n    }],\n    staticStyle: {\n      \"overflow\": \"auto\",\n      \"min-height\": \"600px\"\n    },\n    attrs: {\n      \"id\": 'dialogPDFPreview' + _vm.id,\n      \"src\": \"\",\n      \"type\": \"application/pdf\",\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"frameborder\": \"0\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-5b77eb43\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b77eb43\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/TaoTaiLieuKetQua.vue\n// module id = 690\n// module chunks = 0 1 6 25","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"comment-temp\"\n  }, [_c('div', [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl-transparent\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": true\n    }\n  }, [_c('v-card', {\n    staticClass: \"comments__container\"\n  }, [_c('v-card-text', {\n    staticClass: \"pl-4\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"comments-container-el\"\n    }\n  })])], 1)], 1)], 1)], 1)])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-c8f36406\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-c8f36406\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Comment.vue\n// module id = 692\n// module chunks = 0 1 6 11","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"phancong\",\n    staticStyle: {\n      \"background-color\": \"white\",\n      \"width\": \"100%\"\n    }\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"Duyệt hồ sơ\\n      \")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', {\n    staticClass: \"px-0 py-0\"\n  }, [_c('v-tabs', {\n    staticClass: \"mb-4\",\n    attrs: {\n      \"icons-and-text\": \"\"\n    },\n    model: {\n      value: (_vm.tabActive),\n      callback: function($$v) {\n        _vm.tabActive = $$v\n      },\n      expression: \"tabActive\"\n    }\n  }, [_c('v-tabs-slider', {\n    attrs: {\n      \"color\": \"primary\"\n    }\n  }), _vm._v(\" \"), _c('v-tab', {\n    key: 1,\n    attrs: {\n      \"href\": \"#tabs-1\"\n    },\n    on: {\n      \"click\": _vm.changeActive\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"Ký kết quả hồ sơ\")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 2,\n    attrs: {\n      \"href\": \"#tabs-3\"\n    },\n    on: {\n      \"click\": _vm.changeActive\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"Không ký duyệt\")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 3,\n    attrs: {\n      \"href\": \"#tabs-4\"\n    },\n    on: {\n      \"click\": _vm.changeActive\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"Yêu cầu trình lại\")])], 1), _vm._v(\" \"), _c('v-tabs-items', {\n    staticClass: \"px-3 py-3\"\n  }, [_c('v-tab-item', {\n    key: 1,\n    attrs: {\n      \"id\": \"tabs-1\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_c('v-checkbox', {\n    attrs: {\n      \"label\": \"Sử dụng chữ ký số\"\n    },\n    model: {\n      value: (_vm.activeKS),\n      callback: function($$v) {\n        _vm.activeKS = $$v\n      },\n      expression: \"activeKS\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-tab-item', {\n    key: 2,\n    attrs: {\n      \"id\": \"tabs-3\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_vm._v(\"\\n                Lý do:\\n                \"), _c('v-text-field', {\n    staticClass: \"pt-2\",\n    attrs: {\n      \"placeholder\": \"Lý do không ký hồ sơ\",\n      \"textarea\": \"\",\n      \"rows\": 2\n    },\n    model: {\n      value: (_vm.noteReason),\n      callback: function($$v) {\n        _vm.noteReason = $$v\n      },\n      expression: \"noteReason\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-tab-item', {\n    key: 3,\n    attrs: {\n      \"id\": \"tabs-4\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_c('p', {\n    staticClass: \"mb-2\"\n  }, [_vm._v(\"Trình lại: \"), _c('span', {\n    staticClass: \"text-bold\"\n  }, [_vm._v(_vm._s(_vm.detailDossier['govAgencyName']))])]), _vm._v(\"\\n                Lý do:\\n                \"), _c('v-text-field', {\n    staticClass: \"pt-2\",\n    attrs: {\n      \"placeholder\": \"Lý do trình lại hồ sơ\",\n      \"textarea\": \"\",\n      \"rows\": 2\n    },\n    model: {\n      value: (_vm.noteReason),\n      callback: function($$v) {\n        _vm.noteReason = $$v\n      },\n      expression: \"noteReason\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-f7571a70\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-f7571a70\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/KyPheDuyetTaiLieu.vue\n// module id = 693\n// module chunks = 0 1 6 26","/* eslint-disable */\n\n(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(['jquery'], factory);\n\t} else if (typeof module === 'object' && module.exports) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = function(root, jQuery) {\n\t\t\tif (jQuery === undefined) {\n\t\t\t\t// require('jQuery') returns a factory that requires window to\n\t\t\t\t// build a jQuery instance, we normalize how we use modules\n\t\t\t\t// that require this pattern but the window provided is a noop\n\t\t\t\t// if it's defined (how jquery works)\n\t\t\t\tif (typeof window !== 'undefined') {\n\t\t\t\t\tjQuery = require('jquery');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tjQuery = require('jquery')(root);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfactory(jQuery);\n\t\t\treturn jQuery;\n\t\t};\n\t} else {\n\t\t// Browser globals\n\t\tfactory(jQuery);\n\t}\n}(function($) {\n\n\tvar Comments = {\n\t\t// Instance variables\n\t\t$el: null,\n\t\tcommentsById: {},\n\t\tusersById: {},\n\t\tdataFetched: false,\n\t\tcurrentSortKey: '',\n\t\toptions: {},\n\t\tevents: {\n\t\t\t// Close dropdowns\n\t\t\t'click': 'closeDropdowns',\n\t\t\t// Save comment on keydown\n\t\t\t'keydown [contenteditable]' : 'saveOnKeydown',\n\t\t\t// Listening changes in contenteditable fields (due to input event not working with IE)\n\t\t\t'focus [contenteditable]' : 'saveEditableContent',\n\t\t\t'keyup [contenteditable]' : 'checkEditableContentForChange',\n\t\t\t'paste [contenteditable]' : 'checkEditableContentForChange',\n\t\t\t'input [contenteditable]' : 'checkEditableContentForChange',\n\t\t\t'blur [contenteditable]' : 'checkEditableContentForChange',\n\t\t\t// Navigation\n\t\t\t'click .navigation li[data-sort-key]' : 'navigationElementClicked',\n\t\t\t'click .navigation li.title' : 'toggleNavigationDropdown',\n\t\t\t// Main comenting field\n\t\t\t'click .commenting-field.main .textarea': 'showMainCommentingField',\n\t\t\t'click .commenting-field.main .close' : 'hideMainCommentingField',\n\t\t\t// All commenting fields\n\t\t\t'click .commenting-field .textarea' : 'increaseTextareaHeight',\n\t\t\t'change .commenting-field .textarea' : 'increaseTextareaHeight textareaContentChanged',\n\t\t\t'click .commenting-field:not(.main) .close' : 'removeCommentingField',\n\t\t\t// Edit mode actions\n\t\t\t'click .commenting-field .send.enabled' : 'postComment',\n\t\t\t'click .commenting-field .update.enabled' : 'putComment',\n\t\t\t'click .commenting-field .delete.enabled' : 'deleteComment',\n\t\t\t'change .commenting-field .upload.enabled input[type=\"file\"]' : 'fileInputChanged',\n\t\t\t// Other actions\n\t\t\t'click li.comment button.upvote' : 'upvoteComment',\n\t\t\t'click li.comment button.delete.enabled' : 'deleteComment',\n\t\t\t'click li.comment .hashtag' : 'hashtagClicked',\n\t\t\t'click li.comment .ping' : 'pingClicked',\n\t\t\t// Other\n\t\t\t'click li.comment ul.child-comments .toggle-all': 'toggleReplies',\n\t\t\t'click li.comment button.reply': 'replyButtonClicked',\n\t\t\t'click li.comment button.edit': 'editButtonClicked',\n\t\t\t// Drag & dropping attachments\n\t\t\t'dragenter' : 'showDroppableOverlay',\n\t\t\t'dragenter .droppable-overlay' : 'handleDragEnter',\n\t\t\t'dragleave .droppable-overlay' : 'handleDragLeaveForOverlay',\n\t\t\t'dragenter .droppable-overlay .droppable' : 'handleDragEnter',\n\t\t\t'dragleave .droppable-overlay .droppable' : 'handleDragLeaveForDroppable',\n\t\t\t'dragover .droppable-overlay' : 'handleDragOverForOverlay',\n\t\t\t'drop .droppable-overlay' : 'handleDrop',\n\t\t\t// Prevent propagating the click event into buttons under the autocomplete dropdown\n\t\t\t'click .dropdown.autocomplete': 'stopPropagation',\n\t\t\t'mousedown .dropdown.autocomplete': 'stopPropagation',\n\t\t\t'touchstart .dropdown.autocomplete': 'stopPropagation',\n\t\t},\n\t\t// Default options\n\n\t\tgetDefaultOptions: function() {\n\t\t\treturn {\n\t\t\t\t// User        \n\t\t\t\tprofilePictureURL: '',\n\t\t\t\tcurrentUserIsAdmin: false,\n\t\t\t\tcurrentUserId: null,\n\t\t\t\t// Font awesome icon overrides        \n\t\t\t\tspinnerIconURL: '',\n\t\t\t\tupvoteIconURL: '',\n\t\t\t\treplyIconURL: '',\n\t\t\t\tuploadIconURL: '',\n\t\t\t\tattachmentIconURL: '',\n\t\t\t\tfileIconURL: '',\n\t\t\t\tnoCommentsIconURL: '',\n\t\t\t\tnoCommentsImptIconURL: '',\n\t\t\t\t// Strings to be formatted (for example localization)     \n\t\t\t\ttextareaPlaceholderText: 'Thêm bình luận mới',\n\t\t\t\tnewestText: 'Mới nhất',\n\t\t\t\toldestText: 'Cũ nhất',\n\t\t\t\timportantCmtText: 'Ý kiến chính thức',\n\t\t\t\tpopularText: 'Phổ biến',\n\t\t\t\tattachmentsText: 'Tệp đính kèm',\n\t\t\t\tsendText: 'Gửi',\n\t\t\t\treplyText: 'Trả lời',\n\t\t\t\teditText: 'Sửa',\n\t\t\t\teditedText: 'Đã sửa',\n\t\t\t\tyouText: 'You',\n\t\t\t\tsaveText: 'Ghi lại',\n\t\t\t\tdeleteText: 'Xoá',\n\t\t\t\tnewText: 'Mới',\n\t\t\t\tviewAllRepliesText: 'Xem tất cả __replyCount__ trả lời',\n\t\t\t\thideRepliesText: 'Hide replies',\n\t\t\t\tnoCommentsText: 'Không có bình luận',\n\t\t\t\tnoCommentsImportantText: 'Không có ý kiến chính thức',\n\t\t\t\tnoAttachmentsText: 'Không có tệp đính kèm',\n\t\t\t\tattachmentDropText: 'Kéo thả tệp để tải lên',\n\t\t\t\ttextFormatter: function(text) {return text},\n\t\t\t\t\n\t\t\t\t// Functionalities        \n\t\t\t\tenableReplying: true,\n\t\t\t\tenableEditing: true,\n\t\t\t\tenableUpvoting: true,\n\t\t\t\tenableDeleting: true,\n\t\t\t\tenableAttachments: false,\n\t\t\t\tenableHashtags: false,\n\t\t\t\tenablePinging: false,\n\t\t\t\tenableDeletingCommentWithReplies: false,\n\t\t\t\tenableNavigation: true,\n\t\t\t\tpostCommentOnEnter: false,\n\t\t\t\tforceResponsive: false,\n\t\t\t\treadOnly: false,\n\t\t\t\tdefaultNavigationSortKey: 'newest',\n\t\t\t\t// Colors     \n\t\t\t\thighlightColor: '#2793e6',\n\t\t\t\tdeleteButtonColor: '#C9302C',\n\t\t\t\tscrollContainer: this.$el,\n\t\t\t\troundProfilePictures: false,\n\t\t\t\ttextareaRows: 2,\n\t\t\t\ttextareaRowsOnFocus: 2,\n\t\t\t\ttextareaMaxRows: 5,\n\t\t\t\tmaxRepliesVisible: 2,\n\t\t\t\t\n\t\t\t\tfieldMappings: {\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tparent: 'parent',\n\t\t\t\t\tcreated: 'createdDate',\n\t\t\t\t\tmodified: 'modifiedDate',\n\t\t\t\t\tcontent: 'content',\n\t\t\t\t\tfile: 'file',\n\t\t\t\t\tfileURL: 'file_url',\n\t\t\t\t\tfileMimeType: 'file_mime_type',\n\t\t\t\t\tpings: 'pings',\n\t\t\t\t\tcreator: 'creator',\n\t\t\t\t\tfullname: 'fullname',\n\t\t\t\t\tprofileURL: 'profile_url',\n\t\t\t\t\tprofilePictureURL: 'profile_picture_url',\n\t\t\t\t\tisNew: 'is_new',\n\t\t\t\t\tcreatedByAdmin: 'created_by_admin',\n\t\t\t\t\tcreatedByCurrentUser: 'created_by_current_user',\n\t\t\t\t\tupvoteCount: 'upvote_count',\n\t\t\t\t\tuserHasUpvoted: 'user_has_upvoted'\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\tgetUsers: function(success, error) {success([])},\n\t\t\t\tgetComments: function(success, error) {success([])},\n\t\t\t\tpostComment: function(commentJSON, success, error) {success(commentJSON)},\n\t\t\t\tputComment: function(commentJSON, success, error) {success(commentJSON)},\n\t\t\t\tdeleteComment: function(commentJSON, success, error) {success()},\n\t\t\t\tupvoteComment: function(commentJSON, success, error) {success(commentJSON)},\n\t\t\t\thashtagClicked: function(hashtag) {},\n\t\t\t\tpingClicked: function(userId) {},\n\t\t\t\tuploadAttachments: function(commentArray, success, error) {success(commentArray)},\n\t\t\t\trefresh: function() {},\n\t\t\t\ttimeFormatter: function(time) {return new Date(time).toLocaleDateString()},\n\t\t\t\tappendNewComments: function(commentJSONs, success, error) {success([])}\n\t\t\t}\n\t\t},\n\n\t\t// Initialization\n\t\tinit: function(options, el) {\n\t\t\tthis.$el = $(el);\n\t\t\tthis.$el.addClass('jquery-comments');\n\t\t\tthis.undelegateEvents();\n\t\t\tthis.delegateEvents();\n\t\t\t// Detect mobile devices\n\t\t\t(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);\n\t\t\tif($.browser.mobile) this.$el.addClass('mobile');\n\t\t\t// Init options\n\t\t\tthis.options = $.extend(true, {}, this.getDefaultOptions(), options);;\n\t\t\t// Read-only mode\n\t\t\tif(this.options.readOnly) this.$el.addClass('read-only');\n\t\t\t// Set initial sort key\n\t\t\tthis.currentSortKey = this.options.defaultNavigationSortKey;\n\t\t\t// Create CSS declarations for highlight color\n\t\t\tthis.createCssDeclarations();\n\t\t\t// Fetching data and rendering\n\t\t\tthis.fetchDataAndRender();\n\t\t},\n\n\t\tdelegateEvents: function() {\n\t\t\tthis.bindEvents(false);\n\t\t},\n\n\t\tundelegateEvents: function() {\n\t\t\tthis.bindEvents(true);\n\t\t},\n\n\t\tbindEvents: function(unbind) {\n\t\t\t\tvar bindFunction = unbind ? 'off' : 'on';\n\t\t\t\tfor (var key in this.events) {\n\t\t\t\t\t\tvar eventName = key.split(' ')[0];\n\t\t\t\t\t\tvar selector = key.split(' ').slice(1).join(' ');\n\t\t\t\t\t\tvar methodNames = this.events[key].split(' ');\n\n\t\t\t\t\t\tfor(var index in methodNames) {\n\t\t\t\t\t\t\t\tif(methodNames.hasOwnProperty(index)) {\n\t\t\t\t\t\t\t\t\t\tvar method = this[methodNames[index]];\n\n\t\t\t\t\t\t\t\t\t\t// Keep the context\n\t\t\t\t\t\t\t\t\t\tmethod = $.proxy(method, this);\n\n\t\t\t\t\t\t\t\t\t\tif (selector == '') {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$el[bindFunction](eventName, method);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$el[bindFunction](eventName, selector, method);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t},\n\n\t\t// Basic functionalities\n\t\tfetchDataAndRender: function () {\n\t\t\tvar self = this;\n\t\t\tsetTimeout(function(){self.appendNewComments()},30000);\n\t\t\tthis.commentsById = {};\n\t\t\tthis.usersById = {};\n\t\t\tthis.$el.empty();\n\t\t\tthis.createHTML();\n\t\t\t// Render after data has been fetched\n\t\t\tvar dataFetched = this.after(this.options.enablePinging ? 2 : 1, function() {\n\t\t\t\tself.dataFetched = true;\n\t\t\t\tself.render();\n\t\t\t});\n\n\t\t\t// Comments\n\t\t\tvar commentsFetched = function(commentsArray) {\n\t\t\t\t// Convert comments to custom data model\n\t\t\t\tvar commentModels = commentsArray.map(function(commentsJSON){\n\t\t\t\t\treturn self.createCommentModel(commentsJSON)\n\t\t\t\t});\n\t\t\t\t// Sort comments by date (oldest first so that they can be appended to the data model\n\t\t\t\t// without caring dependencies)\n\t\t\t\tself.sortComments(commentModels, 'oldest');\n\t\t\t\t$(commentModels).each(function(index, commentModel) {\n\t\t\t\t\t\tself.addCommentToDataModel(commentModel);\n\t\t\t\t});\n\t\t\t\tdataFetched();\n\t\t\t};\n\t\t\tthis.options.getComments(commentsFetched, dataFetched);\n\n\t\t\t// Users\n\t\t\tif(this.options.enablePinging) {\n\t\t\t\tvar usersFetched = function(userArray) {\n\t\t\t\t\t$(userArray).each(function(index, user) {\n\t\t\t\t\t\tself.usersById[user.id] = user;\n\t\t\t\t\t});\n\t\t\t\t\tdataFetched();\n\t\t\t\t}\n\t\t\t\tthis.options.getUsers(usersFetched, dataFetched);\n\t\t\t};\n\t\t},\n\n\t\tfetchNext: function() {\n\t\t\tvar self = this;\n\t\t\t// Loading indicator\n\t\t\tvar spinner = this.createSpinner();\n\t\t\tthis.$el.find('ul#comment-list').append(spinner);\n\t\t\tvar success = function (commentModels) {\n\t\t\t\t$(commentModels).each(function(index, commentModel) {\n\t\t\t\t\tself.createComment(commentModel);\n\t\t\t\t});\n\t\t\t\tspinner.remove();\n\t\t\t}\n\n\t\t\tvar error = function() {\n\t\t\t\tspinner.remove();\n\t\t\t}\n\t\t\tthis.options.getComments(success, error);\n\t\t},\n\n\t\tcreateCommentModel: function(commentJSON) {\n\t\t\tvar commentModel = this.applyInternalMappings(commentJSON);\n\t\t\tcommentModel.childs = [];\n\t\t\tthis.commentsById[commentModel.id] = commentModel;\n\t\t\treturn commentModel;\n\t\t},\n\n\t\taddCommentToDataModel: function(commentModel) {\n\t\t\tif(!(commentModel.id in this.commentsById)) {\n\t\t\t\tthis.commentsById[commentModel.id] = commentModel;\n\n\t\t\t\t// Update child array of the parent (append childs to the array of outer most parent)\n\t\t\t\tif(commentModel.parent) {\n\t\t\t\t\tvar outermostParent = this.getOutermostParent(commentModel.parent);\n\t\t\t\t\toutermostParent.childs.push(commentModel.id);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdateCommentModel: function(commentModel) {\n\t\t\t$.extend(this.commentsById[commentModel.id], commentModel);\n\t\t},\n\n\t\trender: function() {\n\t\t\tvar self = this;\n\t\t\t// Prevent re-rendering if data hasn't been fetched\n\t\t\tif(!this.dataFetched) return;\n\t\t\t// Show active container\n\t\t\tthis.showActiveContainer();\n\t\t\t// Create comments\n\t\t\tthis.createComments();\n\t\t\t// Create attachments if enabled\n\t\t\tif(this.options.enableAttachments) this.createAttachments(); \n\t\t\t// Create important comment\n\t\t\tthis.createImportantComments();\n\t\t\t// Remove spinner\n\t\t\tthis.$el.find('> .spinner').remove();\n\t\t\tthis.options.refresh();\n\t\t},\n\n\t\tshowActiveContainer: function() {\n\t\t\tvar activeNavigationEl = this.$el.find('.navigation li[data-container-name].active');\n\t\t\tvar containerName = activeNavigationEl.data('container-name');\n\t\t\tvar containerEl = this.$el.find('[data-container=\"' + containerName + '\"]');\n\t\t\tcontainerEl.siblings('[data-container]').hide();\n\t\t\tcontainerEl.show();\n\t\t},\n\n\t\tcreateComments: function() {\n\t\t\tvar self = this;\n\t\t\t// Create the list element before appending to DOM in order to reach better performance\n\t\t\tthis.$el.find('#comment-list').remove();\n\t\t\tvar commentList = $('<ul/>', {\n\t\t\t\tid: 'comment-list',\n\t\t\t\t'class': 'main'\n\t\t\t});\n\n\t\t\t// Divide commments into main level comments and replies\n\t\t\tvar mainLevelComments = [];\n\t\t\tvar replies = [];\n\n\t\t\t$(this.getComments()).each(function(index, commentModel) {\n\t\t\t\tif(commentModel.parent == null) {\n\t\t\t\t\tmainLevelComments.push(commentModel);\n\t\t\t\t} else {\n\t\t\t\t\treplies.push(commentModel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Append main level comments\n\t\t\tthis.sortComments(mainLevelComments, this.currentSortKey);\n\t\t\tmainLevelComments.reverse();    // Reverse the order as they are prepended to DOM\n\t\t\t$(mainLevelComments).each(function(index, commentModel) {\n\t\t\t\tself.addComment(commentModel, commentList);\n\t\t\t});\n\n\t\t\t// Append replies in chronological order\n\t\t\tthis.sortComments(replies, 'oldest');\n\t\t\t$(replies).each(function(index, commentModel) {\n\t\t\t\tself.addComment(commentModel, commentList);\n\t\t\t});\n\n\t\t\t// Appned list to DOM\n\t\t\tthis.$el.find('[data-container=\"comments\"]').prepend(commentList);\n\t\t},\n\n\t\tcreateAttachments: function() {\n\t\t\tvar self = this;\n\t\t\t// Create the list element before appending to DOM in order to reach better performance\n\t\t\tthis.$el.find('#attachment-list').remove();\n\t\t\tvar attachmentList = $('<ul/>', {\n\t\t\t\tid: 'attachment-list',\n\t\t\t\t'class': 'main'\n\t\t\t});\n\n\t\t\tvar attachments = this.getAttachments();\n\t\t\tthis.sortComments(attachments, 'newest');\n\t\t\tattachments.reverse();    // Reverse the order as they are prepended to DOM\n\t\t\t$(attachments).each(function(index, commentModel) {\n\t\t\t\tself.addAttachment(commentModel, attachmentList);\n\t\t\t});\n\n\t\t\t// Appned list to DOM\n\t\t\tthis.$el.find('[data-container=\"attachments\"]').prepend(attachmentList);\n\t\t},\n\t\tcreateImportantComments: function() {\n\t\t\tvar self = this;\n\t\t\t// Create the list element before appending to DOM in order to reach better performance\n\t\t\tthis.$el.find('#importantCmt-list').remove();\n\t\t\tvar importantCmtList = $('<ul/>', {\n\t\t\t\t\tid: 'importantCmt-list',\n\t\t\t\t\t'class': 'main'\n\t\t\t});\n\n\t\t\tvar importantCmt = this.getImportantCmt();\n\n\t\t\tthis.sortComments(importantCmt, 'newest');\n\t\t\timportantCmt.reverse();    // Reverse the order as they are prepended to DOM\n\t\t\t$(importantCmt).each(function(index, commentModel) {\n\t\t\t\t\tself.addImportantCmt(commentModel, importantCmtList);\n\t\t\t});\n\n\t\t\t// Appned list to DOM\n\t\t\tthis.$el.find('[data-container=\"importantCmt\"]').prepend(importantCmtList);\n\t\t},\n\t\taddComment: function(commentModel, commentList) {\n\t\t\tcommentList = commentList || this.$el.find('#comment-list');\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\n\n\t\t\t// Case: reply\n\t\t\tif(commentModel.parent) {\n\t\t\t\tvar directParentEl = commentList.find('.comment[data-id=\"'+commentModel.parent+'\"]');\n\n\t\t\t\t// Re-render action bar of direct parent element\n\t\t\t\tthis.reRenderCommentActionBar(commentModel.parent);\n\n\t\t\t\t// Force replies into one level only\n\t\t\t\tvar outerMostParent = directParentEl.parents('.comment').last();\n\t\t\t\tif(outerMostParent.length == 0) outerMostParent = directParentEl;\n\n\t\t\t\t// Append element to DOM\n\t\t\t\tvar childCommentsEl = outerMostParent.find('.child-comments');\n\t\t\t\tvar commentingField = childCommentsEl.find('.commenting-field');\n\t\t\t\tif(commentingField.length) {\n\t\t\t\t\tcommentingField.before(commentEl)\n\t\t\t\t} else {\n\t\t\t\t\tchildCommentsEl.append(commentEl);\n\t\t\t\t}\n\n\t\t\t\t// Update toggle all -button\n\t\t\t\tthis.updateToggleAllButton(outerMostParent);\n\n\t\t\t// Case: main level comment\n\t\t\t} else {\n\t\t\t\tcommentList.prepend(commentEl);\n\t\t\t}\n\t\t},\n\t\taddAttachment: function(commentModel, commentList) {\n\t\t\tcommentList = commentList || this.$el.find('#attachment-list');\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\n\t\t\tcommentList.prepend(commentEl);\n\t\t},\n\t\taddImportantCmt: function(commentModel, commentList) {\n\t\t\tcommentList = commentList || this.$el.find('#importantCmt-list');\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\n\t\t\tcommentList.prepend(commentEl);\n\t\t},\n\t\tremoveComment: function(commentId) {\n\t\t\tvar self = this;\n\t\t\tvar commentModel = this.commentsById[commentId];\n\n\t\t\t// Remove child comments recursively\n\t\t\tvar childComments = this.getChildComments(commentModel.id);\n\t\t\t$(childComments).each(function(index, childComment) {\n\t\t\t\tself.removeComment(childComment.id);\n\t\t\t});\n\n\t\t\t// Update the child array of outermost parent\n\t\t\tif(commentModel.parent) {\n\t\t\t\tvar outermostParent = this.getOutermostParent(commentModel.parent);\n\t\t\t\tvar indexToRemove = outermostParent.childs.indexOf(commentModel.id);\n\t\t\t\toutermostParent.childs.splice(indexToRemove, 1);\n\t\t\t}\n\n\t\t\t// Remove the comment from data model\n\t\t\tdelete this.commentsById[commentId];\n\t\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentId+'\"]');\n\t\t\tvar parentEl = commentElements.parents('li.comment').last();\n\n\t\t\t// Remove the element\n\t\t\tcommentElements.remove();\n\n\t\t\t// Update the toggle all button\n\t\t\tthis.updateToggleAllButton(parentEl);\n\t\t},\n\n\t\tuploadAttachments: function(files, commentingField) {\n\t\t\tvar self = this;\n\t\t\tif(!commentingField) commentingField = this.$el.find('.commenting-field.main');\n\t\t\tvar isReply = !commentingField.hasClass('main');\n\t\t\tvar fileCount = files.length;\n\n\t\t\tif(fileCount) {\n\t\t\t\tvar uploadButton = commentingField.find('.upload');\n\t\t\t\tvar textarea = commentingField.find('.textarea');\n\n\t\t\t\t// Disable upload button and append spinners while request is pending\n\t\t\t\tuploadButton.removeClass('enabled');\n\t\t\t\tvar attachmentListSpinner = this.createSpinner();\n\t\t\t\tvar commentListSpinner = this.createSpinner();\n\t\t\t\tthis.$el.find('ul#attachment-list').prepend(attachmentListSpinner);\n\t\t\t\tif(isReply) {\n\t\t\t\t\tcommentingField.before(commentListSpinner);\n\t\t\t\t} else {\n\t\t\t\t\tthis.$el.find('ul#comment-list').prepend(commentListSpinner);\n\t\t\t\t}\n\n\t\t\t\tvar success = function(commentArray) {\n\t\t\t\t\t$(commentArray).each(function(index, commentJSON) {\n\t\t\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\n\t\t\t\t\t\tself.addCommentToDataModel(commentModel);\n\t\t\t\t\t\tself.addComment(commentModel);\n\t\t\t\t\t\tself.addAttachment(commentModel);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Close the commenting field if all the uploads were successfull\n\t\t\t\t\t// and there's no content besides the attachment\n\t\t\t\t\tif(commentArray.length == fileCount && self.getTextareaContent(textarea).length == 0) {\n\t\t\t\t\t\tcommentingField.find('.close').trigger('click');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Enable upload button and remove spinners\n\t\t\t\t\tuploadButton.addClass('enabled');\n\t\t\t\t\tcommentListSpinner.remove();\n\t\t\t\t\tattachmentListSpinner.remove();\n\t\t\t\t};\n\n\t\t\t\tvar error = function() {\n\t\t\t\t\t// Enable upload button and remove spinners\n\t\t\t\t\tuploadButton.addClass('enabled');\n\t\t\t\t\tcommentListSpinner.remove();\n\t\t\t\t\tattachmentListSpinner.remove();\n\t\t\t\t};\n\n\t\t\t\tvar commentArray = [];\n\t\t\t\t$(files).each(function(index, file) {\n\t\t\t\t\t// Create comment JSON\n\t\t\t\t\tvar commentJSON = self.createCommentJSON(textarea);\n\t\t\t\t\tcommentJSON.id += '-' + index;\n\t\t\t\t\tcommentJSON.content = '';\n\t\t\t\t\tcommentJSON.file = file;\n\t\t\t\t\tcommentJSON.fileURL = 'C:/fakepath/' + file.name;\n\t\t\t\t\tcommentJSON.fileMimeType = file.type;\n\t\t\t\t\t// Reverse mapping\n\t\t\t\t\tcommentJSON = self.applyExternalMappings(commentJSON);\n\t\t\t\t\tcommentArray.push(commentJSON);\n\t\t\t\t});\n\n\t\t\t\tself.options.uploadAttachments(commentArray, success, error);\n\t\t\t}\n\n\t\t\t// Clear the input field\n\t\t\tuploadButton.find('input').val('');\n\t\t},\n\n\t\tupdateToggleAllButton: function(parentEl) {\n\t\t\t// Don't hide replies if maxRepliesVisible is null or undefined\n\t\t\tif (this.options.maxRepliesVisible == null) return;\n\n\t\t\tvar childCommentsEl = parentEl.find('.child-comments');\n\t\t\tvar childComments = childCommentsEl.find('.comment');\n\t\t\tvar toggleAllButton = childCommentsEl.find('li.toggle-all');\n\t\t\tchildComments.removeClass('hidden-reply');\n\n\t\t\t// Select replies to be hidden\n\t\t\tif (this.options.maxRepliesVisible === 0) {\n\t\t\t\tvar hiddenReplies = childComments;\n\t\t\t} else {\n\t\t\t\tvar hiddenReplies = childComments.slice(0, -this.options.maxRepliesVisible);\n\t\t\t}\n\n\t\t\t// Add identifying class for hidden replies so they can be toggled\n\t\t\thiddenReplies.addClass('hidden-reply');\n\n\t\t\t// Show all replies if replies are expanded\n\t\t\tif(toggleAllButton.find('span.text').text() == this.options.textFormatter(this.options.hideRepliesText)) {\n\t\t\t\thiddenReplies.addClass('visible');\n\t\t\t}\n\n\t\t\t// Make sure that toggle all button is present\n\t\t\tif(childComments.length > this.options.maxRepliesVisible) {\n\n\t\t\t\t// Append button to toggle all replies if necessary\n\t\t\t\tif(!toggleAllButton.length) {\n\n\t\t\t\t\ttoggleAllButton = $('<li/>', {\n\t\t\t\t\t\t'class': 'toggle-all highlight-font-bold'\n\t\t\t\t\t});\n\t\t\t\t\tvar toggleAllButtonText = $('<span/>', {\n\t\t\t\t\t\t'class': 'text'\n\t\t\t\t\t});\n\t\t\t\t\tvar caret = $('<span/>', {\n\t\t\t\t\t\t'class': 'caret'\n\t\t\t\t\t});\n\n\t\t\t\t\t// Append toggle button to DOM\n\t\t\t\t\ttoggleAllButton.append(toggleAllButtonText).append(caret);\n\t\t\t\t\tchildCommentsEl.prepend(toggleAllButton);\n\t\t\t\t}\n\n\t\t\t\t// Update the text of toggle all -button\n\t\t\t\tthis.setToggleAllButtonText(toggleAllButton, false);\n\t\t\t// Make sure that toggle all button is not present\n\t\t\t} else {\n\t\t\t\ttoggleAllButton.remove();\n\t\t\t}\n\t\t},\n\n\t\tsortComments: function (comments, sortKey) {\n\t\t\tvar self = this;\n\t\t\t// Sort by popularity\n\t\t\tif(sortKey == 'popularity') {\n\t\t\t\tcomments.sort(function(commentA, commentB) {\n\t\t\t\t\tvar pointsOfA = commentA.childs.length;\n\t\t\t\t\tvar pointsOfB = commentB.childs.length;\n\n\t\t\t\t\tif(self.options.enableUpvoting) {\n\t\t\t\t\t\tpointsOfA += commentA.upvoteCount;\n\t\t\t\t\t\tpointsOfB += commentB.upvoteCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(pointsOfB != pointsOfA) {\n\t\t\t\t\t\treturn pointsOfB - pointsOfA;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Return newer if popularity is the same\n\t\t\t\t\t\tvar createdA = new Date(commentA.created).getTime();\n\t\t\t\t\t\tvar createdB = new Date(commentB.created).getTime();\n\t\t\t\t\t\treturn createdB - createdA;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t// Sort by date\n\t\t\t} else {\n\t\t\t\tcomments.sort(function(commentA, commentB) {\n\t\t\t\t\tvar createdA = (new Date(commentA.created)).getTime();\n\t\t\t\t\tvar createdB = (new Date(commentB.created)).getTime();\n\t\t\t\t\tif(sortKey == 'oldest') {\n\t\t\t\t\t\treturn createdA - createdB;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn createdB - createdA;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tsortUsers: function(users) {\n\t\t\tusers.sort(function(a,b) {\n\t\t\t\tvar nameA = a.fullname.toLowerCase().trim();\n\t\t\t\tvar nameB = b.fullname.toLowerCase().trim();\n\t\t\t\tif(nameA < nameB) return -1;\n\t\t\t\tif(nameA > nameB) return 1;\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t},\n\n\t\tsortAndReArrangeComments: function(sortKey) {\n\t\t\tvar commentList = this.$el.find('#comment-list');\n\n\t\t\t// Get main level comments\n\t\t\tvar mainLevelComments = this.getComments().filter(function(commentModel){return !commentModel.parent});\n\t\t\tthis.sortComments(mainLevelComments, sortKey);\n\n\t\t\t// Rearrange the main level comments\n\t\t\t$(mainLevelComments).each(function(index, commentModel) {\n\t\t\t\t\tvar commentEl = commentList.find('> li.comment[data-id='+commentModel.id+']');\n\t\t\t\t\tcommentList.append(commentEl);\n\t\t\t});\n\t\t},\n\n\t\tshowActiveSort: function() {\n\t\t\tvar activeElements = this.$el.find('.navigation li[data-sort-key=\"' + this.currentSortKey + '\"]');\n\n\t\t\t// Indicate active sort\n\t\t\tthis.$el.find('.navigation li').removeClass('active');\n\t\t\tactiveElements.addClass('active');\n\n\t\t\t// Update title for dropdown\n\t\t\tvar titleEl = this.$el.find('.navigation .title');\n\t\t\tif(this.currentSortKey != 'attachments') {\n\t\t\t\ttitleEl.addClass('active');\n\t\t\t\ttitleEl.find('header').html(activeElements.first().html());\n\t\t\t} else {\n\t\t\t\tvar defaultDropdownEl = this.$el.find('.navigation ul.dropdown').children().first();\n\t\t\t\ttitleEl.find('header').html(defaultDropdownEl.html());\n\t\t\t} \n\n\t\t\t// Show active container\n\t\t\tthis.showActiveContainer();\n\t\t},\n\n\t\tforceResponsive: function() {\n\t\t\tthis.$el.addClass('responsive');\n\t\t},\n\n\t\t// Event handlers\n\n\t\tcloseDropdowns: function() {\n\t\t\tthis.$el.find('.dropdown').hide();\n\t\t},\n\n\t\tsaveOnKeydown: function(ev) {\n\t\t\t// Save comment on cmd/ctrl + enter\n\t\t\tif(ev.keyCode == 13) {\n\t\t\t\tvar metaKey = ev.metaKey || ev.ctrlKey;\n\t\t\t\tif(this.options.postCommentOnEnter || metaKey) {                \n\t\t\t\t\tvar el = $(ev.currentTarget);\n\t\t\t\t\tel.siblings('.control-row').find('.save').trigger('click');\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsaveEditableContent: function(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tel.data('before', el.html());\n\t\t},\n\n\t\tcheckEditableContentForChange: function(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tif (el.data('before') != el.html()) {\n\t\t\t\tel.data('before', el.html());\n\t\t\t\tel.trigger('change');\n\t\t\t}\n\t\t},\n\n\t\tnavigationElementClicked: function(ev) {\n\t\t\tvar navigationEl = $(ev.currentTarget);\n\t\t\tvar sortKey = navigationEl.data().sortKey;\n\n\t\t\t// Sort the comments if necessary\n\t\t\tif(sortKey != 'attachments') {\n\t\t\t\t\tthis.sortAndReArrangeComments(sortKey);\n\t\t\t}\n\t\t\t// Save the current sort key\n\t\t\tthis.currentSortKey = sortKey;\n\t\t\tthis.showActiveSort();\n\t\t},\n\n\t\ttoggleNavigationDropdown: function(ev) {\n\t\t\t// Prevent closing immediately\n\t\t\tev.stopPropagation();\n\n\t\t\tvar dropdown = $(ev.currentTarget).find('~ .dropdown');\n\t\t\tdropdown.toggle();\n\t\t},\n\n\t\tshowMainCommentingField: function(ev) {\n\t\t\tvar mainTextarea = $(ev.currentTarget);\n\t\t\tmainTextarea.siblings('.control-row').show();\n\t\t\tmainTextarea.parent().find('.close').show();\n\t\t\tmainTextarea.focus();\n\t\t},\n\n\t\thideMainCommentingField: function(ev) {\n\t\t\tvar closeButton = $(ev.currentTarget);\n\t\t\tvar mainTextarea = this.$el.find('.commenting-field.main .textarea');\n\t\t\tvar mainControlRow = this.$el.find('.commenting-field.main .control-row');\n\n\t\t\tthis.clearTextarea(mainTextarea);\n\t\t\tthis.adjustTextareaHeight(mainTextarea, false);\n\n\t\t\tmainControlRow.hide();\n\t\t\tcloseButton.hide();\n\t\t\tmainTextarea.blur();\n\t\t},\n\n\t\tincreaseTextareaHeight: function(ev) {\n\t\t\tvar textarea = $(ev.currentTarget);\n\t\t\tthis.adjustTextareaHeight(textarea, true);\n\t\t},\n\n\t\ttextareaContentChanged: function(ev) {\n\t\t\tvar textarea = $(ev.currentTarget);\n\t\t\tvar saveButton = textarea.siblings('.control-row').find('.save');\n\n\t\t\t// Update parent id if reply-to tag was removed\n\t\t\tif(!textarea.find('.reply-to.tag').length) {\n\t\t\t\tvar commentId = textarea.attr('data-comment');\n\n\t\t\t\t// Case: editing comment\n\t\t\t\tif(commentId) {\n\t\t\t\t\tvar parentComments = textarea.parents('li.comment');\n\t\t\t\t\tif(parentComments.length > 1) {\n\t\t\t\t\t\tvar parentId = parentComments.last().data('id');\n\t\t\t\t\t\ttextarea.attr('data-parent', parentId);\n\t\t\t\t\t}\n\n\t\t\t\t// Case: new comment\n\t\t\t\t} else {\n\t\t\t\t\tvar parentId = textarea.parents('li.comment').last().data('id');\n\t\t\t\t\ttextarea.attr('data-parent', parentId);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Move close button if scrollbar is visible\n\t\t\tvar commentingField = textarea.parents('.commenting-field').first();\n\t\t\tif(textarea[0].scrollHeight > textarea.outerHeight()) {\n\t\t\t\tcommentingField.addClass('scrollable');\n\t\t\t} else {\n\t\t\t\tcommentingField.removeClass('scrollable');\n\t\t\t}\n\n\t\t\t// Check if content or parent has changed if editing\n\t\t\tvar contentOrParentChangedIfEditing = true;\n\t\t\tvar content = this.getTextareaContent(textarea, true);\n\t\t\tif(commentId = textarea.attr('data-comment')) {\n\t\t\t\tvar contentChanged = content != this.commentsById[commentId].content;\n\t\t\t\tvar parentFromModel;\n\t\t\t\tif(this.commentsById[commentId].parent) {\n\t\t\t\t\tparentFromModel = this.commentsById[commentId].parent.toString();\n\t\t\t\t}\n\t\t\t\tvar parentChanged = textarea.attr('data-parent') != parentFromModel;\n\t\t\t\tcontentOrParentChangedIfEditing = contentChanged || parentChanged;\n\t\t\t}\n\n\t\t\t// Check whether save button needs to be enabled\n\t\t\tif(content.length && contentOrParentChangedIfEditing) {\n\t\t\t\tsaveButton.addClass('enabled');\n\t\t\t} else {\n\t\t\t\tsaveButton.removeClass('enabled');\n\t\t\t}\n\t\t},\n\n\t\tremoveCommentingField: function(ev) {\n\t\t\tvar closeButton = $(ev.currentTarget);\n\n\t\t\t// Remove edit class from comment if user was editing the comment\n\t\t\tvar textarea = closeButton.siblings('.textarea');\n\t\t\tif(textarea.attr('data-comment')) {\n\t\t\t\tcloseButton.parents('li.comment').first().removeClass('edit');\n\t\t\t}\n\n\t\t\t// Remove the field\n\t\t\tvar commentingField = closeButton.parents('.commenting-field').first();\n\t\t\tcommentingField.remove();\n\t\t},\n\n\t\tappendNewComments: function() {\n\t\t\tvar self = this;\n\t\t\tconsole.log($(self.$el.context), $(self.$el.context).length);\n\t\t\tif ($(self.$el.context).length == 0) {\n\t\t\t\tclearTimeout(myVar);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar commentJSONs = this.getComments();\n\n\t\t\tvar success = function(commentsNew, commentsEdit) {\n\t\t\t\tfor (var c in commentsNew) {\n\t\t\t\t\tself.createComment(commentsNew[c]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor (var cmt in commentsEdit) {\n\t\t\t\t\tvar commentModel = self.createCommentModel(commentsEdit[cmt]);\n\t\t\t\t\tself.updateCommentModel(commentModel);\n\t\t\t\t\tself.reRenderComment(commentModel.id);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar error = function() {\n\t\t\t\tconsole.log('jquery comment append new error');\n\t\t\t};\n\t\t\tvar myVar = setTimeout(function(){self.appendNewComments()},30000);\n\t\t\tthis.options.appendNewComments(commentJSONs, success, error);\n\t\t},\n\t\t\t\n\t\tpostComment: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar sendButton = $(ev.currentTarget);\n\t\t\tvar commentingField = sendButton.parents('.commenting-field').first();\n\t\t\tvar textarea = commentingField.find('.textarea');\n\n\t\t\t// Disable send button while request is pending\n\t\t\tsendButton.removeClass('enabled');\n\n\t\t\t// Create comment JSON\n\t\t\tvar commentJSON = this.createCommentJSON(textarea);\n\n\t\t\t// Reverse mapping\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\n\t\t\tvar success = function(commentJSON) {\n\t\t\t\tself.currentSortKey = 'newest'\n\t\t\t\tself.showActiveSort()\n\t\t\t\tself.createComment(commentJSON);\n\t\t\t\tcommentingField.find('.close').trigger('click');\n\t\t\t};\n\n\t\t\tvar error = function() {\n\t\t\t\tsendButton.addClass('enabled');\n\t\t\t};\n\n\t\t\tthis.options.postComment(commentJSON, success, error);\n\t\t},\n\n\t\tcreateComment: function(commentJSON) {\n\t\t\tvar commentModel = this.createCommentModel(commentJSON);\n\t\t\tthis.addCommentToDataModel(commentModel);\n\t\t\tthis.addComment(commentModel);\n\t\t\tif (commentModel.opinion == true) {\n\t\t\t\tthis.addImportantCmt(commentModel);\n\t\t\t}\n\t\t},\n\n\t\tputComment: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar saveButton = $(ev.currentTarget);\n\t\t\tvar commentingField = saveButton.parents('.commenting-field').first();\n\t\t\tvar textarea = commentingField.find('.textarea');\n\n\t\t\t// Disable send button while request is pending\n\t\t\tsaveButton.removeClass('enabled');\n\n\t\t\t// Use a clone of the existing model and update the model after succesfull update\n\t\t\tvar commentJSON =  $.extend({}, this.commentsById[textarea.attr('data-comment')]);\n\t\t\t$.extend(commentJSON, {\n\t\t\t\tparent: textarea.attr('data-parent') || null,\n\t\t\t\tcontent: this.getTextareaContent(textarea),\n\t\t\t\tpings: this.getPings(textarea),\n\t\t\t\tmodified: new Date().getTime()\n\t\t\t});\n\n\t\t\t// Reverse mapping\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\t\t\t\n\t\t\tvar success = function(commentJSON) {\n\t\t\t\t// The outermost parent can not be changed by editing the comment so the childs array\n\t\t\t\t// of parent does not require an update\n\n\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\n\t\t\t\n\t\t\t\t// Delete childs array from new comment model since it doesn't need an update\n\t\t\t\tdelete commentModel['childs'];\n\t\t\t\tself.updateCommentModel(commentModel);\n\t\t\t\t// Close the editing field\n\t\t\t\tcommentingField.find('.close').trigger('click');\n\n\t\t\t\t// Re-render the comment\n\t\t\t\tself.reRenderComment(commentModel.id);\n\t\t\t};\n\n\t\t\tvar error = function() {\n\t\t\t\tsaveButton.addClass('enabled');\n\t\t\t};\n\n\t\t\tthis.options.putComment(commentJSON, success, error);\n\t\t},\n\n\t\tdeleteComment: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar deleteButton = $(ev.currentTarget);\n\t\t\tvar commentEl = deleteButton.parents('.comment').first();\n\t\t\tvar commentJSON =  $.extend({}, this.commentsById[commentEl.attr('data-id')]);\n\t\t\tvar commentId = commentJSON.id;\n\t\t\tvar parentId = commentJSON.parent;\n\n\t\t\t// Disable send button while request is pending\n\t\t\tdeleteButton.removeClass('enabled');\n\n\t\t\t// Reverse mapping\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\n\t\t\tvar success = function() {\n\t\t\t\tself.removeComment(commentId);\n\t\t\t\tif(parentId) self.reRenderCommentActionBar(parentId);\n\t\t\t\t// \n\t\t\t\tif (commentJSON.opinion==true) {\n\t\t\t\t\t$(`[data-sort-key=${self.currentSortKey}]`).trigger('click')\n\t\t\t\t}\n\t\t\t\t// \n\t\t\t};\n\n\t\t\tvar error = function() {\n\t\t\t\tdeleteButton.addClass('enabled');\n\t\t\t};\n\n\t\t\tthis.options.deleteComment(commentJSON, success, error);\n\t\t},\n\n\t\thashtagClicked: function(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tvar value = el.attr('data-value');\n\t\t\tthis.options.hashtagClicked(value);\n\t\t},\n\n\t\tpingClicked: function(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tvar value = el.attr('data-value');\n\t\t\tthis.options.pingClicked(value);\n\t\t},\n\n\t\tfileInputChanged: function(ev, files) {\n\t\t\tvar files = ev.currentTarget.files;\n\t\t\tvar commentingField = $(ev.currentTarget).parents('.commenting-field').first();\n\t\t\tthis.uploadAttachments(files, commentingField);\n\t\t},\n\n\t\tupvoteComment: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar commentEl = $(ev.currentTarget).parents('li.comment').first();\n\t\t\tvar commentModel = commentEl.data().model;\n\n\t\t\t// Check whether user upvoted the comment or revoked the upvote\n\t\t\tvar previousUpvoteCount = commentModel.upvoteCount;\n\t\t\tvar newUpvoteCount;\n\t\t\tif(commentModel.userHasUpvoted) {\n\t\t\t\tnewUpvoteCount = previousUpvoteCount - 1;\n\t\t\t} else {\n\t\t\t\tnewUpvoteCount = previousUpvoteCount + 1;\n\t\t\t}\n\n\t\t\t// Show changes immediatelly\n\t\t\tcommentModel.userHasUpvoted = !commentModel.userHasUpvoted;\n\t\t\tcommentModel.upvoteCount = newUpvoteCount;\n\t\t\tthis.reRenderUpvotes(commentModel.id);\n\n\t\t\t// Reverse mapping\n\t\t\tvar commentJSON = $.extend({}, commentModel);\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\n\t\t\tvar success = function(commentJSON) {\n\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\n\t\t\t\tself.updateCommentModel(commentModel);\n\t\t\t\tself.reRenderUpvotes(commentModel.id);\n\t\t\t};\n\n\t\t\tvar error = function() {\n\t\t\t\t// Revert changes\n\t\t\t\tcommentModel.userHasUpvoted = !commentModel.userHasUpvoted;\n\t\t\t\tcommentModel.upvoteCount = previousUpvoteCount;\n\t\t\t\tself.reRenderUpvotes(commentModel.id);\n\t\t\t};\n\n\t\t\tthis.options.upvoteComment(commentJSON, success, error);\n\t\t},\n\n\t\ttoggleReplies: function(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tel.siblings('.hidden-reply').toggleClass('visible');\n\t\t\tthis.setToggleAllButtonText(el, true);\n\t\t},\n\n\t\treplyButtonClicked: function(ev) {\n\t\t\tvar replyButton = $(ev.currentTarget);\n\t\t\tvar outermostParent = replyButton.parents('li.comment').last();\n\t\t\tvar parentId = replyButton.parents('.comment').first().data().id;\n\n\t\t\t// Remove existing field\n\t\t\tvar replyField = outermostParent.find('.child-comments > .commenting-field');\n\t\t\tif(replyField.length) replyField.remove();\n\t\t\tvar previousParentId = replyField.find('.textarea').attr('data-parent');\n\n\t\t\t// Create the reply field (do not re-create)\n\t\t\tif(previousParentId != parentId) {\n\t\t\t\treplyField = this.createCommentingFieldElement(parentId, null, false);\n\t\t\t\toutermostParent.find('.child-comments').append(replyField);\n\n\t\t\t\t// Move cursor to end\n\t\t\t\tvar textarea = replyField.find('.textarea');\n\t\t\t\tthis.moveCursorToEnd(textarea)\n\n\t\t\t\t// Make sure the reply field will be displayed\n\t\t\t\tvar scrollTop = this.options.scrollContainer.scrollTop();\n\t\t\t\tvar endOfReply = scrollTop + replyField.position().top + replyField.outerHeight();\n\t\t\t\tvar endOfScrollable = scrollTop + this.options.scrollContainer.outerHeight();\n\t\t\t\tif(endOfReply > endOfScrollable) {\n\t\t\t\t\tvar newScrollTop = scrollTop + (endOfReply - endOfScrollable);\n\t\t\t\t\tthis.options.scrollContainer.scrollTop(newScrollTop);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\teditButtonClicked: function(ev) {\n\t\t\tvar editButton = $(ev.currentTarget);\n\t\t\tvar commentEl = editButton.parents('li.comment').first();\n\t\t\tvar commentModel = commentEl.data().model;\n\t\t\t\n\t\t\tcommentModel = this.commentsById[commentModel.id];\n\t\t\tcommentEl.addClass('edit');\n\n\t\t\t// Create the editing field\n\t\t\tvar editField = this.createCommentingFieldElement(commentModel.parent, commentModel.id, false);\n\t\t\tcommentEl.find('.comment-wrapper').first().append(editField);\n\n\t\t\t// Append original content\n\t\t\tvar textarea = editField.find('.textarea');\n\t\t\ttextarea.attr('data-comment', commentModel.id);\n\n\t\t\t// Escaping HTML\n\t\t\ttextarea.append(this.getFormattedCommentContent(commentModel, true));\n\n\t\t\t// Move cursor to end\n\t\t\tthis.moveCursorToEnd(textarea);\n\t\t},\n\n\t\tshowDroppableOverlay: function(ev) {\n\t\t\tif(this.options.enableAttachments) {\n\t\t\t\tthis.$el.find('.droppable-overlay').css('top', this.$el[0].scrollTop);\n\t\t\t\tthis.$el.find('.droppable-overlay').show();\n\t\t\t\tthis.$el.addClass('drag-ongoing');\n\t\t\t}\n\t\t},\n\n\t\thandleDragEnter: function(ev) {\n\t\t\tvar count = $(ev.currentTarget).data('dnd-count') || 0;\n\t\t\tcount++;\n\t\t\t$(ev.currentTarget).data('dnd-count', count);\n\t\t\t$(ev.currentTarget).addClass('drag-over');\n\t\t},\n\n\t\thandleDragLeave: function(ev, callback) {\n\t\t\tvar count = $(ev.currentTarget).data('dnd-count');\n\t\t\tcount--;\n\t\t\t$(ev.currentTarget).data('dnd-count', count);\n\n\t\t\tif(count == 0) {            \n\t\t\t\t$(ev.currentTarget).removeClass('drag-over');\n\t\t\t\tif(callback) callback();\n\t\t\t}\n\t\t},\n\n\t\thandleDragLeaveForOverlay: function(ev) {\n\t\t\tvar self = this;\n\t\t\tthis.handleDragLeave(ev, function() {\n\t\t\t\tself.hideDroppableOverlay();\n\t\t\t});\n\t\t},\n\n\t\thandleDragLeaveForDroppable: function(ev) {\n\t\t\tthis.handleDragLeave(ev);\n\t\t},\n\n\t\thandleDragOverForOverlay: function(ev) {\n\t\t\tev.stopPropagation();\n\t\t\tev.preventDefault();\n\t\t\tev.originalEvent.dataTransfer.dropEffect = 'copy';\n\t\t},\n\n\t\thideDroppableOverlay: function() {\n\t\t\tthis.$el.find('.droppable-overlay').hide();\n\t\t\tthis.$el.removeClass('drag-ongoing');\n\t\t},\n\n\t\thandleDrop: function(ev) {\n\t\t\tev.preventDefault();\n\n\t\t\t// Reset DND counts\n\t\t\t$(ev.target).trigger('dragleave');\n\n\t\t\t// Hide the overlay and upload the files\n\t\t\tthis.hideDroppableOverlay();\n\t\t\tthis.uploadAttachments(ev.originalEvent.dataTransfer.files);\n\t\t},\n\n\t\tstopPropagation: function(ev) {\n\t\t\tev.stopPropagation();\n\t\t},\n\n\n\t\t// HTML elements\n\n\t\tcreateHTML: function() {\n\t\t\tvar self = this;\n\t\t\t// Commenting field\n\t\t\tvar mainCommentingField = this.createCommentingFieldElement(null, null, true);\n\t\t\tmainCommentingField.addClass('main');\n\t\t\tthis.$el.append(mainCommentingField);\n\n\t\t\t// Hide control row and close button\n\t\t\tvar mainControlRow = mainCommentingField.find('.control-row');\n\t\t\tmainControlRow.hide();\n\t\t\tmainCommentingField.find('.close').hide();\n\n\t\t\t// Navigation bar\n\t\t\tif (this.options.enableNavigation) {\n\t\t\t\tthis.$el.append(this.createNavigationElement());\n\t\t\t\tthis.showActiveSort();\n\t\t\t}\n\n\t\t\t// Loading spinner\n\t\t\tvar spinner = this.createSpinner();\n\t\t\tthis.$el.append(spinner);\n\n\t\t\t// Comments container\n\t\t\tvar commentsContainer = $('<div/>', {\n\t\t\t\t'class': 'data-container overflowComment',\n\t\t\t\t'data-container': 'comments'\n\t\t\t});\n\t\t\tthis.$el.append(commentsContainer);\n\t\t\t\t\n\t\t\t// \"No comments\" placeholder\n\t\t\tvar noComments = $('<div/>', {\n\t\t\t\t'class': 'no-comments no-data',\n\t\t\t\ttext: this.options.textFormatter(this.options.noCommentsText)\n\t\t\t});\n\t\t\tvar noCommentsIcon = $('<i/>', {\n\t\t\t\t'class': 'fa fa-comments fa-2x'\n\t\t\t});\n\t\t\tif(this.options.noCommentsIconURL.length) {\n\t\t\t\tnoCommentsIcon.css('background-image', 'url(\"'+this.options.noCommentsIconURL+'\")');\n\t\t\t\tnoCommentsIcon.addClass('image');\n\t\t\t}\n\t\t\tnoComments.prepend($('<br/>')).prepend(noCommentsIcon);            \n\t\t\tcommentsContainer.append(noComments);\n\n\t\t\t// important Comment Container\n\t\t\tvar importantCmtContainer = $('<div/>', {\n\t\t\t\t'class': 'data-container overflowComment',\n\t\t\t\t'data-container': 'importantCmt'\n\t\t\t});\n\t\t\tthis.$el.append(importantCmtContainer);\n\t\t\t\t// \"No comments Important\" placeholder\n\t\t\tvar noCommentsImpt = $('<div/>', {\n\t\t\t\t'class': 'no-comments no-data',\n\t\t\t\ttext: this.options.textFormatter(this.options.noCommentsImportantText)\n\t\t\t});\n\t\t\tvar noCommentsImptIcon = $('<i/>', {\n\t\t\t\t'class': 'fa fa-comments fa-2x'\n\t\t\t});\n\t\t\tif(this.options.noCommentsImptIconURL.length) {\n\t\t\t\tnoCommentsImptIcon.css('background-image', 'url(\"'+this.options.noCommentsImptIconURL+'\")');\n\t\t\t\tnoCommentsImptIcon.addClass('image');\n\t\t\t}\n\t\t\tnoCommentsImpt.prepend($('<br/>')).prepend(noCommentsImptIcon);            \n\t\t\timportantCmtContainer.append(noCommentsImpt);\n\n\t\t\t// Attachments\n\t\t\tif(this.options.enableAttachments) {\n\t\t\t\t// Attachments container\n\t\t\t\tvar attachmentsContainer = $('<div/>', {\n\t\t\t\t\t'class': 'data-container overflowComment',\n\t\t\t\t\t'data-container': 'attachments'\n\t\t\t\t});\n\t\t\t\tthis.$el.append(attachmentsContainer);\n\t\t\t\t\n\t\t\t\t// \"No attachments\" placeholder\n\t\t\t\tvar noAttachments = $('<div/>', {\n\t\t\t\t\t'class': 'no-attachments no-data',\n\t\t\t\t\ttext: this.options.textFormatter(this.options.noAttachmentsText)\n\t\t\t\t});\n\t\t\t\tvar noAttachmentsIcon = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-paperclip fa-2x'\n\t\t\t\t});\n\t\t\t\tif(this.options.attachmentIconURL.length) {\n\t\t\t\t\tnoAttachmentsIcon.css('background-image', 'url(\"'+this.options.attachmentIconURL+'\")');\n\t\t\t\t\tnoAttachmentsIcon.addClass('image');\n\t\t\t\t}\n\t\t\t\tnoAttachments.prepend($('<br/>')).prepend(noAttachmentsIcon);\n\t\t\t\tattachmentsContainer.append(noAttachments);\n\n\n\t\t\t\t// Drag & dropping attachments\n\t\t\t\tvar droppableOverlay = $('<div/>', {\n\t\t\t\t\t'class': 'droppable-overlay'\n\t\t\t\t});\n\n\t\t\t\tvar droppableContainer = $('<div/>', {\n\t\t\t\t\t'class': 'droppable-container'\n\t\t\t\t});\n\n\t\t\t\tvar droppable = $('<div/>', {\n\t\t\t\t\t'class': 'droppable'\n\t\t\t\t});\n\n\t\t\t\tvar uploadIcon = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-upload fa-4x'\n\t\t\t\t});\n\t\t\t\tif(this.options.uploadIconURL.length) {\n\t\t\t\t\tuploadIcon.css('background-image', 'url(\"'+this.options.uploadIconURL+'\")');\n\t\t\t\t\tuploadIcon.addClass('image');\n\t\t\t\t}\n\n\t\t\t\tvar dropAttachmentText = $('<div/>', {\n\t\t\t\t\ttext: this.options.textFormatter(this.options.attachmentDropText)\n\t\t\t\t});\n\t\t\t\tdroppable.append(uploadIcon);\n\t\t\t\tdroppable.append(dropAttachmentText);\n\n\t\t\t\tdroppableOverlay.html(droppableContainer.html(droppable)).hide();\n\t\t\t\tthis.$el.append(droppableOverlay);\n\t\t\t}\n\t\t},\n\n\t\tcreateProfilePictureElement: function(src) {\n\t\t\tif(src) {\n\t\t\t\tvar profilePicture = $('<img/>', {\n\t\t\t\t\tsrc: src\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar profilePicture = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-user'\n\t\t\t\t});\n\t\t\t}\n\t\t\tprofilePicture.addClass('profile-picture');\n\t\t\tif(this.options.roundProfilePictures) profilePicture.addClass('round');\n\t\t\treturn profilePicture;\n\t\t},\n\n\t\tcreateCommentingFieldElement: function(parentId, existingCommentId, enableOpinion) {\n\t\t\tvar self = this;\n\t\t\t// Commenting field\n\t\t\tvar commentingField = $('<div/>', {\n\t\t\t\t'class': 'commenting-field'\n\t\t\t});\n\n\t\t\t// Profile picture\n\t\t\tif(existingCommentId) {\n\t\t\t\tvar profilePictureURL = this.commentsById[existingCommentId].profilePictureURL;\n\t\t\t} else {\n\t\t\t\tvar profilePictureURL = this.options.profilePictureURL;\n\t\t\t}\n\t\t\tvar profilePicture = this.createProfilePictureElement(profilePictureURL);\n\n\t\t\t// New comment\n\t\t\tvar textareaWrapper = $('<div/>', {\n\t\t\t\t'class': 'textarea-wrapper'\n\t\t\t});\n\n\t\t\t// Control row\n\t\t\tvar controlRow = $('<div/>', {\n\t\t\t\t'class': 'control-row'\n\t\t\t});\n\n\t\t\t// Textarea\n\t\t\tvar textarea = $('<div/>', {\n\t\t\t\t'class': 'textarea',\n\t\t\t\t'data-placeholder': this.options.textFormatter(this.options.textareaPlaceholderText),\n\t\t\t\tcontenteditable: true\n\t\t\t});\n\n\t\t\t// Setting the initial height for the textarea\n\t\t\tthis.adjustTextareaHeight(textarea, false);\n\n\t\t\t// Close button\n\t\t\tvar closeButton = $('<span/>', {\n\t\t\t\t'class': 'close'\n\t\t\t}).append($('<span class=\"left\"/>')).append($('<span class=\"right\"/>'));\n\n\t\t\t// Save button text\n\t\t\tif(existingCommentId) {\n\t\t\t\tvar saveButtonText = this.options.textFormatter(this.options.saveText);\n\t\t\t\tvar opinionCmtId = existingCommentId\n\t\t\t\t// Delete button Edit Comment\n\t\t\t\t// var deleteButton = $('<span/>', {\n\t\t\t\t// \t\t'class': 'delete',\n\t\t\t\t// \t\ttext: this.options.textFormatter(this.options.deleteText)\n\t\t\t\t// }).css('background-color', this.options.deleteButtonColor);\n\t\t\t\t// controlRow.append(deleteButton);\n\n\t\t\t\t// // Enable the delete button only if the user is allowed to delete\n\t\t\t\t// if(this.isAllowedToDelete(existingCommentId)) deleteButton.addClass('enabled')\n\n\t\t\t} else {\n\t\t\t\tvar saveButtonText = this.options.textFormatter(this.options.sendText);\n\t\t\t\tvar opinionCmtId =''\n\t\t\t\t// Add upload button if attachments are enabled\n\t\t\t\tif(this.options.enableAttachments) {\n\t\t\t\t\tvar uploadButton = $('<span/>', {\n\t\t\t\t\t\t'class': 'enabled upload'\n\t\t\t\t\t});\n\t\t\t\t\tvar uploadIcon = $('<i/>', {\n\t\t\t\t\t\t'class': 'md-icon',\n\t\t\t\t\t\ttext: 'Tải lên'\n\t\t\t\t\t});\n\t\t\t\t\tvar fileInput = $('<input/>', {\n\t\t\t\t\t\ttype: 'file',\n\t\t\t\t\t\t'data-role': 'none' // Prevent jquery-mobile for adding classes\n\t\t\t\t\t});\n\t\t\t\t\t// Multi file upload might not work with backend as the the file names\n\t\t\t\t\t// may be the same causing duplicates\n\t\t\t\t\tif(!$.browser.mobile) fileInput.attr('multiple', 'multiple');\n\n\t\t\t\t\tif(this.options.uploadIconURL.length) {\n\t\t\t\t\t\tuploadIcon.css('background-image', 'url(\"'+this.options.uploadIconURL+'\")');\n\t\t\t\t\t\tuploadIcon.addClass('image');\n\t\t\t\t\t}\n\t\t\t\t\tuploadButton.append(uploadIcon).append(fileInput);\n\t\t\t\t\tcontrolRow.append(uploadButton);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Save button\n\t\t\tvar saveButtonClass = existingCommentId ? 'update' : 'send';\n\t\t\tvar saveButton = $('<span/>', {\n\t\t\t\t'class': saveButtonClass + ' save highlight-background',\n\t\t\t\ttext: saveButtonText\n\t\t\t});\n\t\t\t// Check opinion\n\n\t\t\tif (enableOpinion) {\n\t\t\t\tvar checkOpinion = $('<input/>', {\n\t\t\t\t\t'class': 'opinion checkOpinion mt-1 mr-1',\n\t\t\t\t\t'id': 'opinion' + opinionCmtId,\n\t\t\t\t\t'name': 'opinion' + opinionCmtId,\n\t\t\t\t\t'type': 'checkbox'\n\t\t\t\t});\n\t\t\t\tvar labelCheckOpinion = $('<label/>', {\n\t\t\t\t\t'class': 'opinion label-opinion',\n\t\t\t\t\t'for': 'opinion'+opinionCmtId,\n\t\t\t\t\ttext: 'Ý kiến chính thức'\n\t\t\t\t});\n\t\t\t\tcontrolRow.append(checkOpinion).append(labelCheckOpinion);\n\t\t\t}\n\t\t\t\n\t\t\t// Populate the element\n\t\t\tcontrolRow.prepend(saveButton);\n\t\t\ttextareaWrapper.append(closeButton).append(textarea).append(controlRow);\n\t\t\tcommentingField.append(profilePicture).append(textareaWrapper);\n\n\n\t\t\tif(parentId) {\n\n\t\t\t\t\t// Set the parent id to the field if necessary\n\t\t\t\ttextarea.attr('data-parent', parentId);\n\n\t\t\t\t// Append reply-to tag if necessary\n\t\t\t\tvar parentModel = this.commentsById[parentId];\n\t\t\t\tif(parentModel.parent) {\n\t\t\t\t\ttextarea.html('&nbsp;');    // Needed to set the cursor to correct place\n\n\t\t\t\t\t// Creating the reply-to tag\n\t\t\t\t\tvar replyToName = '@' + parentModel.fullname;\n\t\t\t\t\tvar replyToTag = this.createTagElement(replyToName, 'reply-to', parentModel.creator);\n\t\t\t\t\ttextarea.prepend(replyToTag);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Pinging users\n\t\t\tif(this.options.enablePinging) {\n\t\t\t\t\ttextarea.textcomplete([{\n\t\t\t\t\t\t\t/**match: /(^|\\s)@(([a-zäöüß]|\\s)*)$/im,*/\n\t\t\t\t\t\tmatch: /(^|\\s)@(([0-9]|[^\\u0000-\\u007F]|[a-zäöüß]|\\s)*)$/im,\n\t\t\t\t\t\t\tsearch: function (term, callback) {\n\t\t\t\t\t\t\t\t// console.log(term);\n\t\t\t\t\t\t\t\t\tterm = self.normalizeSpaces(term);\n\n\t\t\t\t\t\t\t\t\t// Users excluding self and already pinged users\n\t\t\t\t\t\t\t\t\tvar pings = self.getPings(textarea);\n\t\t\t\t\t\t\t\t\tvar users = self.getUsers().filter(function(user) {\n\t\t\t\t\t\t\t\t\t\t\tvar isSelf = user.id == self.options.currentUserId;\n\t\t\t\t\t\t\t\t\t\t\tvar alreadyPinged = pings.indexOf(user.id) != -1;\n\t\t\t\t\t\t\t\t\t\t\treturn !isSelf && !alreadyPinged;\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t// Sort users\n\t\t\t\t\t\t\t\t\tself.sortUsers(users);\n\n\t\t\t\t\t\t\t\t\tcallback($.map(users, function (user) {\n\t\t\t\t\t\t\t\t\t\t\tvar lowercaseTerm = term.toLowerCase();\n\t\t\t\t\t\t\t\t\t\t\tvar nameMatch = user.fullname.toLowerCase().indexOf(lowercaseTerm) != -1;\n\t\t\t\t\t\t\t\t\t\t\tvar emailMatch = user.email.toLowerCase().indexOf(lowercaseTerm) != -1;\n\t\t\t\t\t\t\t\t\t\t\treturn nameMatch || emailMatch ? user : null;\n\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttemplate: function(user) {\n\t\t\t\t\t\t\t\t\tvar wrapper = $('<div/>');\n\n\t\t\t\t\t\t\t\t\tvar profilePictureEl = $('<img/>', {\n\t\t\t\t\t\t\t\t\t\t\tsrc: user.pictureUrl,\n\t\t\t\t\t\t\t\t\t\t\t'class': 'profile-picture round'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tvar detailsEl = $('<div/>', {\n\t\t\t\t\t\t\t\t\t\t\t'class': 'details',\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tvar nameEl = $('<div/>', {\n\t\t\t\t\t\t\t\t\t\t\t'class': 'name',\n\t\t\t\t\t\t\t\t\t}).html(user.fullname);\n\n\t\t\t\t\t\t\t\t\tvar emailEl = $('<div/>', {\n\t\t\t\t\t\t\t\t\t\t\t'class': 'email',\n\t\t\t\t\t\t\t\t\t}).html(user.email);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (user.email) {\n\t\t\t\t\t\t\t\t\t\t\tdetailsEl.append(nameEl).append(emailEl);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tdetailsEl.addClass('no-email')\n\t\t\t\t\t\t\t\t\t\t\tdetailsEl.append(nameEl)\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\twrapper.append(profilePictureEl).append(detailsEl);\n\t\t\t\t\t\t\t\t\treturn wrapper.html();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\treplace: function (user) {\n\t\t\t\t\t\t\t\t\tvar tag = self.createTagElement('@' + user.fullname, 'ping', user.id);\n\t\t\t\t\t\t\t\t\treturn ' ' + tag[0].outerHTML + ' ';\n\t\t\t\t\t\t\t},\n\t\t\t\t\t}], {\n\t\t\t\t\t\t\tappendTo: '.jquery-comments',\n\t\t\t\t\t\t\tdropdownClassName: 'dropdown autocomplete',\n\t\t\t\t\t\t\tmaxCount: 5,\n\t\t\t\t\t\t\trightEdgeOffset: 0,\n\t\t\t\t\t});\n\n\n\t\t\t\t\t// OVERIDE TEXTCOMPLETE DROPDOWN POSITIONING\n\n\t\t\t\t\t$.fn.textcomplete.Dropdown.prototype.render = function(zippedData) {\n\t\t\t\t\t\tvar contentsHtml = this._buildContents(zippedData);\n\t\t\t\t\t\tvar unzippedData = $.map(zippedData, function (d) { return d.value; });\n\t\t\t\t\t\tif (zippedData.length) {\n\t\t\t\t\t\t\tvar strategy = zippedData[0].strategy;\n\t\t\t\t\t\t\tif (strategy.id) {\n\t\t\t\t\t\t\t\tthis.$el.attr('data-strategy', strategy.id);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.$el.removeAttr('data-strategy');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._renderHeader(unzippedData);\n\t\t\t\t\t\t\tthis._renderFooter(unzippedData);\n\t\t\t\t\t\t\tif (contentsHtml) {\n\t\t\t\t\t\t\t\tthis._renderContents(contentsHtml);\n\t\t\t\t\t\t\t\tthis._fitToBottom();\n\t\t\t\t\t\t\t\tthis._fitToRight();\n\t\t\t\t\t\t\t\tthis._activateIndexedItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._setScroll();\n\t\t\t\t\t\t} else if (this.noResultsMessage) {\n\t\t\t\t\t\t\tthis._renderNoResultsMessage(unzippedData);\n\t\t\t\t\t\t} else if (this.shown) {\n\t\t\t\t\t\t\tthis.deactivate();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// CUSTOM CODE\n\t\t\t\t\t\t// ===========\n\n\t\t\t\t\t\t// Adjust vertical position\n\t\t\t\t\t\tvar top = parseInt(this.$el.css('top')) + self.options.scrollContainer.scrollTop();\n\t\t\t\t\t\tthis.$el.css('top', top);\n\n\t\t\t\t\t\t// Adjust horizontal position\n\t\t\t\t\t\tvar originalLeft = this.$el.css('left');\n\t\t\t\t\t\tthis.$el.css('left', 0);    // Left must be set to 0 in order to get the real width of the el\n\t\t\t\t\t\tvar maxLeft = self.$el.width() - this.$el.outerWidth();\n\t\t\t\t\t\tvar left = Math.min(maxLeft, parseInt(originalLeft));\n\t\t\t\t\t\tthis.$el.css('left', left);\n\n\t\t\t\t\t\t// ===========\n\t\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn commentingField;\n\t},\n\n\tcreateNavigationElement: function() {\n\t\tvar navigationEl = $('<ul/>', {\n\t\t\t'class': 'navigation'\n\t\t});\n\t\tvar navigationWrapper = $('<div/>', {\n\t\t\t'class': 'navigation-wrapper'\n\t\t});\n\t\tnavigationEl.append(navigationWrapper);\n\n\t\t// Newest\n\t\tvar newest = $('<li/>', {\n\t\t\ttext: this.options.textFormatter(this.options.newestText),\n\t\t\t'data-sort-key': 'newest',\n\t\t\t'data-container-name': 'comments'\n\t\t});\n\n\t\t// Oldest\n\t\tvar oldest = $('<li/>', {\n\t\t\ttext: this.options.textFormatter(this.options.oldestText),\n\t\t\t'data-sort-key': 'oldest',\n\t\t\t'data-container-name': 'comments'\n\t\t});\n\t\t// Important\n\t\tvar important = $('<li/>', {\n\t\t\ttext: this.options.textFormatter(this.options.importantCmtText),\n\t\t\t'data-sort-key': 'important',\n\t\t\t'data-container-name': 'importantCmt'\n\t\t});\n\t\t// Popular\n\t\tvar popular = $('<li/>', {\n\t\t\ttext: this.options.textFormatter(this.options.popularText),\n\t\t\t'data-sort-key': 'popularity',\n\t\t\t'data-container-name': 'comments'\n\t\t});\n\n\t\t// Attachments\n\t\tvar attachments = $('<li/>', {\n\t\t\ttext: this.options.textFormatter(this.options.attachmentsText),\n\t\t\t'data-sort-key': 'attachments',\n\t\t\t'data-container-name': 'attachments'\n\t\t});\n\n\t\t// Attachments icon\n\t\tvar attachmentsIcon = $('<i/>', {\n\t\t\t'class': 'fa fa-paperclip'\n\t\t});\n\t\tif(this.options.attachmentIconURL.length) {\n\t\t\tattachmentsIcon.css('background-image', 'url(\"'+this.options.attachmentIconURL+'\")');\n\t\t\tattachmentsIcon.addClass('image');\n\t\t}\n\t\tattachments.prepend(attachmentsIcon);\n\n\t\t// Responsive navigation\n\t\tvar dropdownNavigationWrapper = $('<div/>', {\n\t\t\t'class': 'navigation-wrapper responsive'\n\t\t});\n\t\tvar dropdownNavigation = $('<ul/>', {\n\t\t\t'class': 'dropdown'\n\t\t});\n\t\tvar dropdownTitle = $('<li/>', {\n\t\t\t'class': 'title'\n\t\t});\n\t\tvar dropdownTitleHeader = $('<header/>');\n\n\t\tdropdownTitle.append(dropdownTitleHeader);\n\t\tdropdownNavigationWrapper.append(dropdownTitle);\n\t\tdropdownNavigationWrapper.append(dropdownNavigation);\n\t\tnavigationEl.append(dropdownNavigationWrapper);\n\n\t\t// Populate elements\n\t\tnavigationWrapper.append(newest).append(oldest).append(important);\n\t\tdropdownNavigation.append(newest.clone()).append(oldest.clone()).append(important.clone());\n\n\t\tif(this.options.enableReplying || this.options.enableUpvoting) {\n\t\t\tnavigationWrapper.append(popular);\n\t\t\tdropdownNavigation.append(popular.clone());\n\t\t}\n\t\tif(this.options.enableAttachments) {\n\t\t\tnavigationWrapper.append(attachments);\n\t\t\tdropdownNavigationWrapper.append(attachments.clone());\n\t\t}\n\n\t\tif(this.options.forceResponsive) this.forceResponsive();\n\t\treturn navigationEl;\n\t},\n\n\tcreateSpinner: function() {\n\t\tvar spinner = $('<div/>', {\n\t\t\t'class': 'spinner'\n\t\t});\n\t\tvar spinnerIcon = $('<i/>', {\n\t\t\t'class': 'fa fa-spinner fa-spin'\n\t\t});\n\t\tif(this.options.spinnerIconURL.length) {\n\t\t\tspinnerIcon.css('background-image', 'url(\"'+this.options.spinnerIconURL+'\")');\n\t\t\tspinnerIcon.addClass('image');\n\t\t}\n\t\tspinner.html(spinnerIcon);\n\t\treturn spinner;\n\t},\n\n\tcreateCommentElement: function(commentModel) {\n\n\t\t// Comment container element\n\t\tvar commentEl = $('<li/>', {\n\t\t\t'data-id': commentModel.id,\n\t\t\t'class': 'comment'\n\t\t}).data('model', commentModel);\n\n\t\tif(commentModel.createdByCurrentUser) commentEl.addClass('by-current-user');\n\t\tif(commentModel.createdByAdmin) commentEl.addClass('by-admin');\n\n\t\t// Child comments\n\t\tvar childComments = $('<ul/>', {\n\t\t\t'class': 'child-comments'\n\t\t});\n\n\t\t// Comment wrapper\n\t\tvar commentWrapper = this.createCommentWrapperElement(commentModel);\n\n\t\tcommentEl.append(commentWrapper);\n\t\tif(commentModel.parent == null) commentEl.append(childComments);\n\t\treturn commentEl;\n\t},\n\n\tcreateCommentWrapperElement: function(commentModel) {\n\t\tvar commentWrapper = $('<div/>', {\n\t\t\t'class': 'comment-wrapper'\n\t\t});\n\n\t\t// Profile picture\n\t\tvar profilePicture = this.createProfilePictureElement(commentModel.profilePictureURL);\n\n\t\t// Time\n\t\tvar time = $('<time/>', {\n\t\t\ttext: this.options.timeFormatter(commentModel.created),\n\t\t\t'data-original': commentModel.created\n\t\t});\n\n\t\t// Name\n\t\tvar nameText = commentModel.createdByCurrentUser ? this.options.textFormatter(this.options.youText) : commentModel.fullname;\n\t\tvar name = $('<div/>', {\n\t\t\t'class': 'name'\n\t\t});\n\t\tif(commentModel.profileURL) {\n\t\t\tvar link = $('<a/>', {\n\t\t\t\thref: commentModel.profileURL,\n\t\t\t\ttext: nameText\n\t\t\t});\n\t\t\tname.html(link);\n\t\t} else {\n\t\t\tname.text(nameText);\n\t\t}\n\n\t\t// Highlight name for own comments and admin\n\t\tif(commentModel.createdByCurrentUser || commentModel.createdByAdmin) name.addClass('highlight-font-bold');\n\n\t\t// Show reply-to name if parent of parent exists\n\t\tif(commentModel.parent) {\n\t\t\tvar parent = this.commentsById[commentModel.parent];\n\t\t\tif(parent.parent) {\n\t\t\t\tvar replyTo = $('<span/>', {\n\t\t\t\t\t'class': 'reply-to',\n\t\t\t\t\ttext: parent.fullname\n\t\t\t\t});\n\n\t\t\t\t// reply icon\n\t\t\t\tvar replyIcon = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-share'\n\t\t\t\t});\n\t\t\t\tif(this.options.replyIconURL.length) {\n\t\t\t\t\treplyIcon.css('background-image', 'url(\"'+this.options.replyIconURL+'\")');\n\t\t\t\t\treplyIcon.addClass('image');\n\t\t\t\t}\n\n\t\t\t\treplyTo.prepend(replyIcon);\n\t\t\t\tname.append(replyTo);\n\t\t\t}\n\t\t}\n\n\t\t// New tag\n\t\tif(commentModel.isNew) {\n\t\t\tvar newTag = $('<span/>', {\n\t\t\t\t'class': 'new highlight-background',\n\t\t\t\ttext: this.options.newText\n\t\t\t});\n\t\t\tname.append(newTag);\n\t\t}\n\n\t\t// Wrapper\n\t\tvar wrapper = $('<div/>', {\n\t\t\t'class': 'wrapper'\n\t\t});\n\t\t// Note Ý kiến chính thức\n\t\tvar noteOpinion = $('<div/>', {\n\t\t\t'class': 'note-opinion',\n\t\t\ttext: '(Ý kiến chính thức)'\n\t\t});\n\t\t// Content\n\t\tvar content = $('<div/>', {\n\t\t\t'class': 'content'\n\t\t});\n\n\t\t// Case: attachment\n\t\tvar isAttachment = commentModel.fileURL != undefined;\n\t\tif(isAttachment) {\n\t\t\tvar format = null;\n\t\t\tvar type = null;\n\n\t\t\t// Type and format\n\t\t\tif(commentModel.fileMimeType) {\n\t\t\t\tvar mimeTypeParts = commentModel.fileMimeType.split('/');\n\t\t\t\tif(mimeTypeParts.length == 2) {\n\t\t\t\t\tformat = mimeTypeParts[1];\n\t\t\t\t\ttype = mimeTypeParts[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Attachment link\n\t\t\tvar link = $('<a/>', {\n\t\t\t\t'class': 'attachment',\n\t\t\t\thref: commentModel.fileURL,\n\t\t\t\ttarget: '_blank'\n\t\t\t});\n\t\t\t\n\t\t\t// var link = $('<a/>', {\n\t\t\t// \t\t'class': 'attachment',\n\t\t\t// \t\thref: 'javascript:viewCommentFileAttach(\"' + commentModel.fileURL + '\",\"' + commentModel.fileMimeType + '\");'\n\t\t\t// });\n\t\t\t\n\t\t\t// Case: image preview\n\t\t\tif(type == 'image') {\n\t\t\t\tvar image = $('<img/>', {\n\t\t\t\t\tsrc: commentModel.fileURL\n\t\t\t\t});\n\t\t\t\tlink.html(image);\n\t\t\t// Case: video preview\n\t\t\t} else if(type == 'video') {\n\t\t\t\tvar video = $('<video/>', {\n\t\t\t\t\tsrc: commentModel.fileURL,\n\t\t\t\t\ttype: commentModel.fileMimeType,\n\t\t\t\t\tcontrols: 'controls'\n\t\t\t\t});\n\t\t\t\tlink.html(video);\n\n\t\t\t// Case: icon and text\n\t\t\t} else {\n\n\t\t\t\t// Icon\n\t\t\t\tvar availableIcons = ['archive', 'audio', 'code', 'excel', 'image', 'movie', 'pdf', 'photo',\n\t\t\t\t\t'picture', 'powerpoint', 'sound', 'video', 'word', 'zip'];\n\t\t\t\t\n\t\t\t\tvar iconClass = 'fa fa-file-o';\n\t\t\t\tif(availableIcons.indexOf(format) > 0) {\n\t\t\t\t\ticonClass = 'fa fa-file-' + format + '-o';\n\t\t\t\t} else if(availableIcons.indexOf(type) > 0) {\n\t\t\t\t\ticonClass = 'fa fa-file-' + type + '-o';\n\t\t\t\t}\n\n\t\t\t\tvar fileIcon = $('<i/>', {\n\t\t\t\t\t'class': iconClass\n\t\t\t\t});\n\t\t\t\tif(this.options.fileIconURL.length) {\n\t\t\t\t\tfileIcon.css('background-image', 'url(\"'+this.options.fileIconURL+'\")');\n\t\t\t\t\tfileIcon.addClass('image');\n\t\t\t\t}\n\t\t\t\t// File name\n\t\t\t\t/**\n\t\t\t\tvar parts = commentModel.fileURL.split('/');\n\t\t\t\tvar fileName = parts[parts.length - 1];\n\t\t\t\tfileName = fileName.split('?')[0];\n\t\t\t\tfileName = decodeURIComponent(fileName);\n\t\t\t\t*/\n\t\t\t\tvar fileName = commentModel.fileName;\n\t\t\t\tlink.text(fileName);\n\t\t\t\tlink.prepend(fileIcon);\n\t\t\t}\n\t\t\tcontent.html(link);\n\t\t// Case: regular comment\n\t\t} else {\n\t\t\tcontent.html(this.getFormattedCommentContent(commentModel));\n\t\t}\n\n\t\t// Edited timestamp\n\t\tif(commentModel.modified && commentModel.modified != commentModel.created) {\n\t\t\tvar editedTime = this.options.timeFormatter(commentModel.modified);\n\t\t\tvar edited = $('<time/>', {\n\t\t\t\t'class': 'edited',\n\t\t\t\ttext: this.options.textFormatter(this.options.editedText) + ' ' + editedTime,\n\t\t\t\t'data-original': commentModel.modified\n\t\t\t});\n\t\t\tcontent.append(edited);\n\t\t}\n\n\t\t// Actions\n\t\tvar actions = $('<span/>', {\n\t\t\t'class': 'actions'\n\t\t});\n\n\t\t// Reply\n\t\tvar reply = $('<button/>', {\n\t\t\t'class': 'action reply',\n\t\t\t'type': 'button',\n\t\t\ttext: this.options.textFormatter(this.options.replyText)\n\t\t});\n\n\t\t// Upvote icon\n\t\tvar upvoteIcon = $('<i/>', {\n\t\t\t'class': 'fa fa-thumbs-up'\n\t\t});\n\t\tif(this.options.upvoteIconURL.length) {\n\t\t\tupvoteIcon.css('background-image', 'url(\"'+this.options.upvoteIconURL+'\")');\n\t\t\tupvoteIcon.addClass('image');\n\t\t}\n\n\t\t// Upvotes\n\t\tvar upvotes = this.createUpvoteElement(commentModel);\n\n\t\t// Append buttons for actions that are enabled\n\t\tif(this.options.enableReplying) actions.append(reply);\n\t\tif(this.options.enableUpvoting) actions.append(upvotes);\n\n\t\tif(commentModel.createdByCurrentUser || this.options.currentUserIsAdmin) {\n\t\t\t// Case: delete button for attachment and currentUser\n\t\t\tif(isAttachment && this.isAllowedToDelete(commentModel.id)) {\n\t\t\t\tvar deleteButton = $('<button/>', {\n\t\t\t\t\t'class': 'action delete enabled',\n\t\t\t\t\ttext: this.options.textFormatter(this.options.deleteText)\n\t\t\t\t});\n\t\t\t\tactions.append(deleteButton);\n\n\t\t\t// Case: edit button for regular comment\n\t\t\t} else if(!isAttachment && this.options.enableEditing) {\n\t\t\t\tvar editButton = $('<button/>', {\n\t\t\t\t\t'class': 'action edit',\n\t\t\t\t\ttext: this.options.textFormatter(this.options.editText)\n\t\t\t\t});\n\t\t\t\tactions.append(editButton);\n\t\t\t\tvar deleteButton = $('<button/>', {\n\t\t\t\t\t'class': 'action delete enabled',\n\t\t\t\t\ttext: this.options.textFormatter(this.options.deleteText)\n\t\t\t\t});\n\t\t\t\tactions.append(deleteButton);\n\t\t\t}\n\t\t}\n\n\t\twrapper.append(content);\n\t\tif(commentModel.opinion == true) {\n\t\t\twrapper.append(noteOpinion);\n\t\t}\n\t\twrapper.append(actions);\n\t\tcommentWrapper.append(profilePicture).append(time).append(name).append(wrapper);\n\t\treturn commentWrapper;\n\t},\n\n\tcreateUpvoteElement: function(commentModel) {\n\t\t// Upvote icon\n\t\tvar upvoteIcon = $('<i/>', {\n\t\t\t'class': 'fa fa-thumbs-up'\n\t\t});\n\t\tif(this.options.upvoteIconURL.length) {\n\t\t\tupvoteIcon.css('background-image', 'url(\"'+this.options.upvoteIconURL+'\")');\n\t\t\tupvoteIcon.addClass('image');\n\t\t}\n\n\t\t// Upvotes\n\t\tvar upvoteEl = $('<button/>', {\n\t\t\t'class': 'action upvote' + (commentModel.userHasUpvoted ? ' highlight-font' : '')\n\t\t}).append($('<span/>', {\n\t\t\ttext: commentModel.upvoteCount,\n\t\t\t'class': 'upvote-count'\n\t\t})).append(upvoteIcon);\n\n\t\treturn upvoteEl;\n\t},\n\n\tcreateTagElement: function(text, extraClasses, value) {\n\t\tvar tagEl = $('<input/>', {\n\t\t\t'class': 'tag',\n\t\t\t'type': 'button',\n\t\t\t'data-role': 'none',\n\t\t});\n\t\tif(extraClasses) tagEl.addClass(extraClasses);\n\t\ttagEl.val(text);\n\t\ttagEl.attr('data-value', value);\n\t\treturn tagEl;\n\t},\n\n\treRenderComment: function(id) {\n\t\tvar commentModel = this.commentsById[id];\n\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentModel.id+'\"]');\n\n\t\tvar self = this;\n\t\tcommentElements.each(function(index, commentEl) {\n\t\t\tvar commentWrapper = self.createCommentWrapperElement(commentModel);\n\t\t\t$(commentEl).find('.comment-wrapper').first().replaceWith(commentWrapper);\n\t\t});\n\t},\n\n\treRenderCommentActionBar: function(id) {\n\t\tvar commentModel = this.commentsById[id];\n\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentModel.id+'\"]');\n\n\t\tvar self = this;\n\t\tcommentElements.each(function(index, commentEl) {\n\t\t\tvar commentWrapper = self.createCommentWrapperElement(commentModel);\n\t\t\t$(commentEl).find('.actions').first().replaceWith(commentWrapper.find('.actions'));\n\t\t});\n\t},\n\n\treRenderUpvotes: function(id) {\n\t\tvar commentModel = this.commentsById[id];\n\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentModel.id+'\"]');\n\n\t\tvar self = this;\n\t\tcommentElements.each(function(index, commentEl) {\n\t\t\tvar upvotes = self.createUpvoteElement(commentModel);\n\t\t\t$(commentEl).find('.upvote').first().replaceWith(upvotes);\n\t\t});\n\t},\n\n\n\t// Styling\n\tcreateCssDeclarations: function() {\n\n\t\t// Remove previous css-declarations\n\t\t$('head style.jquery-comments-css').remove();\n\n\t\t// Navigation underline\n\t\tthis.createCss('.jquery-comments ul.navigation li.active:after {background: '\n\t\t\t+ this.options.highlightColor  + ' !important;',\n\t\t\t+'}');\n\n\t\t// Dropdown active element\n\t\tthis.createCss('.jquery-comments ul.navigation ul.dropdown li.active {background: '\n\t\t\t+ this.options.highlightColor  + ' !important;',\n\t\t\t+'}');\n\n\t\t// Background highlight\n\t\tthis.createCss('.jquery-comments .highlight-background {background: '\n\t\t\t+ this.options.highlightColor  + ' !important;',\n\t\t\t+'}');\n\n\t\t// Font highlight\n\t\tthis.createCss('.jquery-comments .highlight-font {color: '\n\t\t\t+ this.options.highlightColor + ' !important;'\n\t\t\t+'}');\n\t\tthis.createCss('.jquery-comments .highlight-font-bold {color: '\n\t\t\t+ this.options.highlightColor + ' !important;'\n\t\t\t+ 'font-weight: bold;'\n\t\t\t+'}');\n\t},\n\n\tcreateCss: function(css) {\n\t\tvar styleEl = $('<style/>', {\n\t\t\ttype: 'text/css',\n\t\t\t'class': 'jquery-comments-css',\n\t\t\ttext: css\n\t\t});\n\t\t$('head').append(styleEl);\n\t},\n\n\t//\n\tgetComments: function() {\n\t\tvar self = this;\n\t\tlet commentArr = Object.keys(this.commentsById).map(function(id){return self.commentsById[id]})\n\t\tlet importantCmtArr = commentArr.filter(function(comment){return comment.opinion})\n\t\tlet importantCmtUser = commentArr.filter(function(comment){return comment.opinion&&comment.createdByCurrentUser})\n\t\tlet attachCmtArr = commentArr.filter(function(comment){return comment.fileURL != undefined})\n\t\tif (commentArr.length > 3) {\n\t\t\t$('.data-container[data-container=comments]').addClass('lessEl')\n\t\t} else {\n\t\t\t$('.data-container[data-container=comments]').addClass('fullEl')\n\t\t}\n\t\t// \n\t\tif (importantCmtArr.length > 3) {\n\t\t\t$('.data-container[data-container=importantCmt]').addClass('lessEl')\n\t\t} else {\n\t\t\t$('.data-container[data-container=importantCmt]').addClass('fullEl')\n\t\t}\n\t\tif (importantCmtUser.length > 0) {\n\t\t\t$('.opinion').hide()\n\t\t} else {\n\t\t\t$('.opinion').show()\n\t\t}\n\t\t// \n\t\tif (attachCmtArr.length > 3) {\n\t\t\t$('.data-container[data-container=attachments]').addClass('lessEl')\n\t\t} else {\n\t\t\t$('.data-container[data-container=attachments]').addClass('fullEl')\n\t\t}\n\n\t\treturn Object.keys(this.commentsById).map(function(id){return self.commentsById[id]});\n\t},\n\n\tgetUsers: function() {\n\t\tvar self = this;\n\t\treturn Object.keys(this.usersById).map(function(id){return self.usersById[id]});\n\t},\n\n\tgetChildComments: function(parentId) {\n\t\treturn this.getComments().filter(function(comment){return comment.parent == parentId});\n\t},\n\n\tgetAttachments: function() {\n\t\tvar self = this;\n\t\treturn this.getComments().filter(function(comment){return comment.fileURL != undefined});\n\t},\n\tgetImportantCmt: function() {\n\t\tvar self = this;\n\t\treturn this.getComments().filter(function(comment){return comment.opinion == true});\n\t},\n\tgetOutermostParent: function(directParentId) {\n\t\tvar parentId = directParentId;\n\t\tdo {\n\t\t\tvar parentComment = this.commentsById[parentId];\n\t\t\tparentId = parentComment.parent;\n\t\t} while(parentComment.parent != null);\n\t\treturn parentComment;\n\t},\n\n\tcreateCommentJSON: function(textarea) {\n\t\tvar time = new Date().toISOString();\n\t\tvar commentJSON = {\n\t\t\tid: 'c' +  (this.getComments().length + 1),   // Temporary id\n\t\t\tparent: textarea.attr('data-parent') || null,\n\t\t\tcreated: time,\n\t\t\tmodified: time,\n\t\t\tcontent: this.getTextareaContent(textarea),\n\t\t\tpings: this.getPings(textarea),\n\t\t\tfullname: this.options.textFormatter(this.options.youText),\n\t\t\tprofilePictureURL: this.options.profilePictureURL,\n\t\t\tcreatedByCurrentUser: true,\n\t\t\tupvoteCount: 0,\n\t\t\tuserHasUpvoted: false\n\t\t};\n\t\treturn commentJSON;\n\t},\n\n\tisAllowedToDelete: function(commentId) {\n\t\tif(this.options.enableDeleting) {\n\t\t\tvar isAllowedToDelete = true;\n\t\t\tif(!this.options.enableDeletingCommentWithReplies) {\n\t\t\t\t$(this.getComments()).each(function(index, comment) {\n\t\t\t\t\tif(comment.parent == commentId) isAllowedToDelete = false;\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn isAllowedToDelete;\n\t\t}\n\t\treturn false;\n\t},\n\n\tsetToggleAllButtonText: function(toggleAllButton, toggle) {\n\t\tvar self = this;\n\t\tvar textContainer = toggleAllButton.find('span.text');\n\t\tvar caret = toggleAllButton.find('.caret');\n\n\t\tvar showExpandingText = function() {\n\t\t\t\tvar text = self.options.textFormatter(self.options.viewAllRepliesText);\n\t\t\t\tvar replyCount = toggleAllButton.siblings('.comment').length;\n\t\t\t\ttext = text.replace('__replyCount__', replyCount);\n\t\t\t\ttextContainer.text(text);\n\t\t};\n\n\t\tvar hideRepliesText = this.options.textFormatter(this.options.hideRepliesText);\n\n\t\tif(toggle) {\n\t\t\t// Toggle text\n\t\t\tif(textContainer.text() == hideRepliesText) {\n\t\t\t\tshowExpandingText();\n\t\t\t} else {\n\t\t\t\ttextContainer.text(hideRepliesText);\n\t\t\t}\n\t\t\t// Toggle direction of the caret\n\t\t\tcaret.toggleClass('up');\n\t\t} else {\n\t\t\t// Update text if necessary\n\t\t\tif(textContainer.text() != hideRepliesText) {\n\t\t\t\tshowExpandingText();\n\t\t\t}\n\t\t}\n\t},\n\n\tadjustTextareaHeight: function(textarea, focus) {\n\t\tvar textareaBaseHeight = 2.2;\n\t\tvar lineHeight = 1.45;\n\n\t\tvar setRows = function(rows) {\n\t\t\tvar height = textareaBaseHeight + (rows - 1) * lineHeight;\n\t\t\ttextarea.css('height', height + 'em');\n\t\t};\n\n\t\ttextarea = $(textarea);\n\t\tvar rowCount = focus == true ? this.options.textareaRowsOnFocus : this.options.textareaRows;\n\t\tdo {\n\t\t\tsetRows(rowCount);\n\t\t\trowCount++;\n\t\t\tvar isAreaScrollable = textarea[0].scrollHeight > textarea.outerHeight();\n\t\t\tvar maxRowsUsed = this.options.textareaMaxRows == false ?\n\t\t\t\tfalse : rowCount > this.options.textareaMaxRows;\n\t\t} while(isAreaScrollable && !maxRowsUsed);\n\t},\n\n\tclearTextarea: function(textarea) {\n\t\ttextarea.empty().trigger('input');\n\t},\n\n\tgetTextareaContent: function(textarea, humanReadable) {\n\t\tvar textareaClone = textarea.clone();\n\n\t\t// Remove reply-to tag\n\t\ttextareaClone.find('.reply-to.tag').remove();\n\n\t\t// Replace tags with text values\n\t\ttextareaClone.find('.tag.hashtag').replaceWith(function(){\n\t\t\treturn humanReadable ? $(this).val() : '#' + $(this).attr('data-value');\n\t\t});\n\t\ttextareaClone.find('.tag.ping').replaceWith(function(){\n\t\t\treturn humanReadable ? $(this).val() : '@' + $(this).attr('data-value');\n\t\t});\n\n\t\tvar ce = $('<pre/>').html(textareaClone.html());\n\t\tce.find('div, p, br').replaceWith(function() { return '\\n' + this.innerHTML; });\n\n\t\t// Trim leading spaces\n\t\tvar text = ce.text().replace(/^\\s+/g, '');\n\n\t\t// Normalize spaces\n\t\tvar text = this.normalizeSpaces(text);\n\t\treturn text;\n\t},\n\n\tgetFormattedCommentContent: function(commentModel, replaceNewLines) {\n\t\tvar html = this.escape(commentModel.content);\n\t\thtml = this.linkify(html);\n\t\thtml = this.highlightTags(commentModel, html);\n\t\tif(replaceNewLines) html = html.replace(/(?:\\n)/g, '<br>');\n\t\treturn html;\n\t},\n\n\tgetPings: function(textarea) {\n\t\treturn $.map(textarea.find('.ping'), function(el){return parseInt($(el).attr('data-value'))});\n\t},\n\n\tmoveCursorToEnd: function(el) {\n\t\tel = $(el)[0];\n\n\t\t// Trigger input to adjust size\n\t\t$(el).trigger('input');\n\n\t\t// Scroll to bottom\n\t\t$(el).scrollTop(el.scrollHeight);\n\n\t\t// Move cursor to end\n\t\tif (typeof window.getSelection != 'undefined' && typeof document.createRange != 'undefined') {\n\t\t\tvar range = document.createRange();\n\t\t\trange.selectNodeContents(el);\n\t\t\trange.collapse(false);\n\t\t\tvar sel = window.getSelection();\n\t\t\tsel.removeAllRanges();\n\t\t\tsel.addRange(range);\n\t\t} else if (typeof document.body.createTextRange != 'undefined') {\n\t\t\tvar textRange = document.body.createTextRange();\n\t\t\ttextRange.moveToElementText(el);\n\t\t\ttextRange.collapse(false);\n\t\t\ttextRange.select();\n\t\t}\n\n\t\t// Focus\n\t\tel.focus();\n\t},\n\n\tescape: function(inputText) {\n\t\treturn $('<pre/>').text(this.normalizeSpaces(inputText)).html();\n\t},\n\n\tnormalizeSpaces: function(inputText) {\n\t\treturn inputText.replace(new RegExp('\\u00a0', 'g'), ' ');   // Convert non-breaking spaces to reguar spaces\n\t},\n\n\tafter: function(times, func) {\n\t\tvar self = this;\n\t\treturn function() {\n\t\t\ttimes--;\n\t\t\tif (times == 0) {\n\t\t\t\treturn func.apply(self, arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\thighlightTags: function(commentModel, html) {\n\t\tif(this.options.enableHashtags) html = this.highlightHashtags(commentModel, html);\n\t\tif(this.options.enablePinging) html = this.highlightPings(commentModel, html);\n\t\treturn html;\n\t},\n\n\thighlightHashtags: function(commentModel, html) {\n\t\tvar self = this;\n\n\t\tif(html.indexOf('#') != -1) {\n\t\t\tvar __createTag = function(tag) {\n\t\t\t\tvar tag = self.createTagElement('#' + tag, 'hashtag', tag);\n\t\t\t\treturn tag[0].outerHTML;\n\t\t\t}\n\n\t\t\tvar regex = /(^|\\s)#([a-zäöüß\\d-_]+)/gim;\n\t\t\thtml = html.replace(regex, function($0, $1, $2){\n\t\t\t\treturn $1 + __createTag($2);\n\t\t\t});\n\t\t}\n\t\treturn html;\n\t},\n\n\thighlightPings: function(commentModel, html) {\n\t\tvar self = this;\n\n\t\tif(html.indexOf('@') != -1) {\n\n\t\t\tvar __createTag = function(user) {\n\t\t\t\tvar tag = self.createTagElement('@' + user.fullname, 'ping', user.id);\n\t\t\t\treturn tag[0].outerHTML;\n\t\t\t}\n\n\t\t\tvar highlightedHtml = '';\n\t\t\t$(commentModel.pings).each(function(index, id) {\n\t\t\t\tif(id in self.usersById) {\n\t\t\t\t\tvar user = self.usersById[id];\n\t\t\t\t\tvar pingText = '@' + user.id;\n\n\t\t\t\t\tvar endIndex = html.indexOf(pingText) + pingText.length;\n\t\t\t\t\tvar current = html.slice(0, endIndex);\n\t\t\t\t\thighlightedHtml += current.replace(pingText, __createTag(user));\n\n\t\t\t\t\thtml = html.slice(endIndex);\n\t\t\t\t}\n\t\t\t});\n\t\t\thighlightedHtml += html;\n\t\t\treturn highlightedHtml;\n\t\t}\n\t\treturn html;\n\t},\n\n\tlinkify: function(inputText) {\n\t\tvar replacedText, replacePattern1, replacePattern2, replacePattern3;\n\n\t\t// URLs starting with http://, https://, file:// or ftp://\n\t\treplacePattern1 = /(^|\\s)((https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gim;\n\t\treplacedText = inputText.replace(replacePattern1, '$1<a href=\"$2\" target=\"_blank\">$2</a>');\n\n\t\t// URLs starting with \"www.\" (without // before it, or it'd re-link the ones done above).\n\t\treplacePattern2 = /(^|\\s)(www\\.[\\S]+(\\b|$))/gim;\n\t\treplacedText = replacedText.replace(replacePattern2, '$1<a href=\"http://$2\" target=\"_blank\">$2</a>');\n\n\t\t// Change email addresses to mailto:: links.\n\t\treplacePattern3 = /(^|\\s)(([a-zA-Z0-9\\-\\_\\.]+)@[a-zA-Z\\_]+?(\\.[a-zA-Z]{2,6})+)/gim;\n\t\treplacedText = replacedText.replace(replacePattern3, '$1<a href=\"mailto:$2\">$2</a>');\n\n\t\t// If there are hrefs in the original text, let's split\n\t\t// the text up and only work on the parts that don't have urls yet.\n\t\tvar count = inputText.match(/<a href/g) || [];\n\n\t\tif(count.length > 0){\n\t\t\t// Keep delimiter when splitting\n\t\t\tvar splitInput = inputText.split(/(<\\/a>)/g);\n\t\t\tfor (var i = 0 ; i < splitInput.length ; i++){\n\t\t\t\tif(splitInput[i].match(/<a href/g) == null){\n\t\t\t\t\tsplitInput[i] = splitInput[i].replace(replacePattern1, '<a href=\"$1\" target=\"_blank\">$1</a>').replace(replacePattern2, '$1<a href=\"http://$2\" target=\"_blank\">$2</a>').replace(replacePattern3, '<a href=\"mailto:$1\">$1</a>');\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar combinedReplacedText = splitInput.join('');\n\t\t\treturn combinedReplacedText;\n\t\t} else {\n\t\t\treturn replacedText;\n\t\t}\n\t},\n\n\twaitUntil: function(condition, callback) {\n\t\tvar self = this;\n\n\t\tif(condition()) {\n\t\t\tcallback();\n\t\t} else {\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.waitUntil(condition, callback);\n\t\t\t}, 100);\n\t\t}\n\t},\n\n\tapplyInternalMappings: function(commentJSON) {\n\t\t// Inverting field mappings\n\t\tvar invertedMappings = {};\n\t\tvar mappings = this.options.fieldMappings;\n\t\tfor (var prop in mappings) {\n\t\t\tif(mappings.hasOwnProperty(prop)) {\n\t\t\t\tinvertedMappings[mappings[prop]] = prop;\n\t\t\t}\n\t\t}\n\n\t\treturn this.applyMappings(invertedMappings, commentJSON);\n\t},\n\n\tapplyExternalMappings: function(commentJSON) {\n\t\tvar mappings = this.options.fieldMappings;\n\t\treturn this.applyMappings(mappings, commentJSON);\n\t},\n\n\tapplyMappings: function(mappings, commentJSON) {\n\t\tvar result = {};\n\n\t\tfor(var key1 in commentJSON) {\n\t\t\tif(key1 in mappings) {\n\t\t\t\tvar key2 = mappings[key1];\n\t\t\t\tresult[key2] = commentJSON[key1];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\t};\n\n\t$.fn.comments = function(options) {\n\t\treturn this.each(function() {\n\t\t\tvar comments = Object.create(Comments);\n\t\t\t$.data(this, 'comments', comments);\n\t\t\tcomments.init(options || {}, this);\n\t\t});\n\t};\n}));\n\n\n/* eslint-disable */\n\n\n// WEBPACK FOOTER //\n// ./src/store/jquery_comment.js","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/create.js\n// module id = 701\n// module chunks = 0 1 6","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/create.js\n// module id = 702\n// module chunks = 0 1 6","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.create.js\n// module id = 703\n// module chunks = 0 1 6","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = 712\n// module chunks = 0 1 6","<template>\n  <div>\n    <content-placeholders class=\"mt-3\" v-if=\"loading\">\n      <content-placeholders-text :lines=\"1\" />\n    </content-placeholders>\n    <div v-else-if=\"dossierSelected.length > 0\" class=\"row-header\">\n      <div class=\"background-triangle-big\"> <span>XỬ LÝ HỒ SƠ</span> </div>\n      <div class=\"layout row wrap header_tools row-blue\">\n        <div class=\"flex xs8 sm10 pl-3 text-ellipsis text-bold\" :title=\"dossierSelected[0].serviceName\">\n          {{dossierSelected[0].serviceName}}\n        </div>\n        <div class=\"flex xs4 sm2 text-right\" style=\"margin-left: auto;\">\n          <v-btn flat class=\"my-0 mx-0 btn-border-left\" @click=\"goBack\" active-class=\"temp_active\">\n            Quay lại &nbsp;\n            <v-icon size=\"16\">undo</v-icon>\n          </v-btn>\n        </div>\n      </div>\n    </div>\n    <v-expansion-panel class=\"expansion-pl\" v-if=\"dossierSelected.length > 0\">\n      <v-expansion-panel-content hide-actions value=\"1\">\n        <!-- <div slot=\"header\">\n          <div class=\"background-triangle-small\"> <v-icon size=\"18\" color=\"white\">star_rate</v-icon></div>\n          HỒ SƠ XỬ LÝ &nbsp;&nbsp;&nbsp;&nbsp; \n        </div> -->\n        <v-card>\n          <v-card-text class=\"px-0 pt-0\">\n            <v-data-table\n            :headers=\"headersTable\"\n            :items=\"dossierSelected\"\n            hide-actions\n            class=\"table-landing table-bordered\"\n            >\n              <template slot=\"items\" slot-scope=\"props\">\n                <tr v-bind:class=\"{'active': props.index%2==1}\">\n                  <td class=\"text-xs-center\">\n                    <div>\n                      <span>{{props.index + 1}}</span>\n                    </div>\n                  </td>\n                  <td class=\"text-xs-left\">\n                    <div>\n                      <span>{{props.item.dossierNo}}</span><br>\n                      <span style=\"color:green\" v-if=\"!props.item.online\">Hồ sơ một cửa</span>\n                      <span style=\"color:blue\" v-else>Hồ sơ trực tuyến</span>\n                    </div>\n                  </td>\n                  <td class=\"text-xs-left\">\n                    <div>\n                      <span>{{props.item.applicantName}}</span>\n                    </div>\n                  </td>\n                  <td class=\"text-xs-left\">\n                    <div>\n                      <span>{{props.item.wardName}}, {{props.item.districtName}}, {{props.item.cityName}}</span>\n                    </div>\n                  </td>\n                  <td class=\"text-xs-left\">\n                    <div>\n                      <span> Tiếp nhận: {{props.item.receiveDate}}<br>\n                        Hẹn trả: {{props.item.receiveDate}}<br>\n                        <span>{{props.item.dossierOverdue}}</span>\n                      </span>\n                    </div>\n                  </td>\n                </tr>\n              </template>\n            </v-data-table>\n          </v-card-text>\n        </v-card>\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n    <v-dialog v-model=\"dialogPDF\" max-width=\"900\" transition=\"fade-transition\">\n      <v-card>\n        <v-card-title class=\"headline\">File đính kèm</v-card-title>\n        <v-btn icon dark class=\"mx-0 my-0 absolute__btn_panel mr-2\" @click.native=\"dialogPDF = false\">\n          <v-icon>clear</v-icon>\n        </v-btn>\n        <div v-if=\"dialogPDFLoading\" style=\"\n            min-height: 600px;\n            text-align: center;\n            margin: auto;\n            padding: 25%;\n        \">\n          <v-progress-circular\n            :size=\"100\"\n            :width=\"1\"\n            color=\"primary\"\n            indeterminate\n          ></v-progress-circular>\n        </div>\n        <iframe v-show=\"!dialogPDFLoading\" id=\"dialogPDFPreview\" src=\"\" type=\"application/pdf\" width=\"100%\" height=\"100%\" style=\"overflow: auto;min-height: 600px;\" frameborder=\"0\">\n        </iframe>\n      </v-card>\n    </v-dialog>\n    <!--  -->\n    <div>\n      <v-layout wrap v-if=\"btnStateVisible\">\n        <form-bo-sung-thong-tin ref=\"formBoSungThongTinNgan\" v-if=\"showFormBoSungThongTinNgan\" :dossier_id=\"Number(id)\" :action_id=\"Number(actionIdCurrent)\"></form-bo-sung-thong-tin>\n        <phan-cong ref=\"phancong\" v-if=\"showPhanCongNguoiThucHien\" v-model=\"assign_items\" :type=\"type_assign\" ></phan-cong>\n        <!-- <tai-lieu-ket-qua v-if=\"showTaoTaiLieuKetQua\" :detailDossier=\"thongTinChiTietHoSo\" :createFiles=\"createFiles\"></tai-lieu-ket-qua> -->\n        <!-- showTaoTaiLieuKetQua: {{showTaoTaiLieuKetQua}} <br/> -->\n        <tra-ket-qua v-if=\"showTraKetQua\" :resultFiles=\"returnFiles\"></tra-ket-qua>\n        <thu-phi v-if=\"showThuPhi\" v-model=\"payments\" :viaPortal=\"viaPortalDetail\"></thu-phi>\n        <ky-duyet ref=\"kypheduyettailieu\" :detailDossier=\"thongTinChiTietHoSo\" v-if=\"showKyPheDuyetTaiLieu\"></ky-duyet>\n        <!-- showThucHienThanhToanDienTu: {{showThucHienThanhToanDienTu}} <br/> -->\n        <y-kien-can-bo ref=\"ykiencanbo\" v-if=\"showYkienCanBoThucHien\" :user_note=\"userNote\"></y-kien-can-bo>\n        <v-btn color=\"primary\" @click.native=\"processAction()\"\n          :loading=\"loadingActionProcess\"\n          :disabled=\"loadingActionProcess\"\n          >\n          <v-icon>save</v-icon>&nbsp;\n          Xác nhận\n          <span slot=\"loader\">Loading...</span>\n        </v-btn>\n        <v-btn color=\"primary\" @click=\"goBack()\">\n          <v-icon>undo</v-icon>&nbsp;\n          Quay lại\n        </v-btn>\n      </v-layout>\n      <v-alert v-if=\"!btnStateVisible\" outline color=\"success\" icon=\"check_circle\" :value=\"true\">\n        Thực hiện thành công!\n      </v-alert>\n    </div>\n    <v-dialog v-model=\"dialog_statusAction\" scrollable persistent max-width=\"700px\">\n      <v-card>\n        <v-card-title class=\"headline\">\n          Trạng thái xử lý\n        </v-card-title>\n        <v-btn icon dark class=\"mx-0 my-0 absolute__btn_panel mr-2\" @click.native=\"closeDialogStatusAction\">\n          <v-icon>clear</v-icon>\n        </v-btn>\n        <v-card-text style=\"max-height: 350px\">\n          <div v-for=\"(item, index) in dossierSelected\" v-bind:key=\"item.dossierId\">\n            <v-layout wrap class=\"py-1 align-center row-list-style\" style=\"border-bottom: 1px solid #ddd;position:relative\"> \n              <v-flex xs11>\n                <span class=\"text-bold\" style=\"position: absolute;\">{{index + 1}}.</span> \n                <div class=\"ml-4\"><span class=\"text-bold\">{{item.dossierNo}}</span> - {{item.applicantName}}</div>\n              </v-flex>\n              <v-flex xs1 class=\"text-right\">\n                <v-tooltip top v-if=\"item.statusAction\">\n                  <v-icon size=\"20\" color=\"primary\" slot=\"activator\">\n                    check\n                  </v-icon>\n                  <span>Thành công</span>\n                </v-tooltip>\n                <v-tooltip top v-else>\n                  <v-icon size=\"20\" color=\"red darken-3\" slot=\"activator\">\n                    block\n                  </v-icon>\n                  <span>Thất bại</span>\n                </v-tooltip>\n              </v-flex>\n            </v-layout>\n          </div>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" @click.native=\"processAction()\" \n            :loading=\"loadingAction\"\n            :disabled=\"loadingAction\"\n          >\n            <v-icon size=\"20\">refresh</v-icon>&nbsp;\n            Thử lại\n            <span slot=\"loader\">Loading...</span>\n          </v-btn>\n          <v-btn color=\"red\" dark @click.native=\"closeDialogStatusAction\"\n            :loading=\"loadingAction\"\n            :disabled=\"loadingAction\"\n          >\n            <v-icon>undo</v-icon>&nbsp;\n            Thoát\n            <span slot=\"loader\">Loading...</span>\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport router from '@/router'\nimport $ from 'jquery'\nimport '../store/jquery_comment'\nimport Comment from './Comment.vue'\nimport ThongTinCoBanHoSo from './form_xu_ly/ThongTinCoBanHoSo.vue'\nimport PhanCong from './form_xu_ly/PhanCongNguoiThucHien.vue'\nimport TraKetQua from './form_xu_ly/TraKetQua.vue'\nimport ThuPhi from './form_xu_ly/FeeDetail.vue'\nimport KyDuyet from './form_xu_ly/KyPheDuyetTaiLieu.vue'\nimport YkienCanBoThucHien from './form_xu_ly/YkienCanBoThucHien.vue'\nimport TaoTaiLieuKetQua from './form_xu_ly/TaoTaiLieuKetQua.vue'\nimport FormBoSungThongTinNgan from './form_xu_ly/FormBoSungThongTinNgan.vue'\nimport ThanhPhanHoSo from './TiepNhan/TiepNhanHoSo_ThanhPhanHoSo.vue'\nexport default {\n  props: ['index'],\n  components: {\n    'thong-tin-co-ban-ho-so': ThongTinCoBanHoSo,\n    'phan-cong': PhanCong,\n    'tra-ket-qua': TraKetQua,\n    'thu-phi': ThuPhi,\n    'ky-duyet': KyDuyet,\n    'y-kien-can-bo': YkienCanBoThucHien,\n    'tai-lieu-ket-qua': TaoTaiLieuKetQua,\n    'form-bo-sung-thong-tin': FormBoSungThongTinNgan,\n    'thanh-phan-ho-so': ThanhPhanHoSo\n  },\n  data: () => ({\n    headersTable: [\n      {\n        text: '#',\n        align: 'center',\n        sortable: false\n      },\n      {\n        text: 'Mã hồ sơ',\n        align: 'center',\n        sortable: false\n      },\n      {\n        text: 'Chủ hồ sơ',\n        align: 'center',\n        sortable: false\n      },\n      {\n        text: 'Địa chỉ',\n        align: 'center',\n        sortable: false\n      },\n      {\n        text: 'Thời gian',\n        align: 'center',\n        sortable: false\n      }\n    ],\n    mutilpleAction: false,\n    actionExits: [],\n    dossierProcess: [],\n    countProcessed: 0,\n    activeNotify: false,\n    dialog_statusAction: false,\n    thongTinChiTietHoSo: {\n    },\n    nextActions: [],\n    payments: '',\n    dossierActions: [],\n    itemselect: '',\n    actionNote: '',\n    actionsSubmitLoading: false,\n    showThongTinCoBanHoSo: false,\n    showYkienCanBoThucHien: false,\n    showFormBoSungThongTinNgan: false,\n    showPhanCongNguoiThucHien: false,\n    showTaoTaiLieuKetQua: false,\n    showKyPheDuyetTaiLieu: false,\n    showTraKetQua: false,\n    showThuPhi: false,\n    checkInput: 0,\n    viaPortalDetail: 0,\n    showThucHienThanhToanDienTu: false,\n    dossierItemDialogPick: '',\n    itemDialogPick: '',\n    resultDialogPick: '',\n    indexDialogPick: '',\n    userNote: 0,\n    partView: '',\n    stateView: false,\n    payment_type: 0,\n    type_assign: 0,\n    returnFiles: [],\n    assign_items: [],\n    btnStateVisible: true,\n    dialogActionProcess: false,\n    rollbackable: false,\n    dialogPDF: false,\n    dialogPDFLoading: false,\n    loadingActionProcess: false,\n    loadingAction: false,\n    arrDossierId: [],\n    actionActiveTmp: []\n  }),\n  computed: {\n    loading () {\n      return this.$store.getters.loading\n    },\n    originality () {\n      var vm = this\n      return vm.getOriginality()\n    },\n    dossierSelected () {\n      var vm = this\n      return vm.$store.getters.dossierSelected\n    },\n    actionActive () {\n      console.log('actionActive-------', this.$store.getters.actionActive)\n      return this.$store.getters.actionActive\n    },\n    activeGetCounter () {\n      return this.$store.getters.activeGetCounter\n    }\n  },\n  created () {\n    var vm = this\n    console.log('this.$store.getters.dossierSelected-------', this.$store.getters.dossierSelected)\n    vm.$nextTick(function () {\n      vm.btnIndex = -1\n      let currentQuery = vm.$router.history.current.query\n      console.log('Xu ly ho so currentQuery ----------', currentQuery)\n      if (vm.dossierSelected.length > 0) {\n        return vm.$store.getters.dossierSelected\n      } else {\n        let arrDossier = []\n        let currentQuery = vm.$router.history.current.query\n        if (currentQuery.hasOwnProperty('dossiers')) {\n          let arrDossierIdTemp = currentQuery.dossiers.split(',')\n          vm.arrDossierId = arrDossierIdTemp\n          arrDossierIdTemp.forEach(dossierId => {\n            arrDossier.push(vm.$store.dispatch('getDetailDossier', dossierId))\n          })\n          Promise.all(arrDossier).then(results => {\n            vm.$store.dispatch('loadDossierSelected', results)\n          }).catch(reject => {\n          })\n        }\n      }\n      try {\n        if (vm.actionActive.action === undefined || vm.actionActive.action === null || vm.actionActive.action === '') {\n          let actionActive = JSON.parse(currentQuery.actionActive)\n          if (actionActive) {\n            vm.$store.dispatch('loadActionActive', actionActive)\n          }\n        }\n      } catch (e) {\n        console.log(e)\n      }\n      vm.getNextActions()\n      // if (currentQuery.hasOwnProperty('activeTab')) {\n      //   vm.activeTab = currentQuery.activeTab\n      //   vm.btnIndex = currentQuery['btnIndex']\n      //   vm.thongTinChiTietHoSo['dossierId'] = vm.id\n      //   vm.btnStateVisible = true\n      //   vm.getNextActions()\n      // }\n    })\n  },\n  updated () {\n    var vm = this\n    vm.$nextTick(function () {})\n  },\n  watch: {},\n  methods: {\n    initData (data) {\n      var vm = this\n    },\n    goBack () {\n      window.history.back()\n    },\n    processPullBtnDetailRouter (dossierItem, item, result, index) {\n      console.log('result Nextaction', result)\n      let vm = this\n      let isPopup = false\n      vm.dossierId = dossierItem.dossierId\n      vm.showYkienCanBoThucHien = false\n      vm.showFormBoSungThongTinNgan = false\n      vm.showPhanCongNguoiThucHien = false\n      vm.showTaoTaiLieuKetQua = false\n      vm.showKyPheDuyetTaiLieu = false\n      vm.showTraKetQua = false\n      vm.showThuPhi = false\n      vm.showThucHienThanhToanDienTu = false\n      vm.dossierItemDialogPick = dossierItem\n      vm.itemDialogPick = item\n      vm.resultDialogPick = result\n      vm.indexDialogPick = index\n      vm.userNote = 0\n      if (result !== null && result !== undefined && result !== 'undefined' &&\n        (result.hasOwnProperty('userNote') || result.hasOwnProperty('extraForm') || result.hasOwnProperty('allowAssignUser') ||\n        result.hasOwnProperty('createFiles') || result.hasOwnProperty('eSignature') || result.hasOwnProperty('returnFiles') ||\n        result.hasOwnProperty('payment') || result.hasOwnProperty('checkInput'))) {\n        if (result.hasOwnProperty('userNote') && (result.userNote === 1 || result.userNote === '1' || result.userNote === 2 || result.userNote === '2')) {\n          isPopup = true\n          vm.showYkienCanBoThucHien = true\n          vm.userNote = result.userNote\n        }\n        if (result.hasOwnProperty('extraForm') && result.extraForm) {\n          isPopup = true\n          vm.showFormBoSungThongTinNgan = true\n        }\n        if (result.hasOwnProperty('allowAssignUser') && result.allowAssignUser !== 0) {\n          console.log('allowAssignUser', result.toUsers)\n          if (Array.isArray(result.toUsers)) {\n            vm.assign_items = result.toUsers\n          } else {\n            vm.assign_items = [result.toUsers]\n          }\n          vm.type_assign = result.allowAssignUser\n          isPopup = true\n          vm.showPhanCongNguoiThucHien = true\n        }\n        if (result.hasOwnProperty('createFiles') && result.createFiles !== null && result.createFiles !== undefined && result.createFiles !== 'undefined' && result.createFiles.length > 0) {\n          isPopup = true\n          vm.showTaoTaiLieuKetQua = true\n          vm.createFiles = result.createFiles\n        }\n        if (result.hasOwnProperty('eSignature') && result.eSignature) {\n          isPopup = true\n          vm.showKyPheDuyetTaiLieu = true\n        }\n        if (result.hasOwnProperty('returnFiles') && result.returnFiles !== null && result.returnFiles !== undefined && result.returnFiles !== 'undefined' && result.returnFiles.length > 0) {\n          isPopup = true\n          vm.showTraKetQua = true\n          vm.returnFiles = result.returnFiles\n        }\n        if (result.hasOwnProperty('payment') && result.payment !== null && result.payment !== undefined && result.payment !== 'undefined' && result.payment.requestPayment === 5) {\n          isPopup = true\n          vm.showThuPhi = true\n          vm.payments = result.payment\n          vm.viaPortalDetail = dossierItem.viaPostal\n        }\n        if (result.hasOwnProperty('checkInput') && result.checkInput !== null && result.checkInput !== undefined && result.checkInput !== 'undefined') {\n          vm.checkInput = result.checkInput\n          if (result.checkInput === 2) {\n            isPopup = true\n            vm.$refs.thanhphanhoso.initData(vm.thongTinChiTietHoSo)\n          }\n        }\n      }\n      if (isPopup) {\n        vm.dialogActionProcess = true\n        vm.loadingActionProcess = false\n      }\n    },\n    processPullBtnDetail (item, index) {\n      let vm = this\n      vm.btnIndex = index\n      vm.itemAction = item\n      vm.actionIdCurrent = item.processActionId\n      let filter = {\n        dossierId: vm.dossierSelected[0].dossierId,\n        actionId: item.processActionId\n      }\n      vm.dialogActionProcess = false\n      vm.$store.dispatch('processPullBtnDetail', filter).then(function (result) {\n        vm.processPullBtnDetailRouter(vm.dossierSelected[0], item, result, index)\n      })\n    },\n    doCopy (dossierItem, item, index, isGroup) {\n      let vm = this\n      let filter = {\n        dossierId: dossierItem.dossierId\n      }\n      vm.loadingAction = true\n      vm.$store.dispatch('doCopy', filter).then(function (result) {\n        vm.loadingAction = false\n        vm.indexAction = -1\n        router.push({\n          path: '/danh-sach-ho-so/' + vm.index + '/ho-so/' + result.dossierId + '/' + vm.itemAction.form,\n          query: vm.$router.history.current.query\n        })\n      })\n    },\n    doCancel (dossierItem, item, index, isGroup) {\n      let vm = this\n      vm.loadingAction = true\n      if (isGroup) {\n        console.log(vm.selected)\n      } else {\n        let filter = {\n          dossierId: dossierItem.dossierId\n        }\n        vm.$store.dispatch('doCancel', filter).then(function (result) {\n          vm.loadingAction = false\n          vm.indexAction = -1\n          router.push({\n            path: '/danh-sach-ho-so/' + vm.index + '/ho-so/' + result.dossierId + '/' + vm.itemAction.form,\n            query: vm.$router.history.current.query\n          })\n        })\n      }\n    },\n    processAction () {\n      var vm = this\n      var initData = vm.$store.getters.loadingInitData\n      var actionUser = initData.user.userName ? initData.user.userName : ''\n      vm.dossierProcess = vm.dossierSelected.filter(function (item) {\n        return (item['statusAction'] === false || !item['statusAction'])\n      })\n      vm.countProcessed = 0\n      if (vm.mutilpleAction) {\n        for (let key in vm.actionExits) {\n          for (let key2 in vm.dossierSelected) {\n            if (vm.dossierSelected[key2]['statusAction'] === false || !vm.dossierSelected[key2]['statusAction']) {\n              let filter = {\n                dossierId: vm.dossierSelected[key2].dossierId,\n                actionCode: vm.actionExits[key].actionCode,\n                actionUser: actionUser\n              }\n              vm.postAction(filter, vm.dossierSelected[key2], key2)\n            }\n          }\n        }\n      } else {\n        for (let key in vm.dossierSelected) {\n          if (vm.dossierSelected[key]['statusAction'] === false || !vm.dossierSelected[key]['statusAction']) {\n            let filter = {\n              dossierId: vm.dossierSelected[key].dossierId,\n              actionCode: vm.actionActive.action,\n              actionUser: actionUser\n            }\n            vm.postAction(filter, vm.dossierSelected[key], key)\n          }\n        }\n      }\n    },\n    postAction (filter, dossier, index) {\n      var vm = this\n      var validPhanCong = true\n      var validYKien = true\n      if (vm.showPhanCongNguoiThucHien) {\n        filter['toUsers'] = vm.assign_items\n        let result = vm.$refs.phancong.doExport()\n        if (result) {\n          validPhanCong = true\n        } else {\n          validPhanCong = false\n        }\n      }\n      var paymentsOut = null\n      if (vm.payments) {\n        paymentsOut = {\n          requestPayment: vm.payments['requestPayment'],\n          advanceAmount: Number(vm.payments['advanceAmount'].toString().replace(/\\./g, '')),\n          feeAmount: Number(vm.payments['feeAmount'].toString().replace(/\\./g, '')),\n          serviceAmount: Number(vm.payments['serviceAmount'].toString().replace(/\\./g, '')),\n          shipAmount: Number(vm.payments['shipAmount'].toString().replace(/\\./g, ''))\n        }\n      }\n      if (vm.showThuPhi) {\n        filter['payment'] = paymentsOut\n      }\n      if (vm.showFormBoSungThongTinNgan) {\n        filter['payload'] = vm.$refs.formBoSungThongTinNgan.formSubmitData()\n      }\n      if (vm.showKyPheDuyetTaiLieu) {\n        let result = vm.$refs.kypheduyettailieu.doExport()\n      }\n      if (vm.showYkienCanBoThucHien) {\n        let result = vm.$refs.ykiencanbo.doExport()\n        let note = ''\n        if (result.valid) {\n          validYKien = true\n          note = result.text\n        } else {\n          validYKien = false\n        }\n        filter['userNote'] = note\n      }\n      if (validPhanCong && validYKien) {\n        vm.validateAction = true\n      } else {\n        vm.validateAction = false\n      }\n      let currentQuery = vm.$router.history.current.query\n      if (vm.showYkienCanBoThucHien) {\n        if (vm.validateAction) {\n          vm.loadingActionProcess = true\n          vm.$store.dispatch('processDossierRouter', filter).then(function (result) {\n            vm.countProcessed += 1\n            vm.dossierSelected[index]['statusAction'] = true\n            // console.log('countProcessed', vm.countProcessed)\n            // console.log('length', vm.dossierProcess.length)\n            if (vm.countProcessed === vm.dossierProcess.length * vm.actionExits.length && vm.activeNotify) {\n              vm.dialog_statusAction = true\n            } else if (vm.countProcessed === vm.dossierProcess.length * vm.actionExits.length) {\n              vm.loadingActionProcess = false\n              vm.loadingAction = false\n              vm.btnStateVisible = false\n            }\n            // vm.$store.dispatch('getActiveGetCounter', !vm.activeGetCounter)\n          }).catch(function (reject) {\n            vm.countProcessed += 1\n            vm.activeNotify = true\n            vm.dossierSelected[index]['statusAction'] = false\n            // console.log('countProcessed', vm.countProcessed)\n            // console.log('length', vm.dossierProcess.length)\n            if (vm.countProcessed === vm.dossierProcess.length * vm.actionExits.length && vm.activeNotify) {\n              vm.dialog_statusAction = true\n            } else if (vm.countProcessed === vm.dossierProcess.length * vm.actionExits.length) {\n              vm.loadingActionProcess = false\n              vm.loadingAction = false\n              vm.btnStateVisible = false\n            }\n            // vm.$store.dispatch('getActiveGetCounter', !vm.activeGetCounter)\n          })\n        }\n      } else {\n        vm.loadingActionProcess = true\n        vm.$store.dispatch('processDossierRouter', filter).then(function (result) {\n          vm.countProcessed += 1\n          vm.dossierSelected[index]['statusAction'] = true\n          if (vm.countProcessed === vm.dossierProcess.length * vm.actionExits.length && vm.activeNotify) {\n            vm.dialog_statusAction = true\n          } else if (vm.countProcessed === vm.dossierProcess.length * vm.actionExits.length) {\n            vm.loadingActionProcess = false\n            vm.loadingAction = false\n            vm.btnStateVisible = false\n          }\n          // vm.$store.dispatch('getActiveGetCounter', !vm.activeGetCounter)\n        }).catch(function (reject) {\n          vm.countProcessed += 1\n          vm.activeNotify = true\n          vm.dossierSelected[index]['statusAction'] = false\n          if (vm.countProcessed === vm.dossierProcess.length * vm.actionExits.length && vm.activeNotify) {\n            vm.dialog_statusAction = true\n          } else if (vm.countProcessed === vm.dossierProcess.length * vm.actionExits.length) {\n            vm.loadingActionProcess = false\n            vm.loadingAction = false\n            vm.btnStateVisible = false\n          }\n          // vm.$store.dispatch('getActiveGetCounter', !vm.activeGetCounter)\n        })\n      }\n    },\n    doPrint02 (dossierItem, item, index, isGroup) {\n      let vm = this\n      if (vm.thuTucHanhChinhSelected === null || vm.thuTucHanhChinhSelected === undefined || vm.thuTucHanhChinhSelected === 'undefined') {\n        alert('Loại thủ tục bắt buộc phải chọn')\n      } else {\n        let filter = {\n          document: item.document,\n          'serviceCode': vm.thuTucHanhChinhSelected.serviceCode,\n          'govAgencyCode': vm.thuTucHanhChinhSelected.govAgencyCode,\n          dossiers: JSON.stringify(vm.selected)\n        }\n        vm.dialogPDFLoading = true\n        vm.dialogPDF = true\n        vm.$store.dispatch('doPrint02', filter).then(function (result) {\n          vm.dialogPDFLoading = false\n          document.getElementById('dialogPDFPreview').src = result\n        })\n      }\n    },\n    doPrint03 (dossierItem, item, index, isGroup) {\n      let vm = this\n      vm.dialogPDFLoading = true\n      vm.dialogPDF = true\n      let filter = {\n        dossierId: dossierItem.dossierId,\n        document: item.document\n      }\n      vm.$store.dispatch('doPrint03', filter).then(function (result) {\n        vm.dialogPDFLoading = false\n        document.getElementById('dialogPDFPreview').src = result\n      })\n    },\n    doGuiding (dossierItem, item, index, isGroup) {\n      let vm = this\n      if (vm.thuTucHanhChinhSelected === null || vm.thuTucHanhChinhSelected === undefined || vm.thuTucHanhChinhSelected === 'undefined') {\n        alert('Loại thủ tục bắt buộc phải chọn')\n      } else {\n        let filter = {\n          serviceConfigId: vm.thuTucHanhChinhSelected.serviceConfigId\n        }\n        vm.dialogPDFLoading = true\n        vm.dialogPDF = true\n        vm.$store.dispatch('doGuiding', filter).then(function (result) {\n          vm.dialogPDFLoading = false\n          document.getElementById('dialogPDFPreview').src = result\n        })\n      }\n    },\n    getNextActions () {\n      let vm = this\n      let query = vm.$router.history.current.query\n      let filter = {}\n      if (vm.dossierSelected.length > 0) {\n        filter['dossierId'] = vm.dossierSelected[0].dossierId\n      } else {\n        filter['dossierId'] = vm.arrDossierId[0]\n      }\n      let currentQuery = vm.$router.history.current.query\n      vm.$store.dispatch('pullNextactions', filter).then(function (result) {\n        // console.log('pullNextactions', result)\n        // console.log('actionActive.action', vm.actionActive.action.split(','))\n        result = result.filter(function (item) {\n          return item.enable === 1\n        })\n        var actionActiveArr = []\n        if (vm.actionActive.action !== undefined && vm.actionActive.action !== null && vm.actionActive.action !== 'undefined' && vm.actionActive.action !== '') {\n          actionActiveArr = vm.actionActive.action.split(',')\n        }\n        if (actionActiveArr.length === 1) {\n          vm.actionExits = actionActiveArr\n          let actionActive = result.filter(function (item) {\n            return item.actionCode.toString() === vm.actionActive.action.toString()\n          })\n          vm.dialogActionProcess = true\n          vm.mutilpleAction = false\n          vm.processPullBtnDetail(actionActive[0], currentQuery.btnIndex)\n        } else {\n          vm.mutilpleAction = true\n          vm.actionExits = []\n          for (let key in actionActiveArr) {\n            var active = false\n            var actionItem\n            for (let key2 in result) {\n              if (actionActiveArr[key].toString() === result[key2].actionCode.toString()) {\n                active = true\n                actionItem = result[key2]\n                break\n              }\n            }\n            if (active) {\n              vm.actionExits.push(actionItem)\n            }\n          }\n          vm.dialogActionProcess = true\n          console.log('actionExits', vm.actionExits[0])\n          if (vm.actionExits[0]) {\n            vm.processPullBtnDetail(vm.actionExits[0], currentQuery.btnIndex)\n          }\n        }\n      })\n    },\n    postNextActions (stepModel) {\n      var vm = this\n      stepModel['dossierId'] = vm.thongTinChiTietHoSo.dossierId\n      if (stepModel.allowAssignUser > 0) {\n        vm.$store.dispatch('reassignDossier', stepModel).then(resReassign => {\n          console.log(resReassign)\n          let params = {\n            dossierId: vm.dossierId,\n            actionCode: stepModel.actionCode,\n            actionNote: vm.actionNote,\n            actionUser: '',\n            payload: '',\n            security: '',\n            assignUsers: '',\n            payment: '',\n            createDossiers: ''\n          }\n          vm.$store.dispatch('postAction', params).then(resPostAction => {\n            console.log(resPostAction)\n          })\n        })\n      } else {\n        let params = {\n          dossierId: vm.dossierId,\n          actionCode: stepModel.actionCode,\n          actionNote: vm.actionNote,\n          actionUser: '',\n          payload: '',\n          security: '',\n          assignUsers: '',\n          payment: '',\n          createDossiers: ''\n        }\n        vm.$store.dispatch('postAction', params).then(resPostAction => {\n          console.log(resPostAction)\n        })\n      }\n    },\n    closeDialogStatusAction () {\n      this.dialog_statusAction = false\n      this.btnStateVisible = false\n    }\n  },\n  filters: {\n    dateTimeView (arg) {\n      if (arg) {\n        let value = new Date(arg)\n        return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()} | ${value.getHours().toString().padStart(2, '0')}:${value.getMinutes().toString().padStart(2, '0')}`\n      } else {\n        return ''\n      }\n    },\n    getMaxDueDate (arr) {\n      let maxDue = Math.max.apply(Math, arr.map(function (item) {\n        return item.actionOverdue\n      }))\n      return maxDue\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// XuLyHoSo.vue?45cfaab9","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.loading) ? _c('content-placeholders', {\n    staticClass: \"mt-3\"\n  }, [_c('content-placeholders-text', {\n    attrs: {\n      \"lines\": 1\n    }\n  })], 1) : (_vm.dossierSelected.length > 0) ? _c('div', {\n    staticClass: \"row-header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-big\"\n  }, [_c('span', [_vm._v(\"XỬ LÝ HỒ SƠ\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"layout row wrap header_tools row-blue\"\n  }, [_c('div', {\n    staticClass: \"flex xs8 sm10 pl-3 text-ellipsis text-bold\",\n    attrs: {\n      \"title\": _vm.dossierSelected[0].serviceName\n    }\n  }, [_vm._v(\"\\n        \" + _vm._s(_vm.dossierSelected[0].serviceName) + \"\\n      \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"flex xs4 sm2 text-right\",\n    staticStyle: {\n      \"margin-left\": \"auto\"\n    }\n  }, [_c('v-btn', {\n    staticClass: \"my-0 mx-0 btn-border-left\",\n    attrs: {\n      \"flat\": \"\",\n      \"active-class\": \"temp_active\"\n    },\n    on: {\n      \"click\": _vm.goBack\n    }\n  }, [_vm._v(\"\\n          Quay lại  \\n          \"), _c('v-icon', {\n    attrs: {\n      \"size\": \"16\"\n    }\n  }, [_vm._v(\"undo\")])], 1)], 1)])]) : _vm._e(), _vm._v(\" \"), (_vm.dossierSelected.length > 0) ? _c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('v-card', [_c('v-card-text', {\n    staticClass: \"px-0 pt-0\"\n  }, [_c('v-data-table', {\n    staticClass: \"table-landing table-bordered\",\n    attrs: {\n      \"headers\": _vm.headersTable,\n      \"items\": _vm.dossierSelected,\n      \"hide-actions\": \"\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"items\",\n      fn: function(props) {\n        return [_c('tr', {\n          class: {\n            'active': props.index % 2 == 1\n          }\n        }, [_c('td', {\n          staticClass: \"text-xs-center\"\n        }, [_c('div', [_c('span', [_vm._v(_vm._s(props.index + 1))])])]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\"\n        }, [_c('div', [_c('span', [_vm._v(_vm._s(props.item.dossierNo))]), _c('br'), _vm._v(\" \"), (!props.item.online) ? _c('span', {\n          staticStyle: {\n            \"color\": \"green\"\n          }\n        }, [_vm._v(\"Hồ sơ một cửa\")]) : _c('span', {\n          staticStyle: {\n            \"color\": \"blue\"\n          }\n        }, [_vm._v(\"Hồ sơ trực tuyến\")])])]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\"\n        }, [_c('div', [_c('span', [_vm._v(_vm._s(props.item.applicantName))])])]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\"\n        }, [_c('div', [_c('span', [_vm._v(_vm._s(props.item.wardName) + \", \" + _vm._s(props.item.districtName) + \", \" + _vm._s(props.item.cityName))])])]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\"\n        }, [_c('div', [_c('span', [_vm._v(\" Tiếp nhận: \" + _vm._s(props.item.receiveDate)), _c('br'), _vm._v(\"\\n                      Hẹn trả: \" + _vm._s(props.item.receiveDate)), _c('br'), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(props.item.dossierOverdue))])])])])])]\n      }\n    }])\n  })], 1)], 1)], 1)], 1) : _vm._e(), _vm._v(\" \"), _c('v-dialog', {\n    attrs: {\n      \"max-width\": \"900\",\n      \"transition\": \"fade-transition\"\n    },\n    model: {\n      value: (_vm.dialogPDF),\n      callback: function($$v) {\n        _vm.dialogPDF = $$v\n      },\n      expression: \"dialogPDF\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(\"File đính kèm\")]), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"mx-0 my-0 absolute__btn_panel mr-2\",\n    attrs: {\n      \"icon\": \"\",\n      \"dark\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialogPDF = false\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"clear\")])], 1), _vm._v(\" \"), (_vm.dialogPDFLoading) ? _c('div', {\n    staticStyle: {\n      \"min-height\": \"600px\",\n      \"text-align\": \"center\",\n      \"margin\": \"auto\",\n      \"padding\": \"25%\"\n    }\n  }, [_c('v-progress-circular', {\n    attrs: {\n      \"size\": 100,\n      \"width\": 1,\n      \"color\": \"primary\",\n      \"indeterminate\": \"\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('iframe', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.dialogPDFLoading),\n      expression: \"!dialogPDFLoading\"\n    }],\n    staticStyle: {\n      \"overflow\": \"auto\",\n      \"min-height\": \"600px\"\n    },\n    attrs: {\n      \"id\": \"dialogPDFPreview\",\n      \"src\": \"\",\n      \"type\": \"application/pdf\",\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"frameborder\": \"0\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', [(_vm.btnStateVisible) ? _c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [(_vm.showFormBoSungThongTinNgan) ? _c('form-bo-sung-thong-tin', {\n    ref: \"formBoSungThongTinNgan\",\n    attrs: {\n      \"dossier_id\": Number(_vm.id),\n      \"action_id\": Number(_vm.actionIdCurrent)\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showPhanCongNguoiThucHien) ? _c('phan-cong', {\n    ref: \"phancong\",\n    attrs: {\n      \"type\": _vm.type_assign\n    },\n    model: {\n      value: (_vm.assign_items),\n      callback: function($$v) {\n        _vm.assign_items = $$v\n      },\n      expression: \"assign_items\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showTraKetQua) ? _c('tra-ket-qua', {\n    attrs: {\n      \"resultFiles\": _vm.returnFiles\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showThuPhi) ? _c('thu-phi', {\n    attrs: {\n      \"viaPortal\": _vm.viaPortalDetail\n    },\n    model: {\n      value: (_vm.payments),\n      callback: function($$v) {\n        _vm.payments = $$v\n      },\n      expression: \"payments\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showKyPheDuyetTaiLieu) ? _c('ky-duyet', {\n    ref: \"kypheduyettailieu\",\n    attrs: {\n      \"detailDossier\": _vm.thongTinChiTietHoSo\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showYkienCanBoThucHien) ? _c('y-kien-can-bo', {\n    ref: \"ykiencanbo\",\n    attrs: {\n      \"user_note\": _vm.userNote\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"loading\": _vm.loadingActionProcess,\n      \"disabled\": _vm.loadingActionProcess\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.processAction()\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"save\")]), _vm._v(\" \\n        Xác nhận\\n        \"), _c('span', {\n    attrs: {\n      \"slot\": \"loader\"\n    },\n    slot: \"loader\"\n  }, [_vm._v(\"Loading...\")])], 1), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.goBack()\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"undo\")]), _vm._v(\" \\n        Quay lại\\n      \")], 1)], 1) : _vm._e(), _vm._v(\" \"), (!_vm.btnStateVisible) ? _c('v-alert', {\n    attrs: {\n      \"outline\": \"\",\n      \"color\": \"success\",\n      \"icon\": \"check_circle\",\n      \"value\": true\n    }\n  }, [_vm._v(\"\\n      Thực hiện thành công!\\n    \")]) : _vm._e()], 1), _vm._v(\" \"), _c('v-dialog', {\n    attrs: {\n      \"scrollable\": \"\",\n      \"persistent\": \"\",\n      \"max-width\": \"700px\"\n    },\n    model: {\n      value: (_vm.dialog_statusAction),\n      callback: function($$v) {\n        _vm.dialog_statusAction = $$v\n      },\n      expression: \"dialog_statusAction\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(\"\\n        Trạng thái xử lý\\n      \")]), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"mx-0 my-0 absolute__btn_panel mr-2\",\n    attrs: {\n      \"icon\": \"\",\n      \"dark\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.closeDialogStatusAction($event)\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"clear\")])], 1), _vm._v(\" \"), _c('v-card-text', {\n    staticStyle: {\n      \"max-height\": \"350px\"\n    }\n  }, _vm._l((_vm.dossierSelected), function(item, index) {\n    return _c('div', {\n      key: item.dossierId\n    }, [_c('v-layout', {\n      staticClass: \"py-1 align-center row-list-style\",\n      staticStyle: {\n        \"border-bottom\": \"1px solid #ddd\",\n        \"position\": \"relative\"\n      },\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      attrs: {\n        \"xs11\": \"\"\n      }\n    }, [_c('span', {\n      staticClass: \"text-bold\",\n      staticStyle: {\n        \"position\": \"absolute\"\n      }\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"ml-4\"\n    }, [_c('span', {\n      staticClass: \"text-bold\"\n    }, [_vm._v(_vm._s(item.dossierNo))]), _vm._v(\" - \" + _vm._s(item.applicantName))])]), _vm._v(\" \"), _c('v-flex', {\n      staticClass: \"text-right\",\n      attrs: {\n        \"xs1\": \"\"\n      }\n    }, [(item.statusAction) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-icon', {\n      attrs: {\n        \"slot\": \"activator\",\n        \"size\": \"20\",\n        \"color\": \"primary\"\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"\\n                  check\\n                \")]), _vm._v(\" \"), _c('span', [_vm._v(\"Thành công\")])], 1) : _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-icon', {\n      attrs: {\n        \"slot\": \"activator\",\n        \"size\": \"20\",\n        \"color\": \"red darken-3\"\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"\\n                  block\\n                \")]), _vm._v(\" \"), _c('span', [_vm._v(\"Thất bại\")])], 1)], 1)], 1)], 1)\n  })), _vm._v(\" \"), _c('v-card-actions', [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"loading\": _vm.loadingAction,\n      \"disabled\": _vm.loadingAction\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.processAction()\n      }\n    }\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"20\"\n    }\n  }, [_vm._v(\"refresh\")]), _vm._v(\" \\n          Thử lại\\n          \"), _c('span', {\n    attrs: {\n      \"slot\": \"loader\"\n    },\n    slot: \"loader\"\n  }, [_vm._v(\"Loading...\")])], 1), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"red\",\n      \"dark\": \"\",\n      \"loading\": _vm.loadingAction,\n      \"disabled\": _vm.loadingAction\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.closeDialogStatusAction($event)\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"undo\")]), _vm._v(\" \\n          Thoát\\n          \"), _c('span', {\n    attrs: {\n      \"slot\": \"loader\"\n    },\n    slot: \"loader\"\n  }, [_vm._v(\"Loading...\")])], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-b51162c2\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-b51162c2\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/XuLyHoSo.vue\n// module id = 751\n// module chunks = 6"],"sourceRoot":""}