webpackJsonp([1],{460:function(e,t,i){var a=i(182)(i(468),i(472),null,null);a.options.__file="d:\\FDS_OPENCPS\\front-end-v2.1\\frontend-opencps-v2.1\\onegate_21_kios\\src\\components\\TraCuuThuTuc.vue",a.esModule&&Object.keys(a.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] TraCuuThuTuc.vue: functional components are not supported with templates, they should use render functions."),e.exports=a.exports},468:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(80),n=i(60);i.n(n);t.default={props:[],components:{},data:function(){return{loading:!1,loadingAction:!1,serviceNameKey:"",listLinhVuc:[],linhVucSelected:"",listMucDo:[],levelSelected:"",listThuTuc:[],govAgencyList:[],serviceItemTotal:0}},computed:{},created:function(){this.$nextTick(function(){var e=this,t=e.$router.history.current,i=t.query;e.serviceNameKey=i.hasOwnProperty("serviceName")?i.serviceName:"",e.levelSelected=i.hasOwnProperty("level")?Number(i.level):"",e.linhVucSelected=i.hasOwnProperty("domain")?i.domain:"",e.loading=!0,e.listThuTuc=[],e.$store.dispatch("getDomainLists").then(function(t){e.listLinhVuc=t}),e.$store.dispatch("getLevelLists").then(function(t){e.listMucDo=t}),e.$store.dispatch("getGovAgency").then(function(t){e.govAgencyList=t}),e.doLoadingThuTuc()})},watch:{$route:function(e,t){var i=this,a=(e.params,e.query);i.serviceNameKey=a.hasOwnProperty("serviceName")?a.serviceName:"",i.levelSelected=a.hasOwnProperty("level")?Number(a.level):"",i.linhVucSelected=a.hasOwnProperty("domain")?a.domain:"",i.doLoadingThuTuc()}},methods:{filterServiceinfos:function(e){var t=this,i=t.$router.history.current,a=i.query,n="?";"refesh"===e&&(t.serviceNameKey="",t.levelSelected="",t.linhVucSelected=""),a.serviceName=t.serviceNameKey?t.serviceNameKey:"",a.level=t.levelSelected?t.levelSelected:"",a.domain=t.linhVucSelected?t.linhVucSelected:"";for(var l in a)""!==a[l]&&"undefined"!==a[l]&&void 0!==a[l]&&null!==a[l]&&(n+=l+"="+a[l]+"&");t.$router.push({path:i.path+n,query:{renew:Math.floor(100*Math.random())+1}})},doLoadingThuTuc:function(){var e=this;e.listThuTuc=[],e.loading=!0;var t=a.a.history.current.query,i=null;i={serviceName:t.hasOwnProperty("serviceName")?t.serviceName:"",level:t.hasOwnProperty("level")?t.level:"",domain:t.hasOwnProperty("domain")?t.domain:""},e.$store.dispatch("getServiceLists",i).then(function(t){e.loading=!1,e.listThuTuc=t.data,e.serviceItemTotal=t.total}).catch(function(t){e.loading=!1,e.listThuTuc=[],e.serviceItemTotal=0})},viewDetail:function(e){a.a.push("/tra-cuu-thu-tuc/"+e.serviceInfoId)},checkAgency:function(e){var t=this,i=void 0;return i=t.listThuTuc.filter(function(t){return t.administrationCode===e.administrationCode}),i.length>0},checkDomain:function(e){var t=this,i=void 0;return i=t.listThuTuc.filter(function(t){return t.domainCode===e.domainCode}),i.length>0},checkThuTuc:function(e,t,i){return i.administrationCode===e.administrationCode&&i.domainCode===t.domainCode},getColor:function(e){return 2===e?"green":3===e?"orange":4===e?"red":void 0}}}},472:function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"px-2 py-0"},[i("div",[i("v-layout",{staticClass:"px-0 py-0",attrs:{wrap:""}},[i("div",{staticStyle:{width:"calc(100% - 260px)"}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"pl-2 pr-2",attrs:{xs4:""}},[i("v-text-field",{attrs:{label:"Tên thủ tục",placeholder:"Nhấn để nhập tên thủ tục",clearable:""},model:{value:e.serviceNameKey,callback:function(t){e.serviceNameKey=t},expression:"serviceNameKey"}})],1),e._v(" "),i("v-flex",{staticClass:"pl-2 pr-2",attrs:{xs4:""}},[i("v-select",{attrs:{items:e.listLinhVuc,autocomplete:"",label:"Lĩnh vực",placeholder:"Chọn lĩnh vực","item-text":"domainName","item-value":"domainCode","hide-selected":!0,clearable:""},model:{value:e.linhVucSelected,callback:function(t){e.linhVucSelected=t},expression:"linhVucSelected"}})],1),e._v(" "),i("v-flex",{staticClass:"pl-2 pr-2",attrs:{xs4:""}},[i("v-select",{attrs:{items:e.listMucDo,autocomplete:"",label:"Mức độ",placeholder:"Chọn mức độ","item-text":"levelName","item-value":"level","hide-selected":!0,clearable:""},scopedSlots:e._u([{key:"item",fn:function(t){return[[i("v-list-tile-content",[i("v-list-tile-title",[e._v("Mức độ "+e._s(t.item.level))])],1)]]}}]),model:{value:e.levelSelected,callback:function(t){e.levelSelected=t},expression:"levelSelected"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"pt-2 text-center",staticStyle:{width:"260px"}},[i("v-btn",{staticStyle:{height:"30px",width:"110px"},attrs:{color:"primary",loading:e.loading,disabled:e.loading},on:{click:function(t){e.filterServiceinfos("filter")}}},[i("v-icon",{attrs:{size:"18"}},[e._v("search")]),e._v("\n           \n          Tra Cứu\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),e._v(" "),i("v-btn",{staticStyle:{height:"30px",width:"110px"},attrs:{outline:"",color:"primary",loading:e.loading,disabled:e.loading},on:{click:function(t){e.filterServiceinfos("refesh")}}},[i("v-icon",{attrs:{size:"18"}},[e._v("refresh")]),e._v("\n           \n          Làm Mới\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)]),e._v(" "),i("div",{staticClass:"my-3 pt-2 text-center",staticStyle:{height:"40px","background-color":"#d6e9f7"}},[i("span",{staticStyle:{color:"red"}},[e._v("Có "+e._s(e.serviceItemTotal)+" kết quả được tìm thấy")])]),e._v(" "),e.loading?i("content-placeholders",{staticClass:"mt-3"},[i("content-placeholders-text",{attrs:{lines:10}})],1):i("div",{staticClass:"overflowContainer"},e._l(e.govAgencyList,function(t,a){return e.checkAgency(t)?i("div",{key:a,staticClass:"mb-3 main-header"},[i("v-expansion-panel",{staticClass:"expansion-pl"},[i("v-expansion-panel-content",{attrs:{value:"1"}},[i("div",{staticClass:"pl-2",attrs:{slot:"header"},slot:"header"},[e._v("\n              "+e._s(t.administrationName)+"\n            ")]),e._v(" "),e._l(e.listLinhVuc,function(a,n){return e.checkDomain(a)?i("v-card",{key:n,staticClass:"sub-header"},[i("v-expansion-panel",{staticClass:"expansion-pl"},[i("v-expansion-panel-content",{attrs:{value:"1"}},[i("div",{staticClass:"pl-4",attrs:{slot:"header"},slot:"header"},[e._v("\n                    "+e._s(a.domainName)+"\n                  ")]),e._v(" "),i("v-card",{staticClass:"list-bdb"},e._l(e.listThuTuc,function(n,l){return e.checkThuTuc(t,a,n)?i("div",{key:l,staticClass:"pl-4 pr-2 py-1 boder-bottom"},[i("v-layout",{staticClass:"px-0 py-0",staticStyle:{"align-items":"center"},attrs:{wrap:""}},[i("div",{staticStyle:{width:"110px"}},[i("v-chip",{staticClass:"mx-0 my-0",staticStyle:{height:"25px"},attrs:{label:"",color:e.getColor(n.maxLevel),"text-color":"white"}},[e._v("\n                            Mức độ "+e._s(n.maxLevel)+"\n                          ")])],1),e._v(" "),i("div",{staticClass:"px-2",staticStyle:{width:"calc(100% - 220px)"}},[e._v(e._s(n.serviceName))]),e._v(" "),i("div",{staticStyle:{width:"110px"}},[i("v-btn",{staticClass:"mx-0",staticStyle:{width:"100%"},attrs:{color:"primary",loading:e.loading,disabled:e.loading},on:{click:function(t){e.viewDetail(n)}}},[e._v("\n                            Chi tiết\n                            "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])],1)])],1):e._e()}))],1)],1)],1):e._e()})],2)],1)],1):e._e()}))],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0}});
//# sourceMappingURL=1.28dfc8aa393f949309ef.js.map