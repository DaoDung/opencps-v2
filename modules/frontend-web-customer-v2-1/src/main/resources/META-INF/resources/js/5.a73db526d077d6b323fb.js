webpackJsonp([5,7,8,9,11,15,20,22,24,25,26,27],{212:function(t,e,i){var n=i(138)(i(643),i(660),null,null);t.exports=n.exports},215:function(t,e,i){i(665);var n=i(138)(i(661),i(667),null,null);t.exports=n.exports},217:function(t,e,i){i(666);var n=i(138)(i(662),i(668),"data-v-7cc31a58",null);t.exports=n.exports},219:function(t,e,i){i(683);var n=i(138)(i(671),i(688),null,null);t.exports=n.exports},220:function(t,e,i){i(682);var n=i(138)(i(672),i(686),null,null);t.exports=n.exports},221:function(t,e,i){var n=i(138)(i(673),i(687),null,null);t.exports=n.exports},222:function(t,e,i){var n=i(138)(i(674),i(689),null,null);t.exports=n.exports},228:function(t,e,i){var n=i(138)(i(691),i(703),null,null);t.exports=n.exports},229:function(t,e,i){var n=i(138)(i(692),i(700),null,null);t.exports=n.exports},230:function(t,e,i){var n=i(138)(i(693),i(704),null,null);t.exports=n.exports},231:function(t,e,i){var n=i(138)(i(694),i(701),null,null);t.exports=n.exports},254:function(t,e,i){var n=i(138)(i(740),i(756),null,null);t.exports=n.exports},515:function(t,e,i){var n=i(20),a=i(30),o=i(141),s=i(516),r=i(57).f;t.exports=function(t){var e=a.Symbol||(a.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||r(e,t,{value:s.f(t)})}},516:function(t,e,i){e.f=i(19)},517:function(t,e,i){var n=i(225),a=i(146).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},518:function(t,e,i){t.exports={default:i(646),__esModule:!0}},519:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var a=i(645),o=n(a),s=i(644),r=n(s),l="function"==typeof r.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};e.default="function"==typeof r.default&&"symbol"===l(o.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":l(t)}},643:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_jquery__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_1_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__),__WEBPACK_IMPORTED_MODULE_2_toastr__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_2_toastr___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_toastr__);__webpack_exports__.default={props:{onlyView:{type:Boolean,default:function(){return!1}},id:{type:String,default:function(){return"nm"}},partTypes:{type:Array,default:function(){return[1,3]}},checkInput:{type:Number,default:function(){return 0}}},data:function(){return{dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],sampleCount:0,fileMarkItems:[{text:"Không có",value:0},{text:"Bản chụp",value:1},{text:"Bản sao",value:2},{text:"Bản gốc",value:3}],fileCheckItems:[{text:"Chưa kiểm tra",value:0},{text:"Đạt",value:1},{text:"Không đạt",value:2}],fileTemplateItems:[]}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){return this.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData}},mounted:function(){var t=this;t.page=1,t.$nextTick(function(){})},methods:{resetCounterTemplate:function(t,e){t.commit,t.state;this.dossierTemplateItems.forEach(function(t){t.partNo===e.partNo&&(t.hasForm?t.count=1:t.count=0)})},recountFileTemplates:function(){var t=this;t.dossierTemplateItems.forEach(function(e){e.count=0,t.dossierFilesItems.forEach(function(t){e.partNo!==t.dossierPartNo||t.eForm||e.count++})})},initData:function(t){var e=this,i=[];null!==t.sampleCount&&void 0!==t.sampleCount&&"undefined"!==t.sampleCount&&(e.sampleCount=t.sampleCount),i.push(e.$store.dispatch("loadDossierTemplates",t)),i.push(e.$store.dispatch("loadDossierMark",t)),i.push(e.$store.dispatch("loadDossierFiles",t.dossierId)),i.push(e.$store.dispatch("getServiceInfo",{serviceInfoId:t.serviceCode})),e.thongTinHoSo=t,__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.all(i).then(function(t){var i=t[0],n=t[1],a=t[2],o=[];t[3].fileTemplates&&(Array.isArray(t[3].fileTemplates)?o=t[3].fileTemplates:o.push(t[3].fileTemplates));var s=e.mergeDossierTemplateVsDossierFiles(i,a);s=e.mergeDossierTemplateVsDossierMark(s,n),s=e.mergeDossierTemplateVsFileTemplates(s,o),e.dossierTemplateItems=s,e.dossierFilesItems=a,e.dossierMarksItems=n,e.fileTemplateItems=o,setTimeout(function(t){e.genAllAlpacaForm(a,s),e.recountFileTemplates()},500)}).catch(function(t){})},genAllAlpacaForm:function(t,e){var i=this;if(t.length>0){var n=t.filter(function(t){return t.eForm}),a=e.filter(function(t){return t.hasForm&&i.partTypes.includes(t.partType)});n.length>0?n.forEach(function(t){t.eForm&&i.$store.dispatch("loadAlpcaForm",t)}):e.forEach(function(t){t.hasForm&&i.partTypes.includes(t.partType)&&(t.templateFileNo=i.thongTinHoSo.dossierTemplateNo,i.showAlpacaJSFORM(t))}),a.length!==n.length&&a.forEach(function(t){-1===n.findIndex(function(e){return t.partNo===e.dossierPartNo})&&(t.templateFileNo=i.thongTinHoSo.dossierTemplateNo,i.showAlpacaJSFORM(t))})}else e.forEach(function(t){t.hasForm&&i.partTypes.includes(t.partType)&&(t.templateFileNo=i.thongTinHoSo.dossierTemplateNo,i.showAlpacaJSFORM(t))})},postDossierMark:function(t,e){var i=this;t.dossierId=i.thongTinHoSo.dossierId,i.$store.dispatch("postDossierMark",t).then(function(t){}).catch(function(t){})},mergeDossierTemplateVsDossierFiles:function(t,e){var i=this;return 0!==e.length?t.forEach(function(t){var n=e.find(function(e){return t.partNo===e.dossierPartNo&&i.partTypes.includes(t.partType)&&e.eForm});n?t.daKhai=!0:!n&&t.hasForm&&(t.daKhai=!1)}):t.forEach(function(t){t.hasForm&&(t.daKhai=!1)}),t},mergeDossierTemplateVsDossierMark:function(t,e){return 0!==e.length?t.map(function(t){t.count=0,t.stateEditFileCheck=!1;var i=e.find(function(e){return e.dossierPartNo===t.partNo});return null!==i&&void 0!==i?(t.fileMark=i.fileMark,t.fileComment=i.fileComment,t.fileCheck=i.fileCheck):(t.fileMark=0,t.fileComment="",t.fileCheck=0),t}):t&&t.forEach(function(t){t.stateEditFileCheck=!1,t.count=0,t.fileMark=0,t.fileComment="",t.fileCheck=0,t.stateEditFileCheck=!1}),t},mergeDossierTemplateVsFileTemplates:function(t,e){return 0!==e.length?t.map(function(t){var i=e.find(function(e){return e.fileTemplateNo===t.fileTemplateNo});return t.hasFileTemp=null!==i&&void 0!==i?i.fileTemplateNo:"",t}):t&&t.forEach(function(t){t.hasFileTemp=""}),t},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item.dossierId=vm.thongTinHoSo.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){__WEBPACK_IMPORTED_MODULE_1_jquery___default()("#formAlpaca"+item.partNo+vm.id).empty();var formScript,formData;formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,__WEBPACK_IMPORTED_MODULE_1_jquery___default()("#formAlpaca"+item.partNo+vm.id).alpaca(formScript)})})},saveAlpacaForm:function(t,e){var i=this,n=i.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});n?(n.dossierId=i.thongTinHoSo.dossierId,n.id=i.id,i.$store.dispatch("putAlpacaForm",n).then(function(t){}).catch(function(t){__WEBPACK_IMPORTED_MODULE_2_toastr___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")})):(t.dossierId=i.thongTinHoSo.dossierId,t.id=i.id,i.$store.dispatch("postEform",t).then(function(t){i.dossierTemplateItems[e].daKhai=!0,i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(t){i.dossierFilesItems=t}).catch(function(t){__WEBPACK_IMPORTED_MODULE_2_toastr___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")})}).catch(function(t){__WEBPACK_IMPORTED_MODULE_2_toastr___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")}))},onDeleteAttackFiles:function(t){var e=this;confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?")&&e.dossierFilesItems.forEach(function(i){i.dossierPartNo===t.partNo&&(i.dossierId=e.thongTinHoSo.dossierId,e.$store.dispatch("deleteAttackFiles",i).then(function(i){e.resetCounterTemplate(t),e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId)}).catch(function(t){}))})},pickFile:function(t){this.stateAddFileOther=!1,document.getElementById("file"+t.partNo).click()},onUploadSingleFile:function(t,e){var i=this;if(i.dossierTemplatesItemSelect=e,i.progressUploadPart=e.partNo,e.dossierId=i.thongTinHoSo.dossierId,e.dossierTemplateNo=i.thongTinHoSo.dossierTemplateNo,3!==e.partType)i.$store.dispatch("uploadSingleFile",e).then(function(t){i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(t){i.dossierFilesItems=t,i.recountFileTemplates()})}).catch(function(t){i.progressUploadPart=""});else{if(0===__WEBPACK_IMPORTED_MODULE_1_jquery___default()("#file"+e.partNo)[0].files.length)return void(i.progressUploadPart="");i.partView=e.partNo,i.stateView=!0,i.dialogAddOtherTemp=!0}},loadAlpcaForm:function(t){var e=this,i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});i?(i.id=e.id,e.$store.dispatch("loadAlpcaForm",i)):e.dossierTemplateItems.forEach(function(i){i.hasForm&&t.partNo===i.partNo&&(i.templateFileNo=e.thongTinHoSo.dossierTemplateNo,e.showAlpacaJSFORM(i))})},deleteSingleFileEform:function(t,e){var i=this;confirm("Bạn có muốn xóa?")&&(i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&(e.dossierId=i.thongTinHoSo.dossierId,i.$store.dispatch("deleteDossierFile",e).then(function(e){i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(e){i.dossierFilesItems=e,i.recountFileTemplates();var n=i.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});n&&(i.fileViews=n)})}))}),i.dossierTemplateItems[e].daKhai=!1)},previewFileEfom:function(t,e){var i=this;i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&(e.dossierId=i.thongTinHoSo.dossierId,i.dialogPDFLoading=!0,i.dialogPDF=!0,i.onlyView?i.$store.dispatch("viewFile",e).then(function(t){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+i.id).src=t}):(e.id=i.id,i.$store.dispatch("putAlpacaForm",e).then(function(t){setTimeout(function(){i.$store.dispatch("viewFile",e).then(function(t){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+i.id).src=t})},1e3)}).catch(function(t){__WEBPACK_IMPORTED_MODULE_2_toastr___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")})))})},deleteSingleFile:function(t,e){var i=this;confirm("Bạn có muốn xóa?")&&(t.dossierId=i.thongTinHoSo.dossierId,i.$store.dispatch("deleteDossierFile",t).then(function(n){i.fileViews.splice(e,1),i.stateView=!0,i.partView=t.dossierPartNo,i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(t){i.dossierFilesItems=t,i.recountFileTemplates()})}).catch(function(t){__WEBPACK_IMPORTED_MODULE_2_toastr___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")}))},viewFile:function(t){var e=this,i=this;i.dossierFilesItems.forEach(function(n){n.dossierId=i.thongTinHoSo.dossierId,n.dossierPartNo===t.partNo&&e.$store.dispatch("viewFile",n)})},checkPartType3:function(){var t=this;if(0!==t.dossierTemplateItems.length)for(var e=0;e<t.dossierTemplateItems.length;e++)if(3===t.dossierTemplateItems[e].partType)return!0;return!1},viewFile2:function(t){var e=this;if(0!==t.fileSize)if("doc"===t.fileType||"docx"===t.fileType||"xsl"===t.fileType||"zip"===t.fileType||"rar"===t.fileType){var i=e.initDataResource.dossierApi+"/"+e.thongTinHoSo.dossierId+"/files/"+t.referenceUid;window.open(i)}else e.dialogPDFLoading=!0,e.dialogPDF=!0,t.dossierId=e.thongTinHoSo.dossierId,e.$store.dispatch("viewFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t})},viewFileWithPartNo:function(t){var e=this;if(e.dossierFilesItems){var i=e.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});if(!i)return;e.fileViews=i,e.partView!==t.partNo?(e.stateView=!0,e.partView=t.partNo):(e.stateView=!e.stateView,e.partView=t.partNo)}},saveMark:function(){var t=this;t.dossierTemplateItems&&t.dossierTemplateItems.forEach(function(e,i){1===e.partType&&(e.dossierId=t.thongTinHoSo.dossierId,t.$store.dispatch("postDossierMark",e))})},changeFileMark:function(t,e){var i=this,n=i.dossierTemplateItems[e];n.dossierId=i.thongTinHoSo.dossierId,n.fileMark=t,n.checkInput=i.checkInput,i.$store.dispatch("postDossierMark",n),i.dossierTemplateItems[e].fileMark=t},changeFileCheck:function(t,e){var i=this,n=i.dossierTemplateItems[e];if(n.dossierId=i.thongTinHoSo.dossierId,n.fileCheck=t,n.checkInput=i.checkInput,2===t)return void(n.stateEditFileCheck=!0);n.fileComment="",i.$store.dispatch("postDossierMark",n),i.dossierTemplateItems[e].fileCheck=t},changeFileComment:function(t,e){var i=this;null!==t.fileComment&&void 0!==t.fileComment&&""!==t.fileComment&&(t.dossierId=i.thongTinHoSo.dossierId,t.fileComment=t.fileComment,t.checkInput=i.checkInput,t.stateEditFileCheck=!t.stateEditFileCheck,i.$store.dispatch("postDossierMark",t),i.dossierTemplateItems[e].fileComment=t.fileComment)},checkStyle:function(t){var e=this;if(1===e.checkInput)return"calc(100% - 140px)";var i=0;return 1===e.originality||1!==t.partType||e.thongTinHoSo.online||1===e.checkInput||(i+=140),t.fileCheck>0&&(i+=20),e.onlyView||(i+=90),"calc(100% - "+i+"px)"},changeOtherDossierTemp:function(t){var e=this;if(3===e.originality&&e.stateAddFileOther)e.loadingAddOther=!0,e.$store.dispatch("uploadSingleOtherFile",{dossierId:e.thongTinHoSo.dossierId,displayName:t,partNo:e.dossierTemplatesItemSelect.partNo}).then(function(t){e.loadingAddOther=!1,e.dialogAddOtherTemp=!1,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then(function(t){e.dossierFilesItems=t})}).catch(function(t){e.loadingAddOther=!1});else{var i=e.dossierTemplatesItemSelect;i.dossierId=e.thongTinHoSo.dossierId,i.displayName=t,i.dossierTemplateNo=e.thongTinHoSo.dossierTemplateNo,e.$store.dispatch("uploadSingleFile",i).then(function(t){e.progressUploadPart="",e.dialogAddOtherTemp=!1,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then(function(t){if(e.dossierFilesItems=t,e.recountFileTemplates(),e.stateView&&e.dossierFilesItems){var i=e.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.dossierTemplatesItemSelect.partNo&&!t.eForm});i&&(e.fileViews=i)}})}).catch(function(t){e.progressUploadPart=""})}},downloadFileTemplate:function(t,e){var i=this;if(i.fileTemplateItems.length>0){var n=i.fileTemplateItems.find(function(e){return t.fileTemplateNo===e.fileTemplateNo});if(n){var a=i.initDataResource.serviceInfoApi+"/"+n.serviceCode+"/filetemplates/"+n.fileTemplateNo;window.open(a)}}},addOtherTemplate:function(){var t=this;t.$refs.form.validate()&&t.changeOtherDossierTemp(t.otherDossierTemplate)},editDisplayName:function(t,e){var i=this;i.dossierFileIdView!==t.dossierFileId?(i.dossierFileIdView=t.dossierFileId,i.stateEdit=!0):(i.dossierFileIdView=t.dossierFileId,i.stateEdit=!i.stateEdit)},cancelDialog:function(){var t=this;t.dialogAddOtherTemp=!1,t.progressUploadPart=""},addFileOther:function(t){var e=this;e.dialogAddOtherTemp=!0,e.stateAddFileOther=!0,e.dossierTemplatesItemSelect=t},changeDisplayName:function(t,e){var i=this,n={dossierId:i.thongTinHoSo.dossierId,value:value};i.$store.dispatch("changeDisplayNameFile",n).then(function(t){i.fileViews[e].displayName=t.displayName,i.stateEdit=!1}).catch(function(t){})}}}},644:function(t,e,i){t.exports={default:i(647),__esModule:!0}},645:function(t,e,i){t.exports={default:i(648),__esModule:!0}},646:function(t,e,i){i(655),t.exports=i(30).Object.keys},647:function(t,e,i){i(656),i(227),i(657),i(658),t.exports=i(30).Symbol},648:function(t,e,i){i(145),i(218),t.exports=i(516).f("iterator")},649:function(t,e,i){var n=i(139),a=i(213),o=i(211);t.exports=function(t){var e=n(t),i=a.f;if(i)for(var s,r=i(t),l=o.f,c=0;r.length>c;)l.call(t,s=r[c++])&&e.push(s);return e}},650:function(t,e,i){var n=i(74);t.exports=Array.isArray||function(t){return"Array"==n(t)}},651:function(t,e,i){var n=i(142)("meta"),a=i(59),o=i(73),s=i(57).f,r=0,l=Object.isExtensible||function(){return!0},c=!i(94)(function(){return l(Object.preventExtensions({}))}),d=function(t){s(t,n,{value:{i:"O"+ ++r,w:{}}})},p=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[n].i},u=function(t,e){if(!o(t,n)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[n].w},h=function(t){return c&&m.NEED&&l(t)&&!o(t,n)&&d(t),t},m=t.exports={KEY:n,NEED:!1,fastKey:p,getWeak:u,onFreeze:h}},652:function(t,e,i){var n=i(211),a=i(96),o=i(95),s=i(214),r=i(73),l=i(224),c=Object.getOwnPropertyDescriptor;e.f=i(58)?c:function(t,e){if(t=o(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(r(t,e))return a(!n.f.call(t,e),t[e])}},653:function(t,e,i){var n=i(95),a=i(517).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return a(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?r(t):a(n(t))}},654:function(t,e,i){var n=i(51),a=i(30),o=i(94);t.exports=function(t,e){var i=(a.Object||{})[t]||Object[t],s={};s[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",s)}},655:function(t,e,i){var n=i(98),a=i(139);i(654)("keys",function(){return function(t){return a(n(t))}})},656:function(t,e,i){"use strict";var n=i(20),a=i(73),o=i(58),s=i(51),r=i(226),l=i(651).KEY,c=i(94),d=i(147),p=i(97),u=i(142),h=i(19),m=i(516),f=i(515),v=i(649),g=i(650),_=i(39),y=i(59),C=i(95),x=i(214),b=i(96),T=i(216),w=i(653),A=i(652),k=i(57),S=i(139),F=A.f,P=k.f,D=w.f,I=n.Symbol,E=n.JSON,N=E&&E.stringify,$=h("_hidden"),O=h("toPrimitive"),B={}.propertyIsEnumerable,M=d("symbol-registry"),R=d("symbols"),H=d("op-symbols"),U=Object.prototype,L="function"==typeof I,K=n.QObject,j=!K||!K.prototype||!K.prototype.findChild,V=o&&c(function(){return 7!=T(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=F(U,e);n&&delete U[e],P(t,e,i),n&&t!==U&&P(U,e,n)}:P,q=function(t){var e=R[t]=T(I.prototype);return e._k=t,e},z=L&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},W=function(t,e,i){return t===U&&W(H,e,i),_(t),e=x(e,!0),_(i),a(R,e)?(i.enumerable?(a(t,$)&&t[$][e]&&(t[$][e]=!1),i=T(i,{enumerable:b(0,!1)})):(a(t,$)||P(t,$,b(1,{})),t[$][e]=!0),V(t,e,i)):P(t,e,i)},Y=function(t,e){_(t);for(var i,n=v(e=C(e)),a=0,o=n.length;o>a;)W(t,i=n[a++],e[i]);return t},G=function(t,e){return void 0===e?T(t):Y(T(t),e)},J=function(t){var e=B.call(this,t=x(t,!0));return!(this===U&&a(R,t)&&!a(H,t))&&(!(e||!a(this,t)||!a(R,t)||a(this,$)&&this[$][t])||e)},Q=function(t,e){if(t=C(t),e=x(e,!0),t!==U||!a(R,e)||a(H,e)){var i=F(t,e);return!i||!a(R,e)||a(t,$)&&t[$][e]||(i.enumerable=!0),i}},X=function(t){for(var e,i=D(C(t)),n=[],o=0;i.length>o;)a(R,e=i[o++])||e==$||e==l||n.push(e);return n},Z=function(t){for(var e,i=t===U,n=D(i?H:C(t)),o=[],s=0;n.length>s;)!a(R,e=n[s++])||i&&!a(U,e)||o.push(R[e]);return o};L||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=u(arguments.length>0?arguments[0]:void 0),e=function(i){this===U&&e.call(H,i),a(this,$)&&a(this[$],t)&&(this[$][t]=!1),V(this,t,b(1,i))};return o&&j&&V(U,t,{configurable:!0,set:e}),q(t)},r(I.prototype,"toString",function(){return this._k}),A.f=Q,k.f=W,i(517).f=w.f=X,i(211).f=J,i(213).f=Z,o&&!i(141)&&r(U,"propertyIsEnumerable",J,!0),m.f=function(t){return q(h(t))}),s(s.G+s.W+s.F*!L,{Symbol:I});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)h(tt[et++]);for(var it=S(h.store),nt=0;it.length>nt;)f(it[nt++]);s(s.S+s.F*!L,"Symbol",{for:function(t){return a(M,t+="")?M[t]:M[t]=I(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){j=!0},useSimple:function(){j=!1}}),s(s.S+s.F*!L,"Object",{create:G,defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),E&&s(s.S+s.F*(!L||c(function(){var t=I();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],a=1;arguments.length>a;)n.push(arguments[a++]);if(i=e=n[1],(y(e)||void 0!==t)&&!z(t))return g(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!z(e))return e}),n[1]=e,N.apply(E,n)}}),I.prototype[O]||i(52)(I.prototype,O,I.prototype.valueOf),p(I,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},657:function(t,e,i){i(515)("asyncIterator")},658:function(t,e,i){i(515)("observable")},659:function(t,e,i){!function(e,i){t.exports=i()}(0,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=".",e(e.s=9)}([function(t,e,i){"use strict";e.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(t,e,i){"use strict";var n=i(2),a=i(5),o=i(0);e.a=function(t,e){if(e.value){var s=i.i(a.a)(o.a,e.value);if("INPUT"!==t.tagName.toLocaleUpperCase()){var r=t.getElementsByTagName("input");1!==r.length||(t=r[0])}t.oninput=function(){var e=t.value.length-t.selectionEnd;t.value=i.i(n.a)(t.value,s),e=Math.max(e,s.suffix.length),e=t.value.length-e,e=Math.max(e,s.prefix.length+1),i.i(n.b)(t,e),t.dispatchEvent(i.i(n.c)("change"))},t.onfocus=function(){i.i(n.b)(t,t.value.length-s.suffix.length)},t.oninput(),t.dispatchEvent(i.i(n.c)("input"))}}},function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;"number"==typeof t&&(t=t.toFixed(s(e.precision)));var i=t.indexOf("-")>=0?"-":"",n=o(t),a=l(n,e.precision),r=p(a).split("."),u=r[0],h=r[1];return u=c(u,e.thousands),e.prefix+i+d(u,h,e.decimal)+e.suffix}function a(t,e){var i=t.indexOf("-")>=0?-1:1,n=o(t),a=l(n,e);return parseFloat(a)*i}function o(t){return p(t).replace(/\D+/g,"")||"0"}function s(t){return r(0,t,20)}function r(t,e,i){return Math.max(t,Math.min(e,i))}function l(t,e){var i=Math.pow(10,e);return(parseFloat(t)/i).toFixed(s(e))}function c(t,e){return t.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+e)}function d(t,e,i){return e?t+i+e:t}function p(t){return t?t.toString():""}function u(t,e){var i=function(){t.setSelectionRange(e,e)};t===document.activeElement&&(i(),setTimeout(i,1))}function h(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}var m=i(0);i.d(e,"a",function(){return n}),i.d(e,"d",function(){return a}),i.d(e,"b",function(){return u}),i.d(e,"c",function(){return h})},function(t,e,i){"use strict";function n(t,e){e&&Object.keys(e).map(function(t){r.a[t]=e[t]}),t.directive("money",s.a),t.component("money",o.a)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),o=i.n(a),s=i(1),r=i(0);i.d(e,"Money",function(){return o.a}),i.d(e,"VMoney",function(){return s.a}),i.d(e,"options",function(){return r.a}),i.d(e,"VERSION",function(){return l});var l="0.8.1";e.default=n,"undefined"!=typeof window&&window.Vue&&window.Vue.use(n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=i(0),o=i(2);e.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return a.a.precision}},decimal:{type:String,default:function(){return a.a.decimal}},thousands:{type:String,default:function(){return a.a.thousands}},prefix:{type:String,default:function(){return a.a.prefix}},suffix:{type:String,default:function(){return a.a.suffix}}},directives:{money:n.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(t,e){var n=i.i(o.a)(t,this.$props);n!==this.formattedValue&&(this.formattedValue=n)}}},methods:{change:function(t){this.$emit("input",this.masked?t.target.value:i.i(o.d)(t.target.value,this.precision))}}}},function(t,e,i){"use strict";e.a=function(t,e){return t=t||{},e=e||{},Object.keys(t).concat(Object.keys(e)).reduce(function(i,n){return i[n]=void 0===e[n]?t[n]:e[n],i},{})}},function(t,e,i){var n=i(7)(i(4),i(8),null,null);t.exports=n.exports},function(t,e){t.exports=function(t,e,i,n){var a,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(a=t,o=t.default);var r="function"==typeof o?o.options:o;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),i&&(r._scopeId=i),n){var l=r.computed||(r.computed={});Object.keys(n).forEach(function(t){var e=n[t];l[t]=function(){return e}})}return{esModule:a,exports:o,options:r}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:t.precision,decimal:t.decimal,thousands:t.thousands,prefix:t.prefix,suffix:t.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:t.formattedValue},on:{change:t.change}})},staticRenderFns:[]}},function(t,e,i){t.exports=i(3)}])})},660:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",[t._l(t.dossierTemplateItems,function(e,n){return t.partTypes.includes(e.partType)?i("div",{key:e.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[i("v-expansion-panel",{staticClass:"expaned__list__data"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:!1}},[i("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[i("div",{staticStyle:{"align-items":"center","min-height":"38px",background:"#fff","padding-left":"15px"},style:{width:t.checkStyle(e)}},[i("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex","min-height":"38px"},on:{click:function(i){t.loadAlpcaForm(e)}}},[i("div",{staticClass:"header__tphs"},[i("span",{staticClass:"text-bold"},[t._v(t._s(n+1)+".")]),t._v("  ")]),t._v(" "),i("div",{staticClass:"header__tphs"},[t._v("\n                  "+t._s(e.partName)+" "),e.required?i("span",{staticStyle:{color:"red"}},[t._v(" (*) ")]):t._e(),t._v("\n                    \n                  "),e.hasForm&&e.daKhai?i("v-tooltip",{attrs:{top:""}},[i("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),t._v(" "),i("span",[t._v("Biểu mẫu trực tuyến (Đã khai)")])]):t._e(),t._v(" "),e.hasForm&&!e.daKhai?i("v-tooltip",{attrs:{top:""}},[i("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),t._v(" "),i("span",[t._v("Biểu mẫu trực tuyến (Chưa khai)")])]):t._e(),t._v("\n                    \n                  "),!e.hasForm&&e.hasFileTemp?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(i){i.stopPropagation(),t.downloadFileTemplate(e,n)}},slot:"activator"},[t._v("save_alt")]),t._v(" "),i("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),t._v(" "),i("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?i("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},model:{value:e.fileComment,callback:function(i){t.$set(e,"fileComment",i)},expression:"item.fileComment"}}):t._e(),t._v(" "),1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){i.stopPropagation(),t.changeFileComment(e,n)}},slot:"activator"},[i("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),t._v(" "),i("span",[t._v("Gửi")])],1):t._e()],1),t._v(" "),e.fileComment&&!e.stateEditFileCheck?i("i",{staticStyle:{"font-size":"10px",color:"#0d71bb","margin-left":"10px"}},[t._v(t._s(e.fileComment))]):t._e(),t._v(" "),e.fileComment&&!e.stateEditFileCheck&&1===t.checkInput?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.stateEditFileCheck=!e.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),t._v(" "),i("span",[t._v("Chỉnh sửa ý kiến")])],1):t._e(),t._v(" "),t._l(t.dossierFilesItems,function(n,a){return e.partNo!==n.dossierPartNo||n.eForm?t._e():i("div",{key:a},[i("div",{staticStyle:{width:"calc(100% - 370px)",display:"flex","align-items":"center","min-height":"38px",background:"#fff","padding-left":"15px","font-size":"12px"}},[i("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(n)}}},[0!==n.fileSize?i("v-icon",[t._v("attach_file")]):t._e(),t._v("\n                    "+t._s(n.displayName)+" - \n                    "),i("i",[t._v(t._s(n.modifiedDate))])],1),t._v(" "),t.onlyView?t._e():i("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.deleteSingleFile(n,a)}}},[i("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)])})],2)]),t._v(" "),e.hasForm?i("v-card",[i("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[i("v-layout",{attrs:{wrap:""}},[t.stateView?t._e():i("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[e.hasForm&&!t.onlyView&&1!==t.checkInput?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){t.saveAlpacaForm(e,n)}}},[t._v("Lưu lại")]):t._e(),t._v(" "),e.daKhai&&e.hasForm&&!t.onlyView&&1!==t.checkInput?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){t.deleteSingleFileEform(e,n)}}},[t._v("Xóa")]):t._e(),t._v(" "),e.daKhai&&e.hasForm?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){t.previewFileEfom(e,n)}}},[t._v("Preview")]):t._e(),t._v(" "),!t.onlyView||e.daKhai?i("div",{class:{no_acction__event:t.onlyView},attrs:{id:"formAlpaca"+e.partNo+t.id}}):t._e()],1)],1)],1)],1):t._e()],1)],1),t._v(" "),i("div",{staticClass:"absolute__btn group__thanh_phan pr-3 mr-1"},[t.loading?i("content-placeholders",{staticClass:"mt-1"},[i("content-placeholders-text",{attrs:{lines:1}})],1):i("v-layout",{attrs:{row:"",wrap:""}},[1===t.originality||1!==e.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():i("v-flex",{staticClass:"layout wrap",staticStyle:{width:"110px"}},[i("v-select",{attrs:{items:t.fileMarkItems,disabled:t.onlyView},on:{change:function(e){t.changeFileMark(e,n)}},model:{value:t.dossierTemplateItems[n].fileMark,callback:function(e){t.$set(t.dossierTemplateItems[n],"fileMark",e)},expression:"dossierTemplateItems[index].fileMark"}})],1),t._v(" "),1===t.checkInput?i("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[i("v-select",{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(e){t.changeFileCheck(e,n)}},model:{value:t.dossierTemplateItems[n].fileCheck,callback:function(e){t.$set(t.dossierTemplateItems[n],"fileCheck",e)},expression:"dossierTemplateItems[index].fileCheck"}})],1):e.fileCheck>0?i("v-flex",{staticClass:"layout wrap",staticStyle:{width:"20px","align-items":"center","margin-left":"10px"}},[1===e.fileCheck?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("done")]),t._v(" "),i("span",[t._v("Đạt")])],1):2===e.fileCheck?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("close")]),t._v(" "),i("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),t._v(" "),1!==t.checkInput?i("v-flex",{class:{"text-xs-center":!t.onlyView,"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":"90px"}},[i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(i){t.onUploadSingleFile(i,e)}}}),t._v(" "),3!==e.partType||3!==t.originality||t.onlyView?t._e():i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){t.addFileOther(e)}},slot:"activator"},[i("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),t._v(" "),i("span",[t._v("Thêm giấy tờ khác")])],1),t._v(" "),t.progressUploadPart===e.partNo?i("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t.progressUploadPart===e.partNo||t.onlyView?t._e():i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){t.pickFile(e)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"16",color:"primary"}},[t._v("cloud_upload")])],1)],1),t._v(" "),i("span",[t._v("Tải file lên")])],1)],1):t._e()],1)],1)],1):t._e()}),t._v(" "),i("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(e){t.dialogAddOtherTemp=e},expression:"dialogAddOtherTemp"}},[i("v-card",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-card-title",{staticClass:"headline"},[t._v("Tên giấy tờ")]),t._v(" "),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[i("v-icon",[t._v("clear")])],1),t._v(" "),t.loadingAddOther?i("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):t._e(),t._v(" "),i("v-card-text",{staticClass:"pb-0 pt-4"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"px-2 pb-3",attrs:{xs12:""}},[i("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:t.otherDossierTemplate,callback:function(e){t.otherDossierTemplate=e},expression:"otherDossierTemplate"}})],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[t._v("\n              Quay lại\n            ")]),t._v(" "),i("v-btn",{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.addOtherTemplate(e)}}},[t._v("\n            Đồng ý\n            "),i("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),t._v(" "),i("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("File đính kèm")]),t._v(" "),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("clear")])],1),t._v(" "),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),t._v(" "),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},staticRenderFns:[]}},661:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(659);i.n(n);e.default={props:{payments:{type:Object,default:function(){}},viaPortal:{type:Number,default:function(){return 0}}},model:{prop:"payments"},data:function(){return{data_payment:{},money:{decimal:"",thousands:".",prefix:"",suffix:"",precision:0,masked:!1},totalFee:0,feeTamThu:0,feeTong:0,checkPaid:!0,activeEdit:!0}},directives:{money:n.VMoney},created:function(){var t=this;t.data_payment=t.payments,t.payments&&setTimeout(function(){var e=t.payments.feeAmount?Number(t.payments.feeAmount.toString().replace(/\./g,"")):0;if(1===t.payments.requestPayment){var i=t.payments.advanceAmount?Number(t.payments.advanceAmount.toString().replace(/\./g,"")):0;t.totalFee=i}else if(2===t.payments.requestPayment){var n=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0;t.totalFee=e+n}else{var a=t.payments.advanceAmount?Number(t.payments.advanceAmount.toString().replace(/\./g,"")):0,o=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0;t.feeTong=e+o,t.totalFee=e+o-a}t.totalFee<0&&(t.totalFee=0)},200)},methods:{changeFee:function(){var t=this,e=t.data_payment,i=e.feeAmount?Number(e.feeAmount.toString().replace(/\./g,"")):0;if(1===e.requestPayment){var n=Number(e.advanceAmount.toString().replace(/\./g,""));t.totalFee=n}else if(2===e.requestPayment){var a=Number(e.serviceAmount.toString().replace(/\./g,""));t.totalFee=i+a}else{var o=Number(e.advanceAmount.toString().replace(/\./g,"")),s=Number(e.serviceAmount.toString().replace(/\./g,""));t.feeTong=i+s,t.totalFee=i+s-o}t.totalFee<0&&(t.totalFee=0)},currency:function(t){if(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""},goBack:function(){window.history.back()}},filters:{}}},662:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(519),a=i.n(n),o={colorChecked:"#75C791",colorUnchecked:"#bfcbd9",cssColors:!1,labelChecked:"on",labelUnchecked:"off",width:50,height:22,margin:3},s=function(t,e){return"object"===(void 0===t?"undefined":a()(t))&&t.hasOwnProperty(e)},r=function(t){return t+"px"};e.default={name:"toggle-button",props:{title_checked:"",title_unchecked:"",value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},sync:{type:Boolean,default:!1},speed:{type:Number,default:300},color:{type:[String,Object],validator:function(t){return"object"===(void 0===t?"undefined":a()(t))?t.checked||t.unchecked:"string"==typeof t}},cssColors:{type:Boolean,default:!1},labels:{type:[Boolean,Object],default:!1,validator:function(t){return"object"===(void 0===t?"undefined":a()(t))?t.checked||t.unchecked:"boolean"==typeof t}},height:{type:Number,default:o.height},width:{type:Number,default:o.width}},computed:{className:function(){return["vue-js-switch",{toggled:this.toggled,disabled:this.disabled}]},ariaChecked:function(){return this.toggled.toString()},coreStyle:function(){return{width:r(this.width),height:r(this.height),backgroundColor:this.cssColors?null:this.colorCurrent,borderRadius:r(Math.round(this.height/2))}},maxWidth:function(){return{width:r(this.width)+"!important"}},buttonRadius:function(){return this.height-2*o.margin},distance:function(){return r(this.width-this.height+o.margin)},buttonStyle:function(){return{width:r(this.buttonRadius),height:r(this.buttonRadius),transition:"transform "+this.speed+"ms",transform:this.toggled?"translate3d("+this.distance+", 3px, 0px)":null}},labelStyle:function(){return{lineHeight:r(this.height)}},colorChecked:function(){var t=this.color;return"object"!==(void 0===t?"undefined":a()(t))?t||o.colorChecked:s(t,"checked")?t.checked:o.colorChecked},colorUnchecked:function(){var t=this.color;return s(t,"unchecked")?t.unchecked:o.colorUnchecked},colorCurrent:function(){return this.toggled?this.colorChecked:this.colorUnchecked},labelChecked:function(){return s(this.labels,"checked")?this.labels.checked:o.labelChecked},labelUnchecked:function(){return s(this.labels,"unchecked")?this.labels.unchecked:o.labelUnchecked}},watch:{value:function(t){this.sync&&(this.toggled=!!t)}},data:function(){return{toggled:!!this.value}},methods:{toggle:function(t){this.toggled=!this.toggled,this.$emit("input",this.toggled),this.$emit("change",{value:this.toggled,srcEvent:t})}}}},663:function(t,e,i){e=t.exports=i(512)(!0),e.push([t.i,".inputDisable,.inputDisable label{pointer-events:none}.inputDisable .input-group__details{display:none}.payment-info .input-group--disabled label{color:#000!important}","",{version:3,sources:["d:/FDS_OPENCPS/front-end-v2.1/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/FeeDetail.vue"],names:[],mappings:"AACA,kCACE,mBAAoB,CACrB,AACD,oCACE,YAAa,CACd,AACD,2CACE,oBAAsB,CACvB",file:"FeeDetail.vue",sourcesContent:["\n.inputDisable, .inputDisable label {\r\n  pointer-events: none\n}\n.inputDisable .input-group__details {\r\n  display: none\n}\n.payment-info .input-group--disabled label {\r\n  color: #000 !important\n}\r\n"],sourceRoot:""}])},664:function(t,e,i){e=t.exports=i(512)(!0),e.push([t.i,".vue-js-switch[data-v-7cc31a58]{display:inline-block;position:relative;overflow:hidden;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:10px;cursor:pointer}.vue-js-switch .v-switch-input[data-v-7cc31a58]{display:none}.vue-js-switch .v-switch-label[data-v-7cc31a58]{position:absolute;top:0;font-weight:600;color:#fff}.vue-js-switch .v-switch-label.v-left[data-v-7cc31a58]{left:10px}.vue-js-switch .v-switch-label.v-right[data-v-7cc31a58]{right:10px}.vue-js-switch .v-switch-core[data-v-7cc31a58]{display:block;position:relative;box-sizing:border-box;outline:0;margin:0;transition:border-color .3s,background-color .3s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vue-js-switch .v-switch-core .v-switch-button[data-v-7cc31a58]{display:block;position:absolute;overflow:hidden;top:0;left:0;transform:translate3d(3px,3px,0);border-radius:100%;background-color:#fff}.vue-js-switch.disabled[data-v-7cc31a58]{pointer-events:none;opacity:1}","",{version:3,sources:["d:/FDS_OPENCPS/front-end-v2.1/frontend-opencps-v2.1/onegate_21_fe/src/components/toggleButton.vue"],names:[],mappings:"AACA,gCACE,qBAAsB,AACtB,kBAAmB,AACnB,gBAAiB,AACjB,sBAAuB,AACvB,yBAA0B,AACvB,sBAAuB,AACtB,qBAAsB,AAClB,iBAAkB,AAC1B,eAAgB,AAChB,cAAe,CAChB,AACD,gDACE,YAAa,CACd,AACD,gDACE,kBAAmB,AACnB,MAAO,AACP,gBAAiB,AACjB,UAAY,CACb,AACD,uDACE,SAAU,CACX,AACD,wDACE,UAAW,CACZ,AACD,+CACE,cAAe,AACf,kBAAmB,AACnB,sBAAuB,AACvB,UAAW,AACX,SAAU,AACV,iDAAqD,AACrD,yBAA0B,AACvB,sBAAuB,AACtB,qBAAsB,AAClB,gBAAiB,CAC1B,AACD,gEACE,cAAe,AACf,kBAAmB,AACnB,gBAAiB,AACjB,MAAO,AACP,OAAQ,AACR,iCAAoC,AACpC,mBAAoB,AACpB,qBAAsB,CACvB,AACD,yCACE,oBAAqB,AACrB,SAAU,CACX",file:"toggleButton.vue",sourcesContent:["\n.vue-js-switch[data-v-7cc31a58] {\r\n  display: inline-block;\r\n  position: relative;\r\n  overflow: hidden;\r\n  vertical-align: middle;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none;\r\n  font-size: 10px;\r\n  cursor: pointer\n}\n.vue-js-switch .v-switch-input[data-v-7cc31a58] {\r\n  display: none\n}\n.vue-js-switch .v-switch-label[data-v-7cc31a58] {\r\n  position: absolute;\r\n  top: 0;\r\n  font-weight: 600;\r\n  color: white\n}\n.vue-js-switch .v-switch-label.v-left[data-v-7cc31a58] {\r\n  left: 10px\n}\n.vue-js-switch .v-switch-label.v-right[data-v-7cc31a58] {\r\n  right: 10px\n}\n.vue-js-switch .v-switch-core[data-v-7cc31a58] {\r\n  display: block;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  outline: 0;\r\n  margin: 0;\r\n  transition: border-color 0.3s, background-color 0.3s;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none\n}\n.vue-js-switch .v-switch-core .v-switch-button[data-v-7cc31a58] {\r\n  display: block;\r\n  position: absolute;\r\n  overflow: hidden;\r\n  top: 0;\r\n  left: 0;\r\n  transform: translate3d(3px, 3px, 0);\r\n  border-radius: 100%;\r\n  background-color: #fff\n}\n.vue-js-switch.disabled[data-v-7cc31a58] {\r\n  pointer-events: none;\r\n  opacity: 1\n}\r\n"],sourceRoot:""}])},665:function(t,e,i){var n=i(663);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(513)("35de3f22",n,!0)},666:function(t,e,i){var n=i(664);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(513)("120c24d1",n,!0)},667:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"payment-info",staticStyle:{width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v(" "),1===t.data_payment.requestPayment||5===t.data_payment.requestPayment?i("span",[t._v(t._s(t.data_payment.paymentFee))]):t._e(),t._v(" "),2===t.data_payment.requestPayment?i("span",[t._v("Lập phiếu thanh toán")]):t._e()]),t._v(" "),i("v-card",[i("v-card-text",{staticClass:"pb-1"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Lệ phí: ")])],1),t._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],class:t.data_payment.editable?"":"inputDisable",attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.feeAmount,callback:function(e){t.$set(t.data_payment,"feeAmount",e)},expression:"data_payment.feeAmount"}})],1),t._v(" "),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Phí: ")])],1),t._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],class:t.data_payment.editable?"":"inputDisable",attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.serviceAmount,callback:function(e){t.$set(t.data_payment,"serviceAmount",e)},expression:"data_payment.serviceAmount"}})],1),t._v(" "),i("v-flex",{attrs:{xs12:"",sm2:""}})],1)],1),t._v(" "),i("v-card-text",{staticClass:"pt-0"},[i("v-layout",{attrs:{wrap:""}},[1===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Tổng: ")])],1):t._e(),t._v(" "),1===t.data_payment.requestPayment?i("v-flex",{staticClass:"pt-2",attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),t._v(" "),1===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),t._v(" "),2===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Tổng: ")])],1):t._e(),t._v(" "),2===t.data_payment.requestPayment?i("v-flex",{staticClass:"pt-2",attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),t._v(" "),2===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),t._v(" "),5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Tổng: ")])],1):t._e(),t._v(" "),5===t.data_payment.requestPayment?i("v-flex",{staticClass:"pt-2",attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),t._v(" "),5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Đã tạm nộp: ")])],1):t._e(),t._v(" "),5===t.data_payment.requestPayment?i("v-flex",{staticClass:"pt-2",attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(Number(t.data_payment.advanceAmount.toString().replace(/\./g,"")).toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),t._v(" "),5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),t._v(" "),5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Còn phải nộp: ")])],1):t._e(),t._v(" "),5===t.data_payment.requestPayment?i("v-flex",{staticClass:"pt-2",attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),t._v(" "),5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e()],1),t._v(" "),i("v-layout",{staticStyle:{position:"relative"},attrs:{wrap:""}},[i("v-flex",{staticClass:"my-0 py-1",staticStyle:{width:"70px"}},[i("span",{staticClass:"red--text"},[t._v("* ")]),t._v(" Ghi chú:")]),t._v(" "),i("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[0==t.activeEdit?i("div",{staticClass:"pl-2"},[i("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",readonly:t.activeEdit,required:""},model:{value:t.data_payment.paymentNote,callback:function(e){t.$set(t.data_payment,"paymentNote",e)},expression:"data_payment.paymentNote"}})],1):t._e(),t._v(" "),t.activeEdit||""===t.data_payment.paymentNote?i("p",{staticClass:"px-2 my-0 py-1"},[t._v("\n                "+t._s(t.data_payment.paymentNote)+"   \n                "),1==t.activeEdit?i("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"blue",size:"20",title:"Sửa",grey:"","darken-4":""},on:{click:function(e){e.stopPropagation(),t.activeEdit=!1}}},[t._v("\n                  create\n                ")]):t._e()],1):t._e(),t._v(" "),i("span",{staticStyle:{position:"absolute",top:"15px",right:"10px"}},[0==t.activeEdit?i("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"green",size:"25",grey:"","darken-4":""},on:{click:function(e){e.stopPropagation(),t.activeEdit=!0}}},[t._v("\n                  check\n                ")]):t._e()],1)])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},668:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{class:t.className,style:t.maxWidth,attrs:{role:"checkbox",title:t.toggled?t.title_checked:t.title_unchecked,"aria-checked":t.ariaChecked}},[i("input",{staticClass:"v-switch-input",attrs:{type:"checkbox"},on:{change:function(e){return e.stopPropagation(),t.toggle(e)}}}),t._v(" "),i("div",{staticClass:"v-switch-core",style:t.coreStyle},[i("div",{staticClass:"v-switch-button",style:t.buttonStyle})]),t._v(" "),t.labels?[t.toggled?i("span",{staticClass:"v-switch-label v-left",style:t.labelStyle,domProps:{innerHTML:t._s(t.labelChecked)}}):i("span",{staticClass:"v-switch-label v-right",style:t.labelStyle,domProps:{innerHTML:t._s(t.labelUnchecked)}})]:t._e()],2)},staticRenderFns:[]}},669:function(t,e,i){"use strict";(function(t,e){var n=i(696),a=i.n(n),o=i(518),s=i.n(o),r=i(519),l=i.n(r);!function(n){"function"==typeof define&&i(237)?define(["jquery"],n):"object"===l()(e)&&e.exports?e.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?i(37):i(37)(t)),n(e),e}:n(t)}(function(e){var i={$el:null,commentsById:{},usersById:{},dataFetched:!1,currentSortKey:"",options:{},events:{click:"closeDropdowns","keydown [contenteditable]":"saveOnKeydown","focus [contenteditable]":"saveEditableContent","keyup [contenteditable]":"checkEditableContentForChange","paste [contenteditable]":"checkEditableContentForChange","input [contenteditable]":"checkEditableContentForChange","blur [contenteditable]":"checkEditableContentForChange","click .navigation li[data-sort-key]":"navigationElementClicked","click .navigation li.title":"toggleNavigationDropdown","click .commenting-field.main .textarea":"showMainCommentingField","click .commenting-field.main .close":"hideMainCommentingField","click .commenting-field .textarea":"increaseTextareaHeight","change .commenting-field .textarea":"increaseTextareaHeight textareaContentChanged","click .commenting-field:not(.main) .close":"removeCommentingField","click .commenting-field .send.enabled":"postComment","click .commenting-field .update.enabled":"putComment","click .commenting-field .delete.enabled":"deleteComment",'change .commenting-field .upload.enabled input[type="file"]':"fileInputChanged","click li.comment button.upvote":"upvoteComment","click li.comment button.delete.enabled":"deleteComment","click li.comment .hashtag":"hashtagClicked","click li.comment .ping":"pingClicked","click li.comment ul.child-comments .toggle-all":"toggleReplies","click li.comment button.reply":"replyButtonClicked","click li.comment button.edit":"editButtonClicked",dragenter:"showDroppableOverlay","dragenter .droppable-overlay":"handleDragEnter","dragleave .droppable-overlay":"handleDragLeaveForOverlay","dragenter .droppable-overlay .droppable":"handleDragEnter","dragleave .droppable-overlay .droppable":"handleDragLeaveForDroppable","dragover .droppable-overlay":"handleDragOverForOverlay","drop .droppable-overlay":"handleDrop","click .dropdown.autocomplete":"stopPropagation","mousedown .dropdown.autocomplete":"stopPropagation","touchstart .dropdown.autocomplete":"stopPropagation"},getDefaultOptions:function(){return{profilePictureURL:"",currentUserIsAdmin:!1,currentUserId:null,spinnerIconURL:"",upvoteIconURL:"",replyIconURL:"",uploadIconURL:"",attachmentIconURL:"",fileIconURL:"",noCommentsIconURL:"",noCommentsImptIconURL:"",textareaPlaceholderText:"Thêm bình luận mới",newestText:"Mới nhất",oldestText:"Cũ nhất",importantCmtText:"Ý kiến chính thức",popularText:"Phổ biến",attachmentsText:"Tệp đính kèm",sendText:"Gửi",replyText:"Trả lời",editText:"Sửa",editedText:"Đã sửa",youText:"You",saveText:"Ghi lại",deleteText:"Xoá",newText:"Mới",viewAllRepliesText:"Xem tất cả __replyCount__ trả lời",hideRepliesText:"Hide replies",noCommentsText:"Không có bình luận",noCommentsImportantText:"Không có ý kiến chính thức",noAttachmentsText:"Không có tệp đính kèm",attachmentDropText:"Kéo thả tệp để tải lên",textFormatter:function(t){return t},enableReplying:!0,enableEditing:!0,enableUpvoting:!0,enableDeleting:!0,enableAttachments:!1,enableHashtags:!1,enablePinging:!1,enableDeletingCommentWithReplies:!1,enableNavigation:!0,postCommentOnEnter:!1,forceResponsive:!1,readOnly:!1,defaultNavigationSortKey:"newest",highlightColor:"#2793e6",deleteButtonColor:"#C9302C",scrollContainer:this.$el,roundProfilePictures:!1,textareaRows:2,textareaRowsOnFocus:2,textareaMaxRows:5,maxRepliesVisible:2,fieldMappings:{id:"id",parent:"parent",created:"createdDate",modified:"modifiedDate",content:"content",file:"file",fileURL:"file_url",fileMimeType:"file_mime_type",pings:"pings",creator:"creator",fullname:"fullname",profileURL:"profile_url",profilePictureURL:"profile_picture_url",isNew:"is_new",createdByAdmin:"created_by_admin",createdByCurrentUser:"created_by_current_user",upvoteCount:"upvote_count",userHasUpvoted:"user_has_upvoted"},getUsers:function(t,e){t([])},getComments:function(t,e){t([])},postComment:function(t,e,i){e(t)},putComment:function(t,e,i){e(t)},deleteComment:function(t,e,i){e()},upvoteComment:function(t,e,i){e(t)},hashtagClicked:function(t){},pingClicked:function(t){},uploadAttachments:function(t,e,i){e(t)},refresh:function(){},timeFormatter:function(t){return new Date(t).toLocaleDateString()},appendNewComments:function(t,e,i){e([])}}},init:function(i,n){this.$el=e(n),this.$el.addClass("jquery-comments"),this.undelegateEvents(),this.delegateEvents(),function(e){(t.browser=t.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),e.browser.mobile&&this.$el.addClass("mobile"),this.options=e.extend(!0,{},this.getDefaultOptions(),i),this.options.readOnly&&this.$el.addClass("read-only"),this.currentSortKey=this.options.defaultNavigationSortKey,this.createCssDeclarations(),this.fetchDataAndRender()},delegateEvents:function(){this.bindEvents(!1)},undelegateEvents:function(){this.bindEvents(!0)},bindEvents:function(t){var i=t?"off":"on";for(var n in this.events){var a=n.split(" ")[0],o=n.split(" ").slice(1).join(" "),s=this.events[n].split(" ");for(var r in s)if(s.hasOwnProperty(r)){var l=this[s[r]];l=e.proxy(l,this),""==o?this.$el[i](a,l):this.$el[i](a,o,l)}}},fetchDataAndRender:function(){var t=this;setTimeout(function(){t.appendNewComments()},3e4),this.commentsById={},this.usersById={},this.$el.empty(),this.createHTML();var i=this.after(this.options.enablePinging?2:1,function(){t.dataFetched=!0,t.render()}),n=function(n){var a=n.map(function(e){return t.createCommentModel(e)});t.sortComments(a,"oldest"),e(a).each(function(e,i){t.addCommentToDataModel(i)}),i()};if(this.options.getComments(n,i),this.options.enablePinging){var a=function(n){e(n).each(function(e,i){t.usersById[i.id]=i}),i()};this.options.getUsers(a,i)}},fetchNext:function(){var t=this,i=this.createSpinner();this.$el.find("ul#comment-list").append(i);var n=function(n){e(n).each(function(e,i){t.createComment(i)}),i.remove()},a=function(){i.remove()};this.options.getComments(n,a)},createCommentModel:function(t){var e=this.applyInternalMappings(t);return e.childs=[],this.commentsById[e.id]=e,e},addCommentToDataModel:function(t){if(!(t.id in this.commentsById)&&(this.commentsById[t.id]=t,t.parent)){this.getOutermostParent(t.parent).childs.push(t.id)}},updateCommentModel:function(t){e.extend(this.commentsById[t.id],t)},render:function(){this.dataFetched&&(this.showActiveContainer(),this.createComments(),this.options.enableAttachments&&this.createAttachments(),this.createImportantComments(),this.$el.find("> .spinner").remove(),this.options.refresh())},showActiveContainer:function(){var t=this.$el.find(".navigation li[data-container-name].active"),e=t.data("container-name"),i=this.$el.find('[data-container="'+e+'"]');i.siblings("[data-container]").hide(),i.show()},createComments:function(){var t=this;this.$el.find("#comment-list").remove();var i=e("<ul/>",{id:"comment-list",class:"main"}),n=[],a=[];e(this.getComments()).each(function(t,e){null==e.parent?n.push(e):a.push(e)}),this.sortComments(n,this.currentSortKey),n.reverse(),e(n).each(function(e,n){t.addComment(n,i)}),this.sortComments(a,"oldest"),e(a).each(function(e,n){t.addComment(n,i)}),this.$el.find('[data-container="comments"]').prepend(i)},createAttachments:function(){var t=this;this.$el.find("#attachment-list").remove();var i=e("<ul/>",{id:"attachment-list",class:"main"}),n=this.getAttachments();this.sortComments(n,"newest"),n.reverse(),e(n).each(function(e,n){t.addAttachment(n,i)}),this.$el.find('[data-container="attachments"]').prepend(i)},createImportantComments:function(){var t=this;this.$el.find("#importantCmt-list").remove();var i=e("<ul/>",{id:"importantCmt-list",class:"main"}),n=this.getImportantCmt();this.sortComments(n,"newest"),n.reverse(),e(n).each(function(e,n){t.addImportantCmt(n,i)}),this.$el.find('[data-container="importantCmt"]').prepend(i)},addComment:function(t,e){e=e||this.$el.find("#comment-list");var i=this.createCommentElement(t);if(t.parent){var n=e.find('.comment[data-id="'+t.parent+'"]');this.reRenderCommentActionBar(t.parent);var a=n.parents(".comment").last();0==a.length&&(a=n);var o=a.find(".child-comments"),s=o.find(".commenting-field");s.length?s.before(i):o.append(i),this.updateToggleAllButton(a)}else e.prepend(i)},addAttachment:function(t,e){e=e||this.$el.find("#attachment-list");var i=this.createCommentElement(t);e.prepend(i)},addImportantCmt:function(t,e){e=e||this.$el.find("#importantCmt-list");var i=this.createCommentElement(t);e.prepend(i)},removeComment:function(t){var i=this,n=this.commentsById[t],a=this.getChildComments(n.id);if(e(a).each(function(t,e){i.removeComment(e.id)}),n.parent){var o=this.getOutermostParent(n.parent),s=o.childs.indexOf(n.id);o.childs.splice(s,1)}delete this.commentsById[t];var r=this.$el.find('li.comment[data-id="'+t+'"]'),l=r.parents("li.comment").last();r.remove(),this.updateToggleAllButton(l)},uploadAttachments:function(t,i){var n=this;i||(i=this.$el.find(".commenting-field.main"));var a=!i.hasClass("main"),o=t.length;if(o){var s=i.find(".upload"),r=i.find(".textarea");s.removeClass("enabled");var l=this.createSpinner(),c=this.createSpinner();this.$el.find("ul#attachment-list").prepend(l),a?i.before(c):this.$el.find("ul#comment-list").prepend(c);var d=function(t){e(t).each(function(t,e){var i=n.createCommentModel(e);n.addCommentToDataModel(i),n.addComment(i),n.addAttachment(i)}),t.length==o&&0==n.getTextareaContent(r).length&&i.find(".close").trigger("click"),s.addClass("enabled"),c.remove(),l.remove()},p=function(){s.addClass("enabled"),c.remove(),l.remove()},u=[];e(t).each(function(t,e){var i=n.createCommentJSON(r);i.id+="-"+t,i.content="",i.file=e,i.fileURL="C:/fakepath/"+e.name,i.fileMimeType=e.type,i=n.applyExternalMappings(i),u.push(i)}),n.options.uploadAttachments(u,d,p)}s.find("input").val("")},updateToggleAllButton:function(t){if(null!=this.options.maxRepliesVisible){var i=t.find(".child-comments"),n=i.find(".comment"),a=i.find("li.toggle-all");if(n.removeClass("hidden-reply"),0===this.options.maxRepliesVisible)var o=n;else var o=n.slice(0,-this.options.maxRepliesVisible);if(o.addClass("hidden-reply"),a.find("span.text").text()==this.options.textFormatter(this.options.hideRepliesText)&&o.addClass("visible"),n.length>this.options.maxRepliesVisible){if(!a.length){a=e("<li/>",{class:"toggle-all highlight-font-bold"});var s=e("<span/>",{class:"text"}),r=e("<span/>",{class:"caret"});a.append(s).append(r),i.prepend(a)}this.setToggleAllButtonText(a,!1)}else a.remove()}},sortComments:function(t,e){var i=this;"popularity"==e?t.sort(function(t,e){var n=t.childs.length,a=e.childs.length;if(i.options.enableUpvoting&&(n+=t.upvoteCount,a+=e.upvoteCount),a!=n)return a-n;var o=new Date(t.created).getTime();return new Date(e.created).getTime()-o}):t.sort(function(t,i){var n=new Date(t.created).getTime(),a=new Date(i.created).getTime();return"oldest"==e?n-a:a-n})},sortUsers:function(t){t.sort(function(t,e){var i=t.fullname.toLowerCase().trim(),n=e.fullname.toLowerCase().trim();return i<n?-1:i>n?1:0})},sortAndReArrangeComments:function(t){var i=this.$el.find("#comment-list"),n=this.getComments().filter(function(t){return!t.parent});this.sortComments(n,t),e(n).each(function(t,e){var n=i.find("> li.comment[data-id="+e.id+"]");i.append(n)})},showActiveSort:function(){var t=this.$el.find('.navigation li[data-sort-key="'+this.currentSortKey+'"]');this.$el.find(".navigation li").removeClass("active"),t.addClass("active");var e=this.$el.find(".navigation .title");if("attachments"!=this.currentSortKey)e.addClass("active"),e.find("header").html(t.first().html());else{var i=this.$el.find(".navigation ul.dropdown").children().first();e.find("header").html(i.html())}this.showActiveContainer()},forceResponsive:function(){this.$el.addClass("responsive")},closeDropdowns:function(){this.$el.find(".dropdown").hide()},saveOnKeydown:function(t){if(13==t.keyCode){var i=t.metaKey||t.ctrlKey;if(this.options.postCommentOnEnter||i){e(t.currentTarget).siblings(".control-row").find(".save").trigger("click"),t.stopPropagation(),t.preventDefault()}}},saveEditableContent:function(t){var i=e(t.currentTarget);i.data("before",i.html())},checkEditableContentForChange:function(t){var i=e(t.currentTarget);i.data("before")!=i.html()&&(i.data("before",i.html()),i.trigger("change"))},navigationElementClicked:function(t){var i=e(t.currentTarget),n=i.data().sortKey;"attachments"!=n&&this.sortAndReArrangeComments(n),this.currentSortKey=n,this.showActiveSort()},toggleNavigationDropdown:function(t){t.stopPropagation(),e(t.currentTarget).find("~ .dropdown").toggle()},showMainCommentingField:function(t){var i=e(t.currentTarget);i.siblings(".control-row").show(),i.parent().find(".close").show(),i.focus()},hideMainCommentingField:function(t){var i=e(t.currentTarget),n=this.$el.find(".commenting-field.main .textarea"),a=this.$el.find(".commenting-field.main .control-row");this.clearTextarea(n),this.adjustTextareaHeight(n,!1),a.hide(),i.hide(),n.blur()},increaseTextareaHeight:function(t){var i=e(t.currentTarget);this.adjustTextareaHeight(i,!0)},textareaContentChanged:function(t){var i=e(t.currentTarget),n=i.siblings(".control-row").find(".save");if(!i.find(".reply-to.tag").length){var a=i.attr("data-comment");if(a){var o=i.parents("li.comment");if(o.length>1){var s=o.last().data("id");i.attr("data-parent",s)}}else{var s=i.parents("li.comment").last().data("id");i.attr("data-parent",s)}}var r=i.parents(".commenting-field").first();i[0].scrollHeight>i.outerHeight()?r.addClass("scrollable"):r.removeClass("scrollable");var l=!0,c=this.getTextareaContent(i,!0);if(a=i.attr("data-comment")){var d,p=c!=this.commentsById[a].content;this.commentsById[a].parent&&(d=this.commentsById[a].parent.toString());var u=i.attr("data-parent")!=d;l=p||u}c.length&&l?n.addClass("enabled"):n.removeClass("enabled")},removeCommentingField:function(t){var i=e(t.currentTarget);i.siblings(".textarea").attr("data-comment")&&i.parents("li.comment").first().removeClass("edit"),i.parents(".commenting-field").first().remove()},appendNewComments:function(){var t=this;if(0==e(t.$el.context).length)return void clearTimeout(o);var i=this.getComments(),n=function(e,i){for(var n in e)t.createComment(e[n]);for(var a in i){var o=t.createCommentModel(i[a]);t.updateCommentModel(o),t.reRenderComment(o.id)}},a=function(){},o=setTimeout(function(){t.appendNewComments()},3e4);this.options.appendNewComments(i,n,a)},postComment:function(t){var i=this,n=e(t.currentTarget),a=n.parents(".commenting-field").first(),o=a.find(".textarea");n.removeClass("enabled");var s=this.createCommentJSON(o);s=this.applyExternalMappings(s);var r=function(t){i.currentSortKey="newest",i.showActiveSort(),i.createComment(t),a.find(".close").trigger("click")},l=function(){n.addClass("enabled")};this.options.postComment(s,r,l)},createComment:function(t){var e=this.createCommentModel(t);this.addCommentToDataModel(e),this.addComment(e),1==e.opinion&&this.addImportantCmt(e)},putComment:function(t){var i=this,n=e(t.currentTarget),a=n.parents(".commenting-field").first(),o=a.find(".textarea");n.removeClass("enabled");var s=e.extend({},this.commentsById[o.attr("data-comment")]);e.extend(s,{parent:o.attr("data-parent")||null,content:this.getTextareaContent(o),pings:this.getPings(o),modified:(new Date).getTime()}),s=this.applyExternalMappings(s);var r=function(t){var e=i.createCommentModel(t);delete e.childs,i.updateCommentModel(e),a.find(".close").trigger("click"),i.reRenderComment(e.id)},l=function(){n.addClass("enabled")};this.options.putComment(s,r,l)},deleteComment:function(t){var i=this,n=e(t.currentTarget),a=n.parents(".comment").first(),o=e.extend({},this.commentsById[a.attr("data-id")]),s=o.id,r=o.parent;n.removeClass("enabled"),o=this.applyExternalMappings(o);var l=function(){i.removeComment(s),r&&i.reRenderCommentActionBar(r),1==o.opinion&&e("[data-sort-key="+i.currentSortKey+"]").trigger("click")},c=function(){n.addClass("enabled")};this.options.deleteComment(o,l,c)},hashtagClicked:function(t){var i=e(t.currentTarget),n=i.attr("data-value");this.options.hashtagClicked(n)},pingClicked:function(t){var i=e(t.currentTarget),n=i.attr("data-value");this.options.pingClicked(n)},fileInputChanged:function(t,i){var i=t.currentTarget.files,n=e(t.currentTarget).parents(".commenting-field").first();this.uploadAttachments(i,n)},upvoteComment:function(t){var i,n=this,a=e(t.currentTarget).parents("li.comment").first(),o=a.data().model,s=o.upvoteCount;i=o.userHasUpvoted?s-1:s+1,o.userHasUpvoted=!o.userHasUpvoted,o.upvoteCount=i,this.reRenderUpvotes(o.id);var r=e.extend({},o);r=this.applyExternalMappings(r);var l=function(t){var e=n.createCommentModel(t);n.updateCommentModel(e),n.reRenderUpvotes(e.id)},c=function(){o.userHasUpvoted=!o.userHasUpvoted,o.upvoteCount=s,n.reRenderUpvotes(o.id)};this.options.upvoteComment(r,l,c)},toggleReplies:function(t){var i=e(t.currentTarget);i.siblings(".hidden-reply").toggleClass("visible"),this.setToggleAllButtonText(i,!0)},replyButtonClicked:function(t){var i=e(t.currentTarget),n=i.parents("li.comment").last(),a=i.parents(".comment").first().data().id,o=n.find(".child-comments > .commenting-field");if(o.length&&o.remove(),o.find(".textarea").attr("data-parent")!=a){o=this.createCommentingFieldElement(a,null,!1),n.find(".child-comments").append(o);var s=o.find(".textarea");this.moveCursorToEnd(s);var r=this.options.scrollContainer.scrollTop(),l=r+o.position().top+o.outerHeight(),c=r+this.options.scrollContainer.outerHeight();if(l>c){var d=r+(l-c);this.options.scrollContainer.scrollTop(d)}}},editButtonClicked:function(t){var i=e(t.currentTarget),n=i.parents("li.comment").first(),a=n.data().model;a=this.commentsById[a.id],n.addClass("edit");var o=this.createCommentingFieldElement(a.parent,a.id,!1);n.find(".comment-wrapper").first().append(o);var s=o.find(".textarea");s.attr("data-comment",a.id),s.append(this.getFormattedCommentContent(a,!0)),this.moveCursorToEnd(s)},showDroppableOverlay:function(t){this.options.enableAttachments&&(this.$el.find(".droppable-overlay").css("top",this.$el[0].scrollTop),this.$el.find(".droppable-overlay").show(),this.$el.addClass("drag-ongoing"))},handleDragEnter:function(t){var i=e(t.currentTarget).data("dnd-count")||0;i++,e(t.currentTarget).data("dnd-count",i),e(t.currentTarget).addClass("drag-over")},handleDragLeave:function(t,i){var n=e(t.currentTarget).data("dnd-count");n--,e(t.currentTarget).data("dnd-count",n),0==n&&(e(t.currentTarget).removeClass("drag-over"),i&&i())},handleDragLeaveForOverlay:function(t){var e=this;this.handleDragLeave(t,function(){e.hideDroppableOverlay()})},handleDragLeaveForDroppable:function(t){this.handleDragLeave(t)},handleDragOverForOverlay:function(t){t.stopPropagation(),t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="copy"},hideDroppableOverlay:function(){this.$el.find(".droppable-overlay").hide(),this.$el.removeClass("drag-ongoing")},handleDrop:function(t){t.preventDefault(),e(t.target).trigger("dragleave"),this.hideDroppableOverlay(),this.uploadAttachments(t.originalEvent.dataTransfer.files)},stopPropagation:function(t){t.stopPropagation()},createHTML:function(){var t=this.createCommentingFieldElement(null,null,!0);t.addClass("main"),this.$el.append(t),t.find(".control-row").hide(),t.find(".close").hide(),this.options.enableNavigation&&(this.$el.append(this.createNavigationElement()),this.showActiveSort());var i=this.createSpinner();this.$el.append(i);var n=e("<div/>",{class:"data-container overflowComment","data-container":"comments"});this.$el.append(n);var a=e("<div/>",{class:"no-comments no-data",text:this.options.textFormatter(this.options.noCommentsText)}),o=e("<i/>",{class:"fa fa-comments fa-2x"});this.options.noCommentsIconURL.length&&(o.css("background-image",'url("'+this.options.noCommentsIconURL+'")'),o.addClass("image")),a.prepend(e("<br/>")).prepend(o),n.append(a);var s=e("<div/>",{class:"data-container overflowComment","data-container":"importantCmt"});this.$el.append(s);var r=e("<div/>",{class:"no-comments no-data",text:this.options.textFormatter(this.options.noCommentsImportantText)}),l=e("<i/>",{class:"fa fa-comments fa-2x"});if(this.options.noCommentsImptIconURL.length&&(l.css("background-image",'url("'+this.options.noCommentsImptIconURL+'")'),l.addClass("image")),r.prepend(e("<br/>")).prepend(l),s.append(r),this.options.enableAttachments){var c=e("<div/>",{class:"data-container overflowComment","data-container":"attachments"});this.$el.append(c);var d=e("<div/>",{class:"no-attachments no-data",text:this.options.textFormatter(this.options.noAttachmentsText)}),p=e("<i/>",{class:"fa fa-paperclip fa-2x"});this.options.attachmentIconURL.length&&(p.css("background-image",'url("'+this.options.attachmentIconURL+'")'),p.addClass("image")),d.prepend(e("<br/>")).prepend(p),c.append(d);var u=e("<div/>",{class:"droppable-overlay"}),h=e("<div/>",{class:"droppable-container"}),m=e("<div/>",{class:"droppable"}),f=e("<i/>",{class:"fa fa-upload fa-4x"});this.options.uploadIconURL.length&&(f.css("background-image",'url("'+this.options.uploadIconURL+'")'),f.addClass("image"));var v=e("<div/>",{text:this.options.textFormatter(this.options.attachmentDropText)});m.append(f),m.append(v),u.html(h.html(m)).hide(),this.$el.append(u)}},createProfilePictureElement:function(t){if(t)var i=e("<img/>",{src:t});else var i=e("<i/>",{class:"fa fa-user"});return i.addClass("profile-picture"),this.options.roundProfilePictures&&i.addClass("round"),i},createCommentingFieldElement:function(t,i,n){var a=this,o=e("<div/>",{class:"commenting-field"});if(i)var s=this.commentsById[i].profilePictureURL;else var s=this.options.profilePictureURL;var r=this.createProfilePictureElement(s),l=e("<div/>",{class:"textarea-wrapper"}),c=e("<div/>",{class:"control-row"}),d=e("<div/>",{class:"textarea","data-placeholder":this.options.textFormatter(this.options.textareaPlaceholderText),contenteditable:!0});this.adjustTextareaHeight(d,!1);var p=e("<span/>",{class:"close"}).append(e('<span class="left"/>')).append(e('<span class="right"/>'));if(i)var u=this.options.textFormatter(this.options.saveText),h=i;else{var u=this.options.textFormatter(this.options.sendText),h="";if(this.options.enableAttachments){var m=e("<span/>",{class:"enabled upload"}),f=e("<i/>",{class:"md-icon",text:"Tải lên"}),v=e("<input/>",{type:"file","data-role":"none"});e.browser.mobile||v.attr("multiple","multiple"),this.options.uploadIconURL.length&&(f.css("background-image",'url("'+this.options.uploadIconURL+'")'),f.addClass("image")),m.append(f).append(v),c.append(m)}}var g=i?"update":"send",_=e("<span/>",{class:g+" save highlight-background",text:u});if(n){var y=e("<input/>",{class:"opinion checkOpinion mt-1 mr-1",id:"opinion"+h,name:"opinion"+h,type:"checkbox"}),C=e("<label/>",{class:"opinion label-opinion",for:"opinion"+h,text:"Ý kiến chính thức"});c.append(y).append(C)}if(c.prepend(_),l.append(p).append(d).append(c),o.append(r).append(l),t){d.attr("data-parent",t);var x=this.commentsById[t];if(x.parent){d.html("&nbsp;");var b="@"+x.fullname,T=this.createTagElement(b,"reply-to",x.creator);d.prepend(T)}}return this.options.enablePinging&&(d.textcomplete([{match:/(^|\s)@(([0-9]|[^\u0000-\u007F]|[a-zäöüß]|\s)*)$/im,search:function(t,i){t=a.normalizeSpaces(t);var n=a.getPings(d),o=a.getUsers().filter(function(t){var e=t.id==a.options.currentUserId,i=-1!=n.indexOf(t.id);return!e&&!i});a.sortUsers(o),i(e.map(o,function(e){var i=t.toLowerCase(),n=-1!=e.fullname.toLowerCase().indexOf(i),a=-1!=e.email.toLowerCase().indexOf(i);return n||a?e:null}))},template:function(t){var i=e("<div/>"),n=e("<img/>",{src:t.pictureUrl,class:"profile-picture round"}),a=e("<div/>",{class:"details"}),o=e("<div/>",{class:"name"}).html(t.fullname),s=e("<div/>",{class:"email"}).html(t.email);return t.email?a.append(o).append(s):(a.addClass("no-email"),a.append(o)),i.append(n).append(a),i.html()},replace:function(t){return" "+a.createTagElement("@"+t.fullname,"ping",t.id)[0].outerHTML+" "}}],{appendTo:".jquery-comments",dropdownClassName:"dropdown autocomplete",maxCount:5,rightEdgeOffset:0}),e.fn.textcomplete.Dropdown.prototype.render=function(t){var i=this._buildContents(t),n=e.map(t,function(t){return t.value});if(t.length){var o=t[0].strategy;o.id?this.$el.attr("data-strategy",o.id):this.$el.removeAttr("data-strategy"),this._renderHeader(n),this._renderFooter(n),i&&(this._renderContents(i),this._fitToBottom(),this._fitToRight(),this._activateIndexedItem()),this._setScroll()}else this.noResultsMessage?this._renderNoResultsMessage(n):this.shown&&this.deactivate();var s=parseInt(this.$el.css("top"))+a.options.scrollContainer.scrollTop();this.$el.css("top",s);var r=this.$el.css("left");this.$el.css("left",0);var l=a.$el.width()-this.$el.outerWidth(),c=Math.min(l,parseInt(r));this.$el.css("left",c)}),o},createNavigationElement:function(){var t=e("<ul/>",{class:"navigation"}),i=e("<div/>",{class:"navigation-wrapper"});t.append(i);var n=e("<li/>",{text:this.options.textFormatter(this.options.newestText),"data-sort-key":"newest","data-container-name":"comments"}),a=e("<li/>",{text:this.options.textFormatter(this.options.oldestText),"data-sort-key":"oldest","data-container-name":"comments"}),o=e("<li/>",{text:this.options.textFormatter(this.options.importantCmtText),"data-sort-key":"important","data-container-name":"importantCmt"}),s=e("<li/>",{text:this.options.textFormatter(this.options.popularText),"data-sort-key":"popularity","data-container-name":"comments"}),r=e("<li/>",{text:this.options.textFormatter(this.options.attachmentsText),"data-sort-key":"attachments","data-container-name":"attachments"}),l=e("<i/>",{class:"fa fa-paperclip"});this.options.attachmentIconURL.length&&(l.css("background-image",'url("'+this.options.attachmentIconURL+'")'),l.addClass("image")),r.prepend(l);var c=e("<div/>",{class:"navigation-wrapper responsive"}),d=e("<ul/>",{class:"dropdown"}),p=e("<li/>",{class:"title"}),u=e("<header/>");return p.append(u),c.append(p),c.append(d),t.append(c),i.append(n).append(a).append(o),d.append(n.clone()).append(a.clone()).append(o.clone()),(this.options.enableReplying||this.options.enableUpvoting)&&(i.append(s),d.append(s.clone())),this.options.enableAttachments&&(i.append(r),c.append(r.clone())),this.options.forceResponsive&&this.forceResponsive(),t},createSpinner:function(){var t=e("<div/>",{class:"spinner"}),i=e("<i/>",{class:"fa fa-spinner fa-spin"});return this.options.spinnerIconURL.length&&(i.css("background-image",'url("'+this.options.spinnerIconURL+'")'),i.addClass("image")),t.html(i),t},createCommentElement:function(t){var i=e("<li/>",{"data-id":t.id,class:"comment"}).data("model",t);t.createdByCurrentUser&&i.addClass("by-current-user"),t.createdByAdmin&&i.addClass("by-admin");var n=e("<ul/>",{class:"child-comments"}),a=this.createCommentWrapperElement(t);return i.append(a),null==t.parent&&i.append(n),i},createCommentWrapperElement:function(t){var i=e("<div/>",{class:"comment-wrapper"}),n=this.createProfilePictureElement(t.profilePictureURL),a=e("<time/>",{text:this.options.timeFormatter(t.created),"data-original":t.created}),o=t.createdByCurrentUser?this.options.textFormatter(this.options.youText):t.fullname,s=e("<div/>",{class:"name"});if(t.profileURL){var r=e("<a/>",{href:t.profileURL,text:o});s.html(r)}else s.text(o);if((t.createdByCurrentUser||t.createdByAdmin)&&s.addClass("highlight-font-bold"),t.parent){var l=this.commentsById[t.parent];if(l.parent){var c=e("<span/>",{class:"reply-to",text:l.fullname}),d=e("<i/>",{class:"fa fa-share"});this.options.replyIconURL.length&&(d.css("background-image",'url("'+this.options.replyIconURL+'")'),d.addClass("image")),c.prepend(d),s.append(c)}}if(t.isNew){var p=e("<span/>",{class:"new highlight-background",text:this.options.newText});s.append(p)}var u=e("<div/>",{class:"wrapper"}),h=e("<div/>",{class:"note-opinion",text:"(Ý kiến chính thức)"}),m=e("<div/>",{class:"content"}),f=void 0!=t.fileURL;if(f){var v=null,g=null;if(t.fileMimeType){var _=t.fileMimeType.split("/");2==_.length&&(v=_[1],g=_[0])}var r=e("<a/>",{class:"attachment",href:t.fileURL,target:"_blank"});if("image"==g){var y=e("<img/>",{src:t.fileURL});r.html(y)}else if("video"==g){var C=e("<video/>",{src:t.fileURL,type:t.fileMimeType,controls:"controls"});r.html(C)}else{var x=["archive","audio","code","excel","image","movie","pdf","photo","picture","powerpoint","sound","video","word","zip"],b="fa fa-file-o";x.indexOf(v)>0?b="fa fa-file-"+v+"-o":x.indexOf(g)>0&&(b="fa fa-file-"+g+"-o");var T=e("<i/>",{class:b});this.options.fileIconURL.length&&(T.css("background-image",'url("'+this.options.fileIconURL+'")'),T.addClass("image"));var w=t.fileName;r.text(w),r.prepend(T)}m.html(r)}else m.html(this.getFormattedCommentContent(t));if(t.modified&&t.modified!=t.created){var A=this.options.timeFormatter(t.modified),k=e("<time/>",{class:"edited",text:this.options.textFormatter(this.options.editedText)+" "+A,"data-original":t.modified});m.append(k)}var S=e("<span/>",{class:"actions"}),F=e("<button/>",{class:"action reply",type:"button",text:this.options.textFormatter(this.options.replyText)}),P=e("<i/>",{class:"fa fa-thumbs-up"});this.options.upvoteIconURL.length&&(P.css("background-image",'url("'+this.options.upvoteIconURL+'")'),P.addClass("image"));var D=this.createUpvoteElement(t);if(this.options.enableReplying&&S.append(F),this.options.enableUpvoting&&S.append(D),t.createdByCurrentUser||this.options.currentUserIsAdmin)if(f&&this.isAllowedToDelete(t.id)){var I=e("<button/>",{class:"action delete enabled",text:this.options.textFormatter(this.options.deleteText)});S.append(I)}else if(!f&&this.options.enableEditing){var E=e("<button/>",{class:"action edit",text:this.options.textFormatter(this.options.editText)});S.append(E);var I=e("<button/>",{class:"action delete enabled",text:this.options.textFormatter(this.options.deleteText)});S.append(I)}return u.append(m),1==t.opinion&&u.append(h),u.append(S),i.append(n).append(a).append(s).append(u),i},createUpvoteElement:function(t){var i=e("<i/>",{class:"fa fa-thumbs-up"});return this.options.upvoteIconURL.length&&(i.css("background-image",'url("'+this.options.upvoteIconURL+'")'),i.addClass("image")),e("<button/>",{class:"action upvote"+(t.userHasUpvoted?" highlight-font":"")}).append(e("<span/>",{text:t.upvoteCount,class:"upvote-count"})).append(i)},createTagElement:function(t,i,n){var a=e("<input/>",{class:"tag",type:"button","data-role":"none"});return i&&a.addClass(i),a.val(t),a.attr("data-value",n),a},reRenderComment:function(t){var i=this.commentsById[t],n=this;this.$el.find('li.comment[data-id="'+i.id+'"]').each(function(t,a){var o=n.createCommentWrapperElement(i);e(a).find(".comment-wrapper").first().replaceWith(o)})},reRenderCommentActionBar:function(t){var i=this.commentsById[t],n=this;this.$el.find('li.comment[data-id="'+i.id+'"]').each(function(t,a){var o=n.createCommentWrapperElement(i);e(a).find(".actions").first().replaceWith(o.find(".actions"))})},reRenderUpvotes:function(t){var i=this.commentsById[t],n=this;this.$el.find('li.comment[data-id="'+i.id+'"]').each(function(t,a){var o=n.createUpvoteElement(i);e(a).find(".upvote").first().replaceWith(o)})},createCssDeclarations:function(){e("head style.jquery-comments-css").remove(),this.createCss(".jquery-comments ul.navigation li.active:after {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments ul.navigation ul.dropdown li.active {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments .highlight-background {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments .highlight-font {color: "+this.options.highlightColor+" !important;}"),this.createCss(".jquery-comments .highlight-font-bold {color: "+this.options.highlightColor+" !important;font-weight: bold;}")},createCss:function(t){var i=e("<style/>",{type:"text/css",class:"jquery-comments-css",text:t});e("head").append(i)},getComments:function(){var t=this,i=s()(this.commentsById).map(function(e){return t.commentsById[e]}),n=i.filter(function(t){return t.opinion}),a=i.filter(function(t){return t.opinion&&t.createdByCurrentUser}),o=i.filter(function(t){return void 0!=t.fileURL});return i.length>3?e(".data-container[data-container=comments]").addClass("lessEl"):e(".data-container[data-container=comments]").addClass("fullEl"),n.length>3?e(".data-container[data-container=importantCmt]").addClass("lessEl"):e(".data-container[data-container=importantCmt]").addClass("fullEl"),a.length>0?e(".opinion").hide():e(".opinion").show(),o.length>3?e(".data-container[data-container=attachments]").addClass("lessEl"):e(".data-container[data-container=attachments]").addClass("fullEl"),s()(this.commentsById).map(function(e){return t.commentsById[e]})},getUsers:function(){var t=this;return s()(this.usersById).map(function(e){return t.usersById[e]})},getChildComments:function(t){return this.getComments().filter(function(e){return e.parent==t})},getAttachments:function(){return this.getComments().filter(function(t){return void 0!=t.fileURL})},getImportantCmt:function(){return this.getComments().filter(function(t){return 1==t.opinion})},getOutermostParent:function(t){var e=t;do{var i=this.commentsById[e];e=i.parent}while(null!=i.parent);return i},createCommentJSON:function(t){var e=(new Date).toISOString();return{id:"c"+(this.getComments().length+1),parent:t.attr("data-parent")||null,created:e,modified:e,content:this.getTextareaContent(t),pings:this.getPings(t),fullname:this.options.textFormatter(this.options.youText),profilePictureURL:this.options.profilePictureURL,createdByCurrentUser:!0,upvoteCount:0,userHasUpvoted:!1}},isAllowedToDelete:function(t){if(this.options.enableDeleting){var i=!0;return this.options.enableDeletingCommentWithReplies||e(this.getComments()).each(function(e,n){n.parent==t&&(i=!1)}),i}return!1},setToggleAllButtonText:function(t,e){var i=this,n=t.find("span.text"),a=t.find(".caret"),o=function(){var e=i.options.textFormatter(i.options.viewAllRepliesText),a=t.siblings(".comment").length;e=e.replace("__replyCount__",a),n.text(e)},s=this.options.textFormatter(this.options.hideRepliesText);e?(n.text()==s?o():n.text(s),a.toggleClass("up")):n.text()!=s&&o()},adjustTextareaHeight:function(t,i){t=e(t);var n=1==i?this.options.textareaRowsOnFocus:this.options.textareaRows;do{!function(e){var i=2.2+1.45*(e-1);t.css("height",i+"em")}(n),n++;var a=t[0].scrollHeight>t.outerHeight(),o=0!=this.options.textareaMaxRows&&n>this.options.textareaMaxRows}while(a&&!o)},clearTextarea:function(t){t.empty().trigger("input")},getTextareaContent:function(t,i){var n=t.clone();n.find(".reply-to.tag").remove(),n.find(".tag.hashtag").replaceWith(function(){return i?e(this).val():"#"+e(this).attr("data-value")}),n.find(".tag.ping").replaceWith(function(){return i?e(this).val():"@"+e(this).attr("data-value")});var a=e("<pre/>").html(n.html());a.find("div, p, br").replaceWith(function(){return"\n"+this.innerHTML});var o=a.text().replace(/^\s+/g,""),o=this.normalizeSpaces(o);return o},getFormattedCommentContent:function(t,e){var i=this.escape(t.content);return i=this.linkify(i),i=this.highlightTags(t,i),e&&(i=i.replace(/(?:\n)/g,"<br>")),i},getPings:function(t){return e.map(t.find(".ping"),function(t){return parseInt(e(t).attr("data-value"))})},moveCursorToEnd:function(t){if(t=e(t)[0],e(t).trigger("input"),e(t).scrollTop(t.scrollHeight),void 0!==window.getSelection&&void 0!==document.createRange){var i=document.createRange();i.selectNodeContents(t),i.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(i)}else if(void 0!==document.body.createTextRange){var a=document.body.createTextRange();a.moveToElementText(t),a.collapse(!1),a.select()}t.focus()},escape:function(t){return e("<pre/>").text(this.normalizeSpaces(t)).html()},normalizeSpaces:function(t){return t.replace(new RegExp(" ","g")," ")},after:function(t,e){var i=this;return function(){if(0==--t)return e.apply(i,arguments)}},highlightTags:function(t,e){return this.options.enableHashtags&&(e=this.highlightHashtags(t,e)),this.options.enablePinging&&(e=this.highlightPings(t,e)),e},highlightHashtags:function(t,e){var i=this;if(-1!=e.indexOf("#")){var n=function(t){var t=i.createTagElement("#"+t,"hashtag",t);return t[0].outerHTML},a=/(^|\s)#([a-zäöüß\d-_]+)/gim;e=e.replace(a,function(t,e,i){return e+n(i)})}return e},highlightPings:function(t,i){var n=this;if(-1!=i.indexOf("@")){var a=function(t){return n.createTagElement("@"+t.fullname,"ping",t.id)[0].outerHTML},o="";return e(t.pings).each(function(t,e){if(e in n.usersById){var s=n.usersById[e],r="@"+s.id,l=i.indexOf(r)+r.length,c=i.slice(0,l);o+=c.replace(r,a(s)),i=i.slice(l)}}),o+=i}return i},linkify:function(t){var e,i,n,a;if(i=/(^|\s)((https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,e=t.replace(i,'$1<a href="$2" target="_blank">$2</a>'),n=/(^|\s)(www\.[\S]+(\b|$))/gim,e=e.replace(n,'$1<a href="http://$2" target="_blank">$2</a>'),a=/(^|\s)(([a-zA-Z0-9\-\_\.]+)@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e=e.replace(a,'$1<a href="mailto:$2">$2</a>'),(t.match(/<a href/g)||[]).length>0){for(var o=t.split(/(<\/a>)/g),s=0;s<o.length;s++)null==o[s].match(/<a href/g)&&(o[s]=o[s].replace(i,'<a href="$1" target="_blank">$1</a>').replace(n,'$1<a href="http://$2" target="_blank">$2</a>').replace(a,'<a href="mailto:$1">$1</a>'));return o.join("")}return e},waitUntil:function(t,e){var i=this;t()?e():setTimeout(function(){i.waitUntil(t,e)},100)},applyInternalMappings:function(t){var e={},i=this.options.fieldMappings;for(var n in i)i.hasOwnProperty(n)&&(e[i[n]]=n);return this.applyMappings(e,t)},applyExternalMappings:function(t){var e=this.options.fieldMappings;return this.applyMappings(e,t)},applyMappings:function(t,e){var i={};for(var n in e)if(n in t){var a=t[n];i[a]=e[n]}return i}};e.fn.comments=function(t){return this.each(function(){var n=a()(i);e.data(this,"comments",n),n.init(t||{},this)})}})}).call(e,i(37),i(705)(t))},671:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(37),a=i.n(n),o=i(217),s=i.n(o);e.default={components:{"toggle-button":s.a},props:{assign_items:{type:Array,default:function(){return[]}},type:{type:Number,default:function(){return 1}},configNote:{type:Object,default:function(){}}},model:{prop:"assign_items"},data:function(){return{data_phancong:[],assignedtype_items:{2:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2}],3:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2},{text:"Theo dõi",value:3}]},title_asign:{1:"PHÂN CÔNG NGƯỜI THỰC HIỆN",2:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP",3:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP VÀ THEO DÕI"},presenterAddGroup:!0,assignValidate:!0}},created:function(){setTimeout(function(){a()(".btn-tgl").addClass("btn-hidden")},200)},mounted:function(){this.data_phancong=this.assign_items},methods:{changeAssigned:function(t,e){var i=this;1===i.type&&(i.assign_items[e].assigned=!0===t?1:0)},checkAsign:function(t,e){var i=this;t?(i.assign_items[e].assigned=1,a()("#btn-"+e).removeClass("btn-hidden")):(i.assign_items[e].assigned=0,a()("#btn-"+e).addClass("btn-hidden"))},changeTypeAssign:function(t,e){var i=this;t.value?(i.assign_items[e].assigned=1,a()("#btn-"+e).removeClass("btn-hidden")):(i.assign_items[e].assigned=2,a()("#btn-"+e).addClass("btn-hidden"))},doExport:function(){var t=this;return 0===t.assign_items.filter(function(t){return Number(t.assigned)>0}).length?(t.assignValidate=!1,t.assignValidate):(t.assignValidate=!0,t.assignValidate)}}}},672:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{detailDossier:{type:Object,default:function(){}}},watch:{detailDossier:function(t){this.thongTinChiTietHoSo=t}},components:{},data:function(){return{thongTinChiTietHoSo:{},showContactDetail:!1}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){return this.getOriginality()}},created:function(){var t=this;t.thongTinChiTietHoSo=t.detailDossier},mounted:function(){var t=this;t.thongTinChiTietHoSo=t.detailDossier},methods:{initData:function(t){var e=this;e.$store.dispatch("getDetailDossier",t).then(function(t){e.thongTinChiTietHoSo=t})},goBack:function(){window.history.back()},durationText:function(t,e){var i;if(1===t&&e>8){var n=Math.floor(e/8)+" ngày",a=void 0;a=e%8!=0?8*(e/8-Math.floor(e/8))+" giờ":"",i=n+" "+a}else 0===t?i=e+" ngày":1===t&&e<=8&&(i=e+" giờ");return i}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()+" | "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}return""}}}},673:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{resultFiles:{type:Array,default:function(){return[]}}},data:function(){return{dossierId:"",loadingAction:!1,headers:[{text:"STT",align:"center",sortable:!1},{text:"Số giấy",align:"center",sortable:!1},{text:"Ngày cấp",align:"center",sortable:!1},{text:"Tên giấy tờ",align:"center",sortable:!1}]}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){this.$nextTick(function(){})},methods:{},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()}return""},filterFileResult:function(t){if(t.length>0){return t.filter(function(t,e){return 2===t.dossierPartType&&!1===t.eForm})}}}}},674:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{user_note:{type:Number,required:!0},configNote:{type:Object,required:!1}},data:function(){return{noteYkien:"",valid:!1}},methods:{initData:function(t){var e=this;e.$store.dispatch("getDetailDossier",t).then(function(t){e.thongTinChiTietHoSo=t})},doExport:function(){var t=this;return{text:t.noteYkien,valid:t.$refs.userNoteForm.validate()}}}}},680:function(t,e,i){e=t.exports=i(512)(!0),e.push([t.i,".overHidden{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}","",{version:3,sources:["d:/FDS_OPENCPS/front-end-v2.1/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/ThongTinCoBanHoSo.vue"],names:[],mappings:"AACA,YACE,gBAAiB,AACjB,uBAAwB,AACxB,kBAAmB,CACpB",file:"ThongTinCoBanHoSo.vue",sourcesContent:["\n.overHidden {\n  overflow: hidden;\n  text-overflow: ellipsis; \n  white-space: nowrap\n}\n"],sourceRoot:""}])},681:function(t,e,i){e=t.exports=i(512)(!0),e.push([t.i,".btn-hidden{display:none!important}","",{version:3,sources:["d:/FDS_OPENCPS/front-end-v2.1/frontend-opencps-v2.1/onegate_21_fe/src/components/form_xu_ly/PhanCongNguoiThucHien.vue"],names:[],mappings:"AACA,YACE,sBAAwB,CACzB",file:"PhanCongNguoiThucHien.vue",sourcesContent:["\n.btn-hidden {\n  display: none !important\n}\n"],sourceRoot:""}])},682:function(t,e,i){var n=i(680);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(513)("2f289cfa",n,!0)},683:function(t,e,i){var n=i(681);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(513)("57de0106",n,!0)},686:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-expansion-panel",{staticClass:"expansion-pl ext__form"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Thông tin chung hồ sơ")]),t._v(" "),i("v-card",[i("v-card-text",{staticClass:"py-0"},[i("v-layout",{staticClass:"px-2 py-2",attrs:{wrap:""}},[1!==t.originality?i("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Chủ hồ sơ: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.applicantName))])]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[i("span",{staticClass:"pr-2"},[t._v("Địa chỉ: ")]),t._v(" "),i("v-tooltip",{attrs:{top:""}},[i("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)+", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))]),t._v(" "),i("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)+", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))])])],1),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Mã hồ sơ: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.dossierNo)+" ")])]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Trạng thái: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierStatusText)+" ")])])]):i("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Mã hồ sơ: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.dossierNo)+" ")])]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Cơ quan: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.govAgencyName)+" ")])]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Trạng thái: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierStatusText)+" ")])])]),t._v(" "),1!==t.originality?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày gửi trực tuyến: ")]),t._v(" "),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.submitDate)+" ")]):i("span",{staticClass:"pl-0 text-bold"},[t._v(" Một cửa ")])]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày tiếp nhận: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate))])]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Thời hạn giải quyết: ")]),t._v(" "),t.thongTinChiTietHoSo.durationCount>0?i("span",{staticClass:"pl-0 text-bold "},[t._v(" \n                "+t._s(t.durationText(t.thongTinChiTietHoSo.durationUnit,t.thongTinChiTietHoSo.durationCount))+" làm việc \n              ")]):i("span",{staticClass:"pl-0 text-bold "},[t._v("\n                Không quy định\n              ")])]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày hẹn trả: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dueDate))])])]):i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày gửi: ")]),t._v(" "),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.submitDate)+" ")]):i("span",{staticClass:"pl-0 text-bold"},[t._v(" Một cửa ")])]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày tiếp nhận: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate))])]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày hẹn trả: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dueDate))])])]),t._v(" "),1!==t.originality?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("Thông tin liên hệ:")]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pl-0"},[t._v("Thư điện tử: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactEmail)+" ")])]),t._v(" "),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Điện thoại: ")]),t._v(" "),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactTelNo)+" ")])])]):i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("Ghi chú:")]),t._v(" "),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote?i("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[i("v-tooltip",{attrs:{top:""}},[i("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.dossierNote)+" ")]),t._v(" "),i("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierNote)+" ")])])],1):t._e(),t._v(" "),t.thongTinChiTietHoSo.extendDate?i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pl-0 text-bold"},[t._v("Hẹn lại: "+t._s(t.thongTinChiTietHoSo.extendDate))])]):t._e()])],1)],1)],1)],1)],1)},staticRenderFns:[]}},687:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"traketqua"},[i("v-expansion-panel",{staticClass:"expansion-pl"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Giấy tờ kết quả\n      ")]),t._v(" "),i("v-card",[i("v-card-text",[i("v-data-table",{staticClass:"table-bordered",attrs:{headers:t.headers,items:t._f("filterFileResult")(t.resultFiles),"item-key":"no","hide-actions":"","no-data-text":"Không có giấy tờ kết quả"},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[i("v-tooltip",{attrs:{bottom:""}},[i("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                  "+t._s(e.header.text)+"\n                ")]),t._v(" "),i("span",[t._v("\n                  "+t._s(e.header.text)+"\n                ")])])]}},{key:"items",fn:function(e){return[i("td",{staticClass:"text-xs-center",staticStyle:{width:"5%"}},[t._v(" "+t._s(e.index+1)+" ")]),t._v(" "),i("td",{staticClass:"text-xs-left",staticStyle:{width:"10%"}},[t._v(" "+t._s(e.item.deliverableCode)+" ")]),t._v(" "),i("td",{staticClass:"text-xs-left",staticStyle:{width:"10%"}},[t._v(" "+t._s(t._f("dateTimeView")(e.item.createDate))+" ")]),t._v(" "),i("td",{staticClass:"text-xs-left",staticStyle:{width:"75%"}},[t._v(" "+t._s(e.item.displayName)+" ")])]}}])})],1)],1)],1)],1)],1)},staticRenderFns:[]}},688:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Chọn người thực hiện\n      ")]),t._v(" "),i("v-card",[1===t.type?i("v-card-text",{staticClass:"py-1"},[i("v-layout",{attrs:{wrap:""}},t._l(t.data_phancong,function(e,n){return i("v-checkbox",{key:e.userId,staticStyle:{display:"inline-block"},attrs:{label:e.userName},on:{change:function(e){t.changeAssigned(e,n)}},model:{value:e.assigned,callback:function(i){t.$set(e,"assigned",i)},expression:"item.assigned"}})})),t._v(" "),t.assignValidate?t._e():i("span",{staticClass:"ml-3",staticStyle:{color:"#f44336"}},[t._v("* Yêu cầu chọn người để thực hiện")])],1):i("v-card-text",{staticClass:"px-2 py-1"},[i("v-layout",{staticClass:"my-1",attrs:{wrap:""}},t._l(t.data_phancong,function(e,n){return i("div",{key:e.userId,staticClass:"ml-3"},[i("v-layout",{attrs:{wrap:""}},[i("v-tooltip",{attrs:{top:""}},[i("v-checkbox",{staticStyle:{"min-width":"150px"},attrs:{slot:"activator",label:e.userName},on:{change:function(e){t.checkAsign(e,n)}},slot:"activator",model:{value:e.assigned,callback:function(i){t.$set(e,"assigned",i)},expression:"item.assigned"}}),t._v(" "),i("span",{staticClass:"pl-0"},[t._v(" "+t._s(e.userName)+" ")])],1),t._v(" "),i("toggle-button",{staticClass:"mx-1 btn-tgl",attrs:{id:"btn-"+n,title_checked:"Thực hiện",title_unchecked:"Phối hợp",labels:{checked:"TH",unchecked:"PH"},color:{checked:"#7DCE94",unchecked:"#82C7EB"},width:50},on:{change:function(e){t.changeTypeAssign(e,n)}},model:{value:t.presenterAddGroup,callback:function(e){t.presenterAddGroup=e},expression:"presenterAddGroup"}})],1)],1)})),t._v(" "),t.assignValidate?t._e():i("span",{staticClass:"ml-3",staticStyle:{color:"#f44336"}},[t._v("* Yêu cầu chọn người để thực hiện")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},689:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-expansion-panel",{staticClass:"expansion-pl ext__form"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v(" "),i("span",[t._v("Ý kiến cán bộ")]),t._v(" "),2===t.user_note?i("span",{staticClass:"red--text text--darken-3"},[t._v("*")]):t._e()]),t._v(" "),i("v-card",[i("v-card-text",{staticClass:"py-2 px-2"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-form",{ref:"userNoteForm",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{"multi-line":"",rows:4,rules:2===t.user_note?[function(){return""!==t.noteYkien||"Trường dữ liệu bắt buộc"}]:[]},model:{value:t.noteYkien,callback:function(e){t.noteYkien=e},expression:"noteYkien"}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},691:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(518),a=i.n(n),o=i(37),s=i.n(o),r=i(699);i.n(r),i(669);e.default={props:["classPK","className"],data:function(){return{usersComment:[],comment:[],argShowMore:!0,checkOpinion:!0}},computed:{loading:function(){return this.$store.getters.loading},initData:function(){return this.$store.getters.loadingInitData}},watch:{classPK:function(t){var e=this;e.$store.dispatch("loadUsersComment",t).then(function(t){e.usersComment=t,e.initComment()}).catch(function(t){e.initComment()})}},created:function(){},mounted:function(){},methods:{runComment:function(){var t=this;t.classPK&&t.initComment()},initComment:function(){var t=this;s()("#comments-container-el").comments({profilePictureURL:"https://png.icons8.com/material/50/000000/guest-male.png",textareaRows:2,enableAttachments:!0,enableHashtags:!0,enablePinging:!0,postCommentOnEnter:!1,forceResponsive:!1,readOnly:!1,textareaPlaceholderText:"Thêm bình luận mới",newestText:"Mới nhất",oldestText:"Cũ nhất",popularText:"Phổ biến",attachmentsText:"Đính kèm",sendText:"Gửi",replyText:"Trả lời",editText:"Sửa",editedText:"Đã sửa",youText:"Bạn",saveText:"Ghi lại",deleteText:"Xóa",hideRepliesText:"Ẩn câu trả lời",noCommentsText:"Không có bình luận nào",noAttachmentsText:"Không có tệp đính kèm",attachmentDropText:"Kéo thả tệp đính kèm",fieldMappings:{id:"commentId",parent:"parent",userId:"userId",created:"createdDate",modified:"modifiedDate",content:"content",fileURL:"fileUrl",fileMimeType:"fileType",fileName:"fileName",pings:"pings",creator:"userId",fullname:"fullname",profileURL:"profileUrl",profilePictureURL:"pictureUrl",isNew:"isNew",createdByAdmin:"isAdmin",createdByCurrentUser:"createdByCurrentUser",upvoteCount:"upvoteCount",userHasUpvoted:"userHasUpvoted",email:"email",opinion:"opinion",className:"className",classPK:"classPK"},timeFormatter:function(t){if(t){var e=new Date(t);return e.setHours(e.getHours()-7),e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()+" "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}return""},getUsers:function(e,i){e(t.usersComment)},getComments:function(e,i){var n={classPK:t.classPK,className:t.className};t.$store.dispatch("loadCommentItems",n).then(function(i){var n=[];s.a.each(i,function(e,i){t.comment=i,t.formatComment(t.comment),n.push(t.comment)}),e(n)}).catch(function(t){e([]),i()})},postComment:function(e,i,n){e.classPK=t.classPK,e.className=t.className,e.opinion=document.getElementById("opinion").checked,t.$store.dispatch("postComment",e).then(function(e){e.opinion&&s()(".opinion").hide(),document.getElementById("opinion").checked=!1,t.comment=e,t.formatComment(t.comment),i(t.comment)})},putComment:function(e,i,n){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("putComment",e).then(function(e){t.comment=e,t.formatComment(t.comment),i(t.comment)})},deleteComment:function(e,i,n){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("deleteComment",e).then(function(t){i()}).catch(function(t){n()})},upvoteComment:function(e,i,n){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("upvoteComment",e).then(function(e){t.comment=e,t.formatComment(t.comment),i(t.comment)}).catch(function(t){})},uploadAttachments:function(e,i,n){var o=0,r=[],l=function(){++o===e.length&&(0===r.length?n():i(r))};s()(e).each(function(e,i){var n=new FormData;s()(a()(i)).each(function(t,e){var a=i[e];a&&n.append(e,a)}),n.append("file",i.file),n.append("className",t.className),n.append("classPK",t.classPK),n.append("parent",null!=i.parent?i.parent:0),n.append("fileName",i.file.name),n.append("fileType",i.file.type),n.append("fileSize",i.file.size),n.append("pings",i.pings.join()),n.append("email",t.initData.user.userEmail),n.append("fullname",t.initData.user.userName),s.a.ajax({url:t.initData.commentApi+"/uploads",dataType:"json",type:"POST",headers:{groupId:t.initData.groupId},data:n,cache:!1,contentType:!1,processData:!1,success:function(e){t.formatComment(e),r.push(t.comment),l()},error:function(t,e){l()}})})}})},formatComment:function(t){var e=this;e.comment=t,0===t.parent&&(e.comment.parent=null),""===t.fileName&&(e.comment.fileName=null),""===t.fileType&&(e.comment.fileType=null),""===t.fileUrl&&(e.comment.fileUrl=null),""===t.pictureUrl&&(e.comment.pictureUrl="https://png.icons8.com/material/50/000000/guest-male.png"),e.comment.fullname=t.fullname,e.comment.opinion=t.opinion,e.comment.pings=t.pings.toString().split(","),e.comment.createdDate=e.comment.createDate,e.comment.modifiedDate=e.comment.modifiedDate},dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()+" "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}return""}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()+"  "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}return""}}}},692:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{dossier_id:{type:Number},action_id:{type:Number}},data:function(){return{itemId:null,fieldNameID:"",date:null,dialog:!1,formBuilder:[],rulesValid:{number:function(t){return/^\d+$/.test(t)||"Kiểu dữ liệu sai định dạng."}}}},created:function(){var t=this;t.$nextTick(function(){var e={dossierId:t.dossier_id,actionId:t.action_id};t.$store.dispatch("getExtraForm",e).then(function(e){t.formBuilder=e})})},methods:{openDialogCustom:function(t,e){var i=this;i.dialog=!0,i.fieldNameID=e,i.itemId=t},pickDateCustom:function(){var t=this;t.itemId.value=t.dateTimeView(t.date),t.dialog=!1},inputChangeValue:function(t){t.value=document.getElementById(t.fieldName).value},dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()}return""},formSubmitData:function(){var t=this,e={};for(var i in t.formBuilder)e[t.formBuilder[i].fieldName]=t.formBuilder[i].value;return e}}}},693:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(37);i.n(n);e.default={props:{detailDossier:{}},data:function(){return{tabActive:"tabs-1",activeKS:!0,noteReason:"",thongTinHoSo:{}}},created:function(){},mounted:function(){},methods:{changeActive:function(){},doExport:function(){var t=this;return{textValue:t.noteReason,useKS:t.activeKS}}}}},694:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_jquery__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_0_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__),__WEBPACK_IMPORTED_MODULE_1_toastr__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_1_toastr___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_toastr__);__webpack_exports__.default={props:{id:{type:String,default:function(){return"nm"}},detailDossier:{type:Object,default:function(){}},createFiles:{type:Array,default:function(){return[]}}},data:function(){return{dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],sampleCount:0,fileTemplateItems:[]}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){return this.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData}},created:function(){var t=this;t.page=1,t.$nextTick(function(){t.detailDossier.dossierId&&t.$store.dispatch("loadDossierFiles",t.detailDossier.dossierId).then(function(e){t.dossierFilesItems=e,t.createFiles=t.mergeDossierTemplateVsDossierFiles(t.createFiles,e)}).catch(function(t){})})},mounted:function(){var t=this;t.$nextTick(function(){t.createFiles.length>0&&setTimeout(function(){t.genAllAlpacaForm(t.dossierFilesItems,t.createFiles)},300)})},methods:{genAllAlpacaForm:function(t,e){var i=this;if(i.length>0){var n=t.filter(function(t){return t.eForm}),a=e.filter(function(t){return t.eForm});n.length>0?n.forEach(function(t){t.eForm&&i.$store.dispatch("loadAlpcaForm",t)}):e.forEach(function(t){t.eForm&&(t.templateFileNo=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))}),a.length!==n.length&&a.forEach(function(t){-1===n.findIndex(function(e){return t.partNo===e.dossierPartNo})&&(t.templateFileNo=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))})}else e.forEach(function(t){t.eForm&&(t.templateFileNo=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))})},mergeDossierTemplateVsDossierFiles:function(t,e){return 0!==e.length?t.forEach(function(t){var i=e.find(function(e){return t.partNo===e.dossierPartNo&&e.eForm});i?t.daKhai=!0:!i&&t.eForm&&(t.daKhai=!1)}):t.forEach(function(t){t.eForm&&(t.daKhai=!1)}),t},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item.dossierId=vm.detailDossier.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){__WEBPACK_IMPORTED_MODULE_0_jquery___default()("#formAlpaca"+item.partNo+vm.id).empty();var formScript,formData;formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,__WEBPACK_IMPORTED_MODULE_0_jquery___default()("#formAlpaca"+item.partNo+vm.id).alpaca(formScript)})})},saveAlpacaForm:function(t,e){var i=this,n=i.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});n?(n.dossierId=i.detailDossier.dossierId,n.id=i.id,i.$store.dispatch("putAlpacaForm",n).then(function(t){}).catch(function(t){__WEBPACK_IMPORTED_MODULE_1_toastr___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")})):(t.dossierId=i.detailDossier.dossierId,t.id=i.id,i.$store.dispatch("postEform",t).then(function(t){i.createFiles[e].daKhai=!0,i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t}).catch(function(t){__WEBPACK_IMPORTED_MODULE_1_toastr___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")})}).catch(function(t){__WEBPACK_IMPORTED_MODULE_1_toastr___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")}))},onDeleteAttackFiles:function(t){var e=this;confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?")&&e.dossierFilesItems.forEach(function(i){i.dossierPartNo===t.partNo&&(i.dossierId=e.detailDossier.dossierId,e.$store.dispatch("deleteAttackFiles",i).then(function(t){e.$store.dispatch("loadDossierFiles",e.detailDossier.dossierId)}).catch(function(t){}))})},pickFile:function(t){this.stateAddFileOther=!1,document.getElementById("file"+t.partNo).click()},onUploadSingleFile:function(t,e){var i=this;i.dossierTemplatesItemSelect=e,i.progressUploadPart=e.partNo,e.dossierId=i.detailDossier.dossierId,e.dossierTemplateNo=i.detailDossier.dossierTemplateNo,i.$store.dispatch("uploadSingleFile",e).then(function(t){i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t})}).catch(function(t){i.progressUploadPart=""})},loadAlpcaForm:function(t){var e=this,i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});i?(i.id=e.id,e.$store.dispatch("loadAlpcaForm",i)):e.createFiles.forEach(function(i){i.eForm&&t.partNo===i.partNo&&(i.templateFileNo=e.detailDossier.dossierTemplateNo,e.showAlpacaJSFORM(i))})},deleteSingleFileEform:function(t,e){var i=this;confirm("Bạn có muốn xóa?")&&(i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&(e.dossierId=i.detailDossier.dossierId,i.$store.dispatch("deleteDossierFile",e).then(function(e){i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(e){i.dossierFilesItems=e;var n=i.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});n&&(i.fileViews=n)})}))}),i.createFiles[e].daKhai=!1)},previewFileEfom:function(t,e){var i=this;i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&(e.dossierId=i.detailDossier.dossierId,i.dialogPDFLoading=!0,i.dialogPDF=!0,e.id=i.id,i.$store.dispatch("putAlpacaForm",e).then(function(t){setTimeout(function(){i.$store.dispatch("viewFile",e).then(function(t){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+i.id).src=t})},1e3)}).catch(function(t){__WEBPACK_IMPORTED_MODULE_1_toastr___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")}))})},deleteSingleFile:function(t,e){var i=this;confirm("Bạn có muốn xóa?")&&(t.dossierId=i.detailDossier.dossierId,i.$store.dispatch("deleteDossierFile",t).then(function(n){i.fileViews.splice(e,1),i.stateView=!0,i.partView=t.dossierPartNo,i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t})}).catch(function(t){__WEBPACK_IMPORTED_MODULE_1_toastr___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")}))},viewFile:function(t){var e=this,i=this;i.dossierFilesItems.forEach(function(n){n.dossierId=i.detailDossier.dossierId,n.dossierPartNo===t.partNo&&e.$store.dispatch("viewFile",n)})},viewFile2:function(t){var e=this;if("doc"===t.fileType||"docx"===t.fileType||"xsl"===t.fileType){var i=e.initDataResource.dossierApi+"/"+e.detailDossier.dossierId+"/files/"+t.referenceUid;window.open(i)}else e.dialogPDFLoading=!0,e.dialogPDF=!0,t.dossierId=e.detailDossier.dossierId,e.$store.dispatch("viewFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t})},viewFileWithPartNo:function(t){var e=this;if(e.dossierFilesItems){var i=e.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});if(!i)return;e.fileViews=i,e.partView!==t.partNo?(e.stateView=!0,e.partView=t.partNo):(e.stateView=!e.stateView,e.partView=t.partNo)}},checkStyle:function(t){return"calc(100% - 50px)"},downloadFileTemplate:function(t,e){var i=this;if(i.fileTemplateItems.length>0){var n=i.fileTemplateItems.find(function(e){return t.fileTemplateNo===e.fileTemplateNo});if(n){var a=i.initDataResource.serviceInfoApi+"/"+n.serviceCode+"/filetemplates/"+n.fileTemplateNo;window.open(a)}}},cancelDialog:function(){var t=this;t.dialogAddOtherTemp=!1,t.progressUploadPart=""},addFileOther:function(t){var e=this;e.dialogAddOtherTemp=!0,e.stateAddFileOther=!0,e.dossierTemplatesItemSelect=t},changeDisplayName:function(t,e){var i=this,n={dossierId:i.detailDossier.dossierId,value:value};i.$store.dispatch("changeDisplayNameFile",n).then(function(t){i.fileViews[e].displayName=t.displayName,i.stateEdit=!1}).catch(function(t){})}}}},696:function(t,e,i){t.exports={default:i(697),__esModule:!0}},697:function(t,e,i){i(698);var n=i(30).Object;t.exports=function(t,e){return n.create(t,e)}},698:function(t,e,i){var n=i(51);n(n.S,"Object",{create:i(216)})},699:function(t,e,i){var n,a,o;!function(s){a=[i(37)],n=s,void 0!==(o="function"==typeof n?n.apply(e,a):n)&&(t.exports=o)}(function(t){/*!
 * jQuery.textcomplete
 *
 * Repository: https://github.com/yuku-t/jquery-textcomplete
 * License:    MIT (https://github.com/yuku-t/jquery-textcomplete/blob/master/LICENSE)
 * Author:     Yuku Takahashi
 */
if(void 0===t)throw new Error("jQuery.textcomplete requires jQuery");return function(t){"use strict";var e=function(t){console.warn&&console.warn(t)},i=1;t.fn.textcomplete=function(n,a){var o=Array.prototype.slice.call(arguments);return this.each(function(){var s=this,r=t(this),l=r.data("textComplete");if(l||(a||(a={}),a._oid=i++,l=new t.fn.textcomplete.Completer(this,a),r.data("textComplete",l)),"string"==typeof n){if(!l)return;o.shift(),l[n].apply(l,o),"destroy"===n&&r.removeData("textComplete")}else t.each(n,function(i){t.each(["header","footer","placement","maxCount"],function(t){i[t]&&(l.option[t]=i[t],e(t+"as a strategy param is deprecated. Use option."),delete i[t])})}),l.register(t.fn.textcomplete.Strategy.parse(n,{el:s,$el:r}))})}}(t),function(t){"use strict";function e(i,o){if(this.$el=t(i),this.id="textcomplete"+n++,this.strategies=[],this.views=[],this.option=t.extend({},e.defaults,o),!(this.$el.is("input[type=text]")||this.$el.is("input[type=search]")||this.$el.is("textarea")||i.isContentEditable||"true"==i.contentEditable))throw new Error("textcomplete must be called on a Textarea or a ContentEditable.");if(i===i.ownerDocument.activeElement)this.initialize();else{var s=this;this.$el.one("focus."+this.id,function(){s.initialize()}),this.option.adapter&&"CKEditor"!=this.option.adapter||"undefined"==typeof CKEDITOR||!this.$el.is("textarea")||CKEDITOR.on("instanceReady",function(e){-1==t.inArray(e.editor.id,a)&&(a.push(e.editor.id),e.editor.on("focus",function(i){s.$el=t(e.editor.editable().$),s.option.adapter||(s.option.adapter=t.fn.textcomplete.CKEditor),s.option.ckeditor_instance=e.editor,s.initialize()}))})}}var i=function(t){return"[object String]"===Object.prototype.toString.call(t)},n=0,a=[];e.defaults={appendTo:"body",className:"",dropdownClassName:"dropdown-menu textcomplete-dropdown",maxCount:10,zIndex:"100",rightEdgeOffset:30},t.extend(e.prototype,{id:null,option:null,strategies:null,adapter:null,dropdown:null,$el:null,$iframe:null,initialize:function(){var e=this.$el.get(0);if(this.$el.prop("ownerDocument")!==document&&window.frames.length)for(var i=0;i<window.frames.length;i++)if(this.$el.prop("ownerDocument")===window.frames[i].document){this.$iframe=t(window.frames[i].frameElement);break}this.dropdown=new t.fn.textcomplete.Dropdown(e,this,this.option);var n,a;this.option.adapter?n=this.option.adapter:(a=this.$el.is("textarea")||this.$el.is("input[type=text]")||this.$el.is("input[type=search]")?"number"==typeof e.selectionEnd?"Textarea":"IETextarea":"ContentEditable",n=t.fn.textcomplete[a]),this.adapter=new n(e,this,this.option)},destroy:function(){this.$el.off("."+this.id),this.adapter&&this.adapter.destroy(),this.dropdown&&this.dropdown.destroy(),this.$el=this.adapter=this.dropdown=null},deactivate:function(){this.dropdown&&this.dropdown.deactivate()},trigger:function(t,e){this.dropdown||this.initialize(),null!=t||(t=this.adapter.getTextFromHeadToCaret());var i=this._extractSearchQuery(t);if(i.length){var n=i[1];if(e&&this._term===n&&""!==n)return;this._term=n,this._search.apply(this,i)}else this._term=null,this.dropdown.deactivate()},fire:function(t){var e=Array.prototype.slice.call(arguments,1);return this.$el.trigger(t,e),this},register:function(t){Array.prototype.push.apply(this.strategies,t)},select:function(t,e,i){this._term=null,this.adapter.select(t,e,i),this.fire("change").fire("textComplete:select",t,e),this.adapter.focus()},_clearAtNext:!0,_term:null,_extractSearchQuery:function(e){for(var n=0;n<this.strategies.length;n++){var a=this.strategies[n],o=a.context(e);if(o||""===o){var s=t.isFunction(a.match)?a.match(e):a.match;i(o)&&(e=o);var r=e.match(s);if(r)return[a,r[a.index],r]}}return[]},_search:function(t){var e,i;return function(){var n=Array.prototype.slice.call(arguments);if(e)return void(i=n);e=!0;var a=this;n.unshift(function n(){if(i){var o=i;i=void 0,o.unshift(n),t.apply(a,o)}else e=!1}),t.apply(this,n)}}(function(t,e,i,n){var a=this;e.search(i,function(n,o){a.dropdown.shown||a.dropdown.activate(),a._clearAtNext&&(a.dropdown.clear(),a._clearAtNext=!1),a.dropdown.setPosition(a.adapter.getCaretPosition()),a.dropdown.render(a._zip(n,e,i)),o||(t(),a._clearAtNext=!0)},n)}),_zip:function(e,i,n){return t.map(e,function(t){return{value:t,strategy:i,term:n}})}}),t.fn.textcomplete.Completer=e}(t),function(t){"use strict";function e(i,n,o){this.$el=e.createElement(o),this.completer=n,this.id=n.id+"dropdown",this._data=[],this.$inputEl=t(i),this.option=o,o.listPosition&&(this.setPosition=o.listPosition),o.height&&this.$el.height(o.height);var s=this;t.each(["maxCount","placement","footer","header","noResultsMessage","className"],function(t,e){null!=o[e]&&(s[e]=o[e])}),this._bindEvents(i),a[this.id]=this}var i=t(window),n=function(t,e){var i,n,a=e.strategy.idProperty;for(i=0;i<t.length;i++)if(n=t[i],n.strategy===e.strategy)if(a){if(n.value[a]===e.value[a])return!0}else if(n.value===e.value)return!0;return!1},a={};t(document).on("click",function(e){var i=e.originalEvent&&e.originalEvent.keepTextCompleteDropdown;t.each(a,function(t,e){t!==i&&e.deactivate()})});var o={SKIP_DEFAULT:0,KEY_UP:1,KEY_DOWN:2,KEY_ENTER:3,KEY_PAGEUP:4,KEY_PAGEDOWN:5,KEY_ESCAPE:6};t.extend(e,{createElement:function(e){var i=e.appendTo;return i instanceof t||(i=t(i)),t("<ul></ul>").addClass(e.dropdownClassName).attr("id","textcomplete-dropdown-"+e._oid).css({display:"none",left:0,position:"absolute",zIndex:e.zIndex}).appendTo(i)}}),t.extend(e.prototype,{$el:null,$inputEl:null,completer:null,footer:null,header:null,id:null,maxCount:null,placement:"",shown:!1,data:[],className:"",destroy:function(){this.deactivate(),this.$el.off("."+this.id),this.$inputEl.off("."+this.id),this.clear(),this.$el.remove(),this.$el=this.$inputEl=this.completer=null,delete a[this.id]},render:function(e){var i=this._buildContents(e),n=t.map(e,function(t){return t.value});if(e.length){var a=e[0].strategy;a.id?this.$el.attr("data-strategy",a.id):this.$el.removeAttr("data-strategy"),this._renderHeader(n),this._renderFooter(n),i&&(this._renderContents(i),this._fitToBottom(),this._fitToRight(),this._activateIndexedItem()),this._setScroll()}else this.noResultsMessage?this._renderNoResultsMessage(n):this.shown&&this.deactivate()},setPosition:function(e){var n="absolute";return this.$inputEl.add(this.$inputEl.parents()).each(function(){return"absolute"!==t(this).css("position")&&("fixed"===t(this).css("position")?(e.top-=i.scrollTop(),e.left-=i.scrollLeft(),n="fixed",!1):void 0)}),this.$el.css(this._applyPlacement(e)),this.$el.css({position:n}),this},clear:function(){this.$el.html(""),this.data=[],this._index=0,this._$header=this._$footer=this._$noResultsMessage=null},activate:function(){return this.shown||(this.clear(),this.$el.show(),this.className&&this.$el.addClass(this.className),this.completer.fire("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.className&&this.$el.removeClass(this.className),this.completer.fire("textComplete:hide"),this.shown=!1),this},isUp:function(t){return 38===t.keyCode||t.ctrlKey&&80===t.keyCode},isDown:function(t){return 40===t.keyCode||t.ctrlKey&&78===t.keyCode},isEnter:function(t){return!(t.ctrlKey||t.altKey||t.metaKey||t.shiftKey)&&(13===t.keyCode||9===t.keyCode||!0===this.option.completeOnSpace&&32===t.keyCode)},isPageup:function(t){return 33===t.keyCode},isPagedown:function(t){return 34===t.keyCode},isEscape:function(t){return 27===t.keyCode},_data:null,_index:null,_$header:null,_$noResultsMessage:null,_$footer:null,_bindEvents:function(){this.$el.on("mousedown."+this.id,".textcomplete-item",t.proxy(this._onClick,this)),this.$el.on("touchstart."+this.id,".textcomplete-item",t.proxy(this._onClick,this)),this.$el.on("mouseover."+this.id,".textcomplete-item",t.proxy(this._onMouseover,this)),this.$inputEl.on("keydown."+this.id,t.proxy(this._onKeydown,this))},_onClick:function(e){var i=t(e.target);e.preventDefault(),e.originalEvent.keepTextCompleteDropdown=this.id,i.hasClass("textcomplete-item")||(i=i.closest(".textcomplete-item"));var n=this.data[parseInt(i.data("index"),10)];this.completer.select(n.value,n.strategy,e);var a=this;setTimeout(function(){a.deactivate(),"touchstart"===e.type&&a.$inputEl.focus()},0)},_onMouseover:function(e){var i=t(e.target);e.preventDefault(),i.hasClass("textcomplete-item")||(i=i.closest(".textcomplete-item")),this._index=parseInt(i.data("index"),10),this._activateIndexedItem()},_onKeydown:function(e){if(this.shown){var i;switch(t.isFunction(this.option.onKeydown)&&(i=this.option.onKeydown(e,o)),null==i&&(i=this._defaultKeydown(e)),i){case o.KEY_UP:e.preventDefault(),this._up();break;case o.KEY_DOWN:e.preventDefault(),this._down();break;case o.KEY_ENTER:e.preventDefault(),this._enter(e);break;case o.KEY_PAGEUP:e.preventDefault(),this._pageup();break;case o.KEY_PAGEDOWN:e.preventDefault(),this._pagedown();break;case o.KEY_ESCAPE:e.preventDefault(),this.deactivate()}}},_defaultKeydown:function(t){return this.isUp(t)?o.KEY_UP:this.isDown(t)?o.KEY_DOWN:this.isEnter(t)?o.KEY_ENTER:this.isPageup(t)?o.KEY_PAGEUP:this.isPagedown(t)?o.KEY_PAGEDOWN:this.isEscape(t)?o.KEY_ESCAPE:void 0},_up:function(){0===this._index?this._index=this.data.length-1:this._index-=1,this._activateIndexedItem(),this._setScroll()},_down:function(){this._index===this.data.length-1?this._index=0:this._index+=1,this._activateIndexedItem(),this._setScroll()},_enter:function(t){var e=this.data[parseInt(this._getActiveElement().data("index"),10)];this.completer.select(e.value,e.strategy,t),this.deactivate()},_pageup:function(){var e=0,i=this._getActiveElement().position().top-this.$el.innerHeight();this.$el.children().each(function(n){if(t(this).position().top+t(this).outerHeight()>i)return e=n,!1}),this._index=e,this._activateIndexedItem(),this._setScroll()},_pagedown:function(){var e=this.data.length-1,i=this._getActiveElement().position().top+this.$el.innerHeight();this.$el.children().each(function(n){if(t(this).position().top>i)return e=n,!1}),this._index=e,this._activateIndexedItem(),this._setScroll()},_activateIndexedItem:function(){this.$el.find(".textcomplete-item.active").removeClass("active"),this._getActiveElement().addClass("active")},_getActiveElement:function(){return this.$el.children(".textcomplete-item:nth("+this._index+")")},_setScroll:function(){var t=this._getActiveElement(),e=t.position().top,i=t.outerHeight(),n=this.$el.innerHeight(),a=this.$el.scrollTop();0===this._index||this._index==this.data.length-1||e<0?this.$el.scrollTop(e+a):e+i>n&&this.$el.scrollTop(e+i+a-n)},_buildContents:function(t){var e,i,a,o="";for(i=0;i<t.length&&this.data.length!==this.maxCount;i++)e=t[i],n(this.data,e)||(a=this.data.length,this.data.push(e),o+='<li class="textcomplete-item" data-index="'+a+'"><a>',o+=e.strategy.template(e.value,e.term),o+="</a></li>");return o},_renderHeader:function(e){if(this.header){this._$header||(this._$header=t('<li class="textcomplete-header"></li>').prependTo(this.$el));var i=t.isFunction(this.header)?this.header(e):this.header;this._$header.html(i)}},_renderFooter:function(e){if(this.footer){this._$footer||(this._$footer=t('<li class="textcomplete-footer"></li>').appendTo(this.$el));var i=t.isFunction(this.footer)?this.footer(e):this.footer;this._$footer.html(i)}},_renderNoResultsMessage:function(e){if(this.noResultsMessage){this._$noResultsMessage||(this._$noResultsMessage=t('<li class="textcomplete-no-results-message"></li>').appendTo(this.$el));var i=t.isFunction(this.noResultsMessage)?this.noResultsMessage(e):this.noResultsMessage;this._$noResultsMessage.html(i)}},_renderContents:function(t){this._$footer?this._$footer.before(t):this.$el.append(t)},_fitToBottom:function(){var t=i.scrollTop()+i.height(),e=this.$el.height();this.$el.position().top+e>t&&(this.completer.$iframe||this.$el.offset({top:t-e}))},_fitToRight:function(){for(var t,e=this.option.rightEdgeOffset,n=this.$el.offset().left,a=this.$el.width(),o=i.width()-e;n+a>o&&(this.$el.offset({left:n-e}),!((t=this.$el.offset().left)>=n));)n=t},_applyPlacement:function(t){return-1!==this.placement.indexOf("top")?t={top:"auto",bottom:this.$el.parent().height()-t.top+t.lineHeight,left:t.left}:(t.bottom="auto",delete t.lineHeight),-1!==this.placement.indexOf("absleft")?t.left=0:-1!==this.placement.indexOf("absright")&&(t.right=0,t.left="auto"),t}}),t.fn.textcomplete.Dropdown=e,t.extend(t.fn.textcomplete,o)}(t),function(t){"use strict";function e(e){t.extend(this,e),this.cache&&(this.search=i(this.search))}var i=function(t){var e={};return function(i,n){e[i]?n(e[i]):t.call(this,i,function(t){e[i]=(e[i]||[]).concat(t),n.apply(null,arguments)})}};e.parse=function(i,n){return t.map(i,function(t){var i=new e(t);return i.el=n.el,i.$el=n.$el,i})},t.extend(e.prototype,{match:null,replace:null,search:null,id:null,cache:!1,context:function(){return!0},index:2,template:function(t){return t},idProperty:null}),t.fn.textcomplete.Strategy=e}(t),function(t){"use strict";function e(){}var i=Date.now||function(){return(new Date).getTime()},n=function(t,e){var n,a,o,s,r,l=function(){var c=i()-s;c<e?n=setTimeout(l,e-c):(n=null,r=t.apply(o,a),o=a=null)};return function(){return o=this,a=arguments,s=i(),n||(n=setTimeout(l,e)),r}};t.extend(e.prototype,{id:null,completer:null,el:null,$el:null,option:null,initialize:function(e,i,a){this.el=e,this.$el=t(e),this.id=i.id+this.constructor.name,this.completer=i,this.option=a,this.option.debounce&&(this._onKeyup=n(this._onKeyup,this.option.debounce)),this._bindEvents()},destroy:function(){this.$el.off("."+this.id),this.$el=this.el=this.completer=null},select:function(){throw new Error("Not implemented")},getCaretPosition:function(){var e=this._getCaretRelativePosition(),i=this.$el.offset(),n=this.option.appendTo;if(n){n instanceof t||(n=t(n));var a=n.offsetParent().offset();i.top-=a.top,i.left-=a.left}return e.top+=i.top,e.left+=i.left,e},focus:function(){this.$el.focus()},_bindEvents:function(){this.$el.on("keyup."+this.id,t.proxy(this._onKeyup,this))},_onKeyup:function(t){this._skipSearch(t)||this.completer.trigger(this.getTextFromHeadToCaret(),!0)},_skipSearch:function(t){switch(t.keyCode){case 9:case 13:case 16:case 17:case 18:case 33:case 34:case 40:case 38:case 27:return!0}if(t.ctrlKey)switch(t.keyCode){case 78:case 80:return!0}}}),t.fn.textcomplete.Adapter=e}(t),function(t){"use strict";function e(t,e,i){this.initialize(t,e,i)}t.extend(e.prototype,t.fn.textcomplete.Adapter.prototype,{select:function(e,i,n){var a,o=this.getTextFromHeadToCaret(),s=this.el.value.substring(this.el.selectionEnd),r=i.replace(e,n);void 0!==r&&(t.isArray(r)&&(s=r[1]+s,r=r[0]),a=t.isFunction(i.match)?i.match(o):i.match,o=o.replace(a,r),this.$el.val(o+s),this.el.selectionStart=this.el.selectionEnd=o.length)},getTextFromHeadToCaret:function(){return this.el.value.substring(0,this.el.selectionEnd)},_getCaretRelativePosition:function(){var e=t.fn.textcomplete.getCaretCoordinates(this.el,this.el.selectionStart);return{top:e.top+this._calculateLineHeight()-this.$el.scrollTop(),left:e.left-this.$el.scrollLeft(),lineHeight:this._calculateLineHeight()}},_calculateLineHeight:function(){var t=parseInt(this.$el.css("line-height"),10);if(isNaN(t)){var e=this.el.parentNode,i=document.createElement(this.el.nodeName),n=this.el.style;i.setAttribute("style","margin:0px;padding:0px;font-family:"+n.fontFamily+";font-size:"+n.fontSize),i.innerHTML="test",e.appendChild(i),t=i.clientHeight,e.removeChild(i)}return t}}),t.fn.textcomplete.Textarea=e}(t),function(t){"use strict";function e(e,n,a){this.initialize(e,n,a),t("<span>"+i+"</span>").css({position:"absolute",top:-9999,left:-9999}).insertBefore(e)}var i="吶";t.extend(e.prototype,t.fn.textcomplete.Textarea.prototype,{select:function(e,i,n){var a,o=this.getTextFromHeadToCaret(),s=this.el.value.substring(o.length),r=i.replace(e,n);if(void 0!==r){t.isArray(r)&&(s=r[1]+s,r=r[0]),a=t.isFunction(i.match)?i.match(o):i.match,o=o.replace(a,r),this.$el.val(o+s),this.el.focus();var l=this.el.createTextRange();l.collapse(!0),l.moveEnd("character",o.length),l.moveStart("character",o.length),l.select()}},getTextFromHeadToCaret:function(){this.el.focus();var t=document.selection.createRange();t.moveStart("character",-this.el.value.length);var e=t.text.split(i);return 1===e.length?e[0]:e[1]}}),t.fn.textcomplete.IETextarea=e}(t),function(t){"use strict";function e(t,e,i){this.initialize(t,e,i)}t.extend(e.prototype,t.fn.textcomplete.Adapter.prototype,{select:function(e,i,n){var a=this.getTextFromHeadToCaret(),o=this.el.ownerDocument.getSelection(),s=o.getRangeAt(0),r=s.cloneRange();r.selectNodeContents(s.startContainer);var l,c=r.toString(),d=c.substring(s.startOffset),p=i.replace(e,n);if(void 0!==p){t.isArray(p)&&(d=p[1]+d,p=p[0]),l=t.isFunction(i.match)?i.match(a):i.match,a=a.replace(l,p).replace(/ $/,"&nbsp"),s.selectNodeContents(s.startContainer),s.deleteContents();var u=this.el.ownerDocument.createElement("div");u.innerHTML=a;var h=this.el.ownerDocument.createElement("div");h.innerHTML=d;for(var m,f,v=this.el.ownerDocument.createDocumentFragment();m=u.firstChild;)f=v.appendChild(m);for(;m=h.firstChild;)v.appendChild(m);s.insertNode(v),s.setStartAfter(f),s.collapse(!0),o.removeAllRanges(),o.addRange(s)}},_getCaretRelativePosition:function(){var e=this.el.ownerDocument.getSelection().getRangeAt(0).cloneRange(),i=e.endContainer.parentNode,n=this.el.ownerDocument.createElement("span");e.insertNode(n),e.selectNodeContents(n),e.deleteContents(),setTimeout(function(){i.normalize()},0);var a=t(n),o=a.offset();if(o.left-=this.$el.offset().left,o.top+=a.height()-this.$el.offset().top,o.lineHeight=a.height(),this.completer.$iframe){var s=this.completer.$iframe.offset();o.top+=s.top,o.left+=s.left,o.top-=t(this.completer.$iframe[0].contentWindow.document).scrollTop()}return a.remove(),o},getTextFromHeadToCaret:function(){var t=this.el.ownerDocument.getSelection().getRangeAt(0),e=t.cloneRange();return e.selectNodeContents(t.startContainer),e.toString().substring(0,t.startOffset)}}),t.fn.textcomplete.ContentEditable=e}(t),function(t){"use strict";function e(t,e,i){this.initialize(t,e,i)}t.extend(e.prototype,t.fn.textcomplete.ContentEditable.prototype,{_bindEvents:function(){var e=this;this.option.ckeditor_instance.on("key",function(t){var i=t.data;if(e._onKeyup(i),e.completer.dropdown.shown&&e._skipSearch(i))return!1},null,null,1),this.$el.on("keyup."+this.id,t.proxy(this._onKeyup,this))}}),t.fn.textcomplete.CKEditor=e}(t),function(t){function e(t,e,o){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=o&&o.debug||!1;if(s){var r=document.querySelector("#input-textarea-caret-position-mirror-div");r&&r.parentNode.removeChild(r)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var c=l.style,d=window.getComputedStyle?getComputedStyle(t):t.currentStyle;c.whiteSpace="pre-wrap","INPUT"!==t.nodeName&&(c.wordWrap="break-word"),c.position="absolute",s||(c.visibility="hidden"),i.forEach(function(t){c[t]=d[t]}),a?t.scrollHeight>parseInt(d.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=t.value.substring(0,e),"INPUT"===t.nodeName&&(l.textContent=l.textContent.replace(/\s/g," "));var p=document.createElement("span");p.textContent=t.value.substring(e)||".",l.appendChild(p);var u={top:p.offsetTop+parseInt(d.borderTopWidth),left:p.offsetLeft+parseInt(d.borderLeftWidth)};return s?p.style.backgroundColor="#aaa":document.body.removeChild(l),u}var i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,a=n&&null!=window.mozInnerScreenX;t.fn.textcomplete.getCaretCoordinates=e}(t),t})},700:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-expansion-panel",{staticClass:"expansion-pl ext__form"},t._l(t.formBuilder,function(e,n){return i("v-expansion-panel-content",{key:n,attrs:{"hide-actions":"",value:"1"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n      "+t._s(e.fieldLabel)+"\n      ")]),t._v(" "),i("v-card",[i("v-card-text",{staticClass:"py-2 px-2"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},["textarea"===e.fieldType?i("v-text-field",{attrs:{id:e.fieldName,value:e.value,placeholder:e.placeholder,"multi-line":""},on:{input:function(i){t.inputChangeValue(e)}}}):t._e(),t._v(" "),"string"===e.fieldType?i("v-text-field",{attrs:{id:e.fieldName,value:e.value,placeholder:e.placeholder},on:{input:function(i){t.inputChangeValue(e)}}}):t._e(),t._v(" "),"number"===e.fieldType?i("v-text-field",{attrs:{id:e.fieldName,value:e.value,placeholder:e.placeholder,rules:[t.rulesValid.number]},on:{input:function(i){t.inputChangeValue(e)}}}):t._e(),t._v(" "),"date"===e.fieldType?i("v-text-field",{attrs:{id:e.fieldName,value:e.value,placeholder:e.placeholder,readonly:"","append-icon":"event"},nativeOn:{click:function(i){t.openDialogCustom(e,e.fieldName)}}}):t._e()],1)],1)],1),t._v(" "),i("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-date-picker",{attrs:{"full-width":"",landscape:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),i("v-card-actions",{staticStyle:{background:"#fff"}},[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.pickDateCustom}},[t._v("\n                Xác nhận\n            ")])],1)],1)],1)],1)}))},staticRenderFns:[]}},701:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"taotailieuketqua",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v(" Kết quả xử lý\n        ")]),t._v(" "),i("v-card",t._l(t.createFiles,function(e,n){return i("div",{key:e.partNo+"cr",staticClass:"form_alpaca",staticStyle:{position:"relative"}},[i("v-expansion-panel",{staticClass:"expaned__list__data"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:!1}},[i("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[i("div",{staticStyle:{"align-items":"center","min-height":"38px",background:"#fff","padding-left":"15px"},style:{width:t.checkStyle(e)}},[i("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex","min-height":"38px"}},[i("div",{staticClass:"header__tphs"},[i("span",{staticClass:"text-bold"},[t._v(t._s(n+1)+".")]),t._v("  ")]),t._v(" "),i("div",{staticClass:"header__tphs"},[t._v("\n                        "+t._s(e.partName)+" "),e.required?i("span",{staticStyle:{color:"red"}},[t._v(" (*)")]):t._e(),t._v(" "),e.eForm?i("v-tooltip",{attrs:{top:""}},[i("v-badge",[e.daKhai?i("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}):i("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"})]),t._v(" "),i("span",[t._v("Form trực tuyến "+t._s(e.daKhai?"Đã khai":"Chưa khai "))])],1):t._e()],1)]),t._v(" "),t._l(t.dossierFilesItems,function(n,a){return e.partNo+t.id!==n.dossierPartNo+t.id||n.eForm?t._e():i("div",{key:a+"cr"},[i("div",{staticStyle:{width:"calc(100% - 370px)",display:"flex","align-items":"center","min-height":"38px",background:"#fff","padding-left":"15px","font-size":"12px"}},[i("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(n)}}},[n.eForm?i("v-icon",[t._v("border_color")]):i("v-icon",[t._v("attach_file")]),t._v("\n                      "+t._s(n.displayName)+" - \n                      "),i("i",[t._v(t._s(n.modifiedDate))])],1),t._v(" "),i("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.deleteSingleFile(n,a)}}},[i("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)])})],2)]),t._v(" "),e.eForm?i("v-card",[i("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[i("v-layout",{attrs:{wrap:""}},[t.stateView?t._e():i("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[e.eForm?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){t.saveAlpacaForm(e,n)}}},[t._v("Lưu lại")]):t._e(),t._v(" "),e.daKhai&&e.eForm?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){t.deleteSingleFileEform(e,n)}}},[t._v("Xóa")]):t._e(),t._v(" "),e.daKhai&&e.eForm?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){t.previewFileEfom(e,n)}}},[t._v("Preview")]):t._e(),t._v(" "),i("div",{attrs:{id:"formAlpaca"+e.partNo+t.id}})],1)],1)],1)],1):t._e()],1)],1),t._v(" "),i("div",{staticClass:"absolute__btn group__thanh_phan pr-3 mr-1"},[t.loading?i("content-placeholders",{staticClass:"mt-1"},[i("content-placeholders-text",{attrs:{lines:1}})],1):i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticStyle:{width:"50px"}},[i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(i){t.onUploadSingleFile(i,e)}}}),t._v(" "),t.progressUploadPart+t.id===e.partNo+t.id?i("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t.progressUploadPart+t.id!==e.partNo+t.id?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){t.pickFile(e)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"16",color:"primary"}},[t._v("cloud_upload")])],1)],1),t._v(" "),i("span",[t._v("Tải file lên")])],1):t._e()],1)],1)],1)],1)})),t._v(" "),i("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("File đính kèm")]),t._v(" "),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("clear")])],1),t._v(" "),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),t._v(" "),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)],1)],1)},staticRenderFns:[]}},703:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment-temp"},[i("div",[i("v-expansion-panel",{staticClass:"expansion-pl-transparent"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:!0}},[i("v-card",{staticClass:"comments__container"},[i("v-card-text",[i("div",{attrs:{id:"comments-container-el"}})])],1)],1)],1)],1)])},staticRenderFns:[]}},704:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Duyệt hồ sơ\n      ")]),t._v(" "),i("v-card",[i("v-card-text",{staticClass:"px-0 py-0"},[i("v-tabs",{staticClass:"mb-4",attrs:{"icons-and-text":""},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[i("v-tabs-slider",{attrs:{color:"primary"}}),t._v(" "),i("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:t.changeActive}},[i("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[t._v("Ký kết quả hồ sơ")])],1),t._v(" "),i("v-tab",{key:2,attrs:{href:"#tabs-3"},on:{click:t.changeActive}},[i("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[t._v("Không ký duyệt")])],1),t._v(" "),i("v-tab",{key:3,attrs:{href:"#tabs-4"},on:{click:t.changeActive}},[i("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[t._v("Yêu cầu trình lại")])],1),t._v(" "),i("v-tabs-items",{staticClass:"px-3 py-3"},[i("v-tab-item",{key:1,attrs:{id:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[i("v-checkbox",{attrs:{label:"Sử dụng chữ ký số"},model:{value:t.activeKS,callback:function(e){t.activeKS=e},expression:"activeKS"}})],1),t._v(" "),i("v-tab-item",{key:2,attrs:{id:"tabs-3","reverse-transition":"fade-transition",transition:"fade-transition"}},[t._v("\n                Lý do:\n                "),i("v-text-field",{staticClass:"pt-2",attrs:{placeholder:"Lý do không ký hồ sơ",textarea:"",rows:2},model:{value:t.noteReason,callback:function(e){t.noteReason=e},expression:"noteReason"}})],1),t._v(" "),i("v-tab-item",{key:3,attrs:{id:"tabs-4","reverse-transition":"fade-transition",transition:"fade-transition"}},[i("p",{staticClass:"mb-2"},[t._v("Trình lại: "),i("span",{staticClass:"text-bold"},[t._v(t._s(t.detailDossier.govAgencyName))])]),t._v("\n                Lý do:\n                "),i("v-text-field",{staticClass:"pt-2",attrs:{placeholder:"Lý do trình lại hồ sơ",textarea:"",rows:2},model:{value:t.noteReason,callback:function(e){t.noteReason=e},expression:"noteReason"}})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},705:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},740:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(144),a=i.n(n),o=i(38),s=i(37),r=(i.n(s),i(669),i(228)),l=(i.n(r),i(220)),c=i.n(l),d=i(219),p=i.n(d),u=i(221),h=i.n(u),m=i(215),f=i.n(m),v=i(230),g=i.n(v),_=i(222),y=i.n(_),C=i(231),x=i.n(C),b=i(229),T=i.n(b),w=i(212),A=i.n(w);e.default={props:["index"],components:{"thong-tin-co-ban-ho-so":c.a,"phan-cong":p.a,"tra-ket-qua":h.a,"thu-phi":f.a,"ky-duyet":g.a,"y-kien-can-bo":y.a,"tai-lieu-ket-qua":x.a,"form-bo-sung-thong-tin":T.a,"thanh-phan-ho-so":A.a},data:function(){return{headersTable:[{text:"#",align:"center",sortable:!1},{text:"Mã hồ sơ",align:"center",sortable:!1},{text:"Chủ hồ sơ",align:"center",sortable:!1},{text:"Địa chỉ",align:"center",sortable:!1},{text:"Thời gian",align:"center",sortable:!1}],mutilpleAction:!1,actionExits:[],dossierProcess:[],countProcessed:0,activeNotify:!1,dialog_statusAction:!1,thongTinChiTietHoSo:{},nextActions:[],payments:"",dossierActions:[],itemselect:"",actionNote:"",actionsSubmitLoading:!1,showThongTinCoBanHoSo:!1,showYkienCanBoThucHien:!1,showFormBoSungThongTinNgan:!1,showPhanCongNguoiThucHien:!1,showTaoTaiLieuKetQua:!1,showKyPheDuyetTaiLieu:!1,showTraKetQua:!1,showThuPhi:!1,checkInput:0,viaPortalDetail:0,showThucHienThanhToanDienTu:!1,dossierItemDialogPick:"",itemDialogPick:"",resultDialogPick:"",indexDialogPick:"",userNote:0,partView:"",stateView:!1,payment_type:0,type_assign:0,returnFiles:[],assign_items:[],btnStateVisible:!0,dialogActionProcess:!1,rollbackable:!1,dialogPDF:!1,dialogPDFLoading:!1,loadingActionProcess:!1,loadingAction:!1}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){return this.getOriginality()},dossierSelected:function(){return this.$store.getters.dossierSelected},actionActive:function(){return this.$store.getters.actionActive},activeGetCounter:function(){return this.$store.getters.activeGetCounter}},created:function(){var t=this;t.$nextTick(function(){t.btnIndex=-1;t.$router.history.current.query;t.getNextActions()})},updated:function(){this.$nextTick(function(){})},watch:{},methods:{initData:function(t){},goBack:function(){window.history.back()},processPullBtnDetailRouter:function(t,e,i,n){var a=this,o=!1;a.dossierId=t.dossierId,a.showYkienCanBoThucHien=!1,a.showFormBoSungThongTinNgan=!1,a.showPhanCongNguoiThucHien=!1,a.showTaoTaiLieuKetQua=!1,a.showKyPheDuyetTaiLieu=!1,a.showTraKetQua=!1,a.showThuPhi=!1,a.showThucHienThanhToanDienTu=!1,a.dossierItemDialogPick=t,a.itemDialogPick=e,a.resultDialogPick=i,a.indexDialogPick=n,a.userNote=0,null!==i&&void 0!==i&&"undefined"!==i&&(i.hasOwnProperty("userNote")||i.hasOwnProperty("extraForm")||i.hasOwnProperty("allowAssignUser")||i.hasOwnProperty("createFiles")||i.hasOwnProperty("eSignature")||i.hasOwnProperty("returnFiles")||i.hasOwnProperty("payment")||i.hasOwnProperty("checkInput"))&&(!i.hasOwnProperty("userNote")||1!==i.userNote&&"1"!==i.userNote&&2!==i.userNote&&"2"!==i.userNote||(o=!0,a.showYkienCanBoThucHien=!0,a.userNote=i.userNote),i.hasOwnProperty("extraForm")&&i.extraForm&&(o=!0,a.showFormBoSungThongTinNgan=!0),i.hasOwnProperty("allowAssignUser")&&0!==i.allowAssignUser&&(Array.isArray(i.toUsers)?a.assign_items=i.toUsers:a.assign_items=[i.toUsers],a.type_assign=i.allowAssignUser,o=!0,a.showPhanCongNguoiThucHien=!0),i.hasOwnProperty("createFiles")&&null!==i.createFiles&&void 0!==i.createFiles&&"undefined"!==i.createFiles&&i.createFiles.length>0&&(o=!0,a.showTaoTaiLieuKetQua=!0,a.createFiles=i.createFiles),i.hasOwnProperty("eSignature")&&i.eSignature&&(o=!0,a.showKyPheDuyetTaiLieu=!0),i.hasOwnProperty("returnFiles")&&null!==i.returnFiles&&void 0!==i.returnFiles&&"undefined"!==i.returnFiles&&i.returnFiles.length>0&&(o=!0,a.showTraKetQua=!0,a.returnFiles=i.returnFiles),i.hasOwnProperty("payment")&&null!==i.payment&&void 0!==i.payment&&"undefined"!==i.payment&&5===i.payment.requestPayment&&(o=!0,a.showThuPhi=!0,a.payments=i.payment,a.viaPortalDetail=t.viaPostal),i.hasOwnProperty("checkInput")&&null!==i.checkInput&&void 0!==i.checkInput&&"undefined"!==i.checkInput&&(a.checkInput=i.checkInput,2===i.checkInput&&(o=!0,a.$refs.thanhphanhoso.initData(a.thongTinChiTietHoSo)))),o&&(a.dialogActionProcess=!0,a.loadingActionProcess=!1)},processPullBtnDetail:function(t,e){var i=this;i.btnIndex=e,i.itemAction=t,i.actionIdCurrent=t.processActionId;var n={dossierId:i.dossierSelected[0].dossierId,actionId:t.processActionId};i.dialogActionProcess=!1,i.$store.dispatch("processPullBtnDetail",n).then(function(n){i.processPullBtnDetailRouter(i.dossierSelected[0],t,n,e)})},doCopy:function(t,e,i,n){var a=this,s={dossierId:t.dossierId};a.loadingAction=!0,a.$store.dispatch("doCopy",s).then(function(t){a.loadingAction=!1,a.indexAction=-1,o.a.push({path:"/danh-sach-ho-so/"+a.index+"/ho-so/"+t.dossierId+"/"+a.itemAction.form,query:a.$router.history.current.query})})},doCancel:function(t,e,i,n){var a=this;if(a.loadingAction=!0,n);else{var s={dossierId:t.dossierId};a.$store.dispatch("doCancel",s).then(function(t){a.loadingAction=!1,a.indexAction=-1,o.a.push({path:"/danh-sach-ho-so/"+a.index+"/ho-so/"+t.dossierId+"/"+a.itemAction.form,query:a.$router.history.current.query})})}},processAction:function(){var t=this,e=t.$store.getters.loadingInitData,i=e.user.userName?e.user.userName:"";if(t.dossierProcess=t.dossierSelected.filter(function(t){return!1===t.statusAction||!t.statusAction}),t.countProcessed=0,t.mutilpleAction){for(var n in t.actionExits)for(var a in t.dossierSelected)if(!1===t.dossierSelected[a].statusAction||!t.dossierSelected[a].statusAction){var o={dossierId:t.dossierSelected[a].dossierId,actionCode:t.actionExits[n].actionCode,actionUser:i};t.postAction(o,t.dossierSelected[a],a)}}else for(var s in t.dossierSelected)if(!1===t.dossierSelected[s].statusAction||!t.dossierSelected[s].statusAction){var r={dossierId:t.dossierSelected[s].dossierId,actionCode:t.actionActive.action,actionUser:i};t.postAction(r,t.dossierSelected[s],s)}},postAction:function(t,e,i){var n=this,a=!0,o=!0;if(n.showPhanCongNguoiThucHien){t.toUsers=n.assign_items;a=!!n.$refs.phancong.doExport()}var s=null;if(n.payments&&(s={requestPayment:n.payments.requestPayment,advanceAmount:Number(n.payments.advanceAmount.toString().replace(/\./g,"")),feeAmount:Number(n.payments.feeAmount.toString().replace(/\./g,"")),serviceAmount:Number(n.payments.serviceAmount.toString().replace(/\./g,"")),shipAmount:Number(n.payments.shipAmount.toString().replace(/\./g,""))}),n.showThuPhi&&(t.payment=s),n.showFormBoSungThongTinNgan&&(t.payload=n.$refs.formBoSungThongTinNgan.formSubmitData()),n.showKyPheDuyetTaiLieu){n.$refs.kypheduyettailieu.doExport()}if(n.showYkienCanBoThucHien){var r=n.$refs.ykiencanbo.doExport(),l="";r.valid?(o=!0,l=r.text):o=!1,t.userNote=l}n.validateAction=!(!a||!o);n.$router.history.current.query;n.showYkienCanBoThucHien?n.validateAction&&(n.loadingActionProcess=!0,n.$store.dispatch("processDossierRouter",t).then(function(t){n.countProcessed+=1,n.dossierSelected[i].statusAction=!0,n.countProcessed===n.dossierProcess.length*n.actionExits.length&&n.activeNotify?(n.dialog_statusAction=!0,n.$store.dispatch("getActiveGetCounter",!n.activeGetCounter)):n.countProcessed===n.dossierProcess.length*n.actionExits.length&&(n.loadingActionProcess=!1,n.loadingAction=!1,n.btnStateVisible=!1,n.$store.dispatch("getActiveGetCounter",!n.activeGetCounter))}).catch(function(t){n.countProcessed+=1,n.activeNotify=!0,n.dossierSelected[i].statusAction=!1,n.countProcessed===n.dossierProcess.length*n.actionExits.length&&n.activeNotify?(n.dialog_statusAction=!0,n.$store.dispatch("getActiveGetCounter",!n.activeGetCounter)):n.countProcessed===n.dossierProcess.length*n.actionExits.length&&(n.loadingActionProcess=!1,n.loadingAction=!1,n.btnStateVisible=!1,n.$store.dispatch("getActiveGetCounter",!n.activeGetCounter))})):(n.loadingActionProcess=!0,n.$store.dispatch("processDossierRouter",t).then(function(t){n.countProcessed+=1,n.dossierSelected[i].statusAction=!0,n.countProcessed===n.dossierProcess.length*n.actionExits.length&&n.activeNotify?(n.dialog_statusAction=!0,n.$store.dispatch("getActiveGetCounter",!n.activeGetCounter)):n.countProcessed===n.dossierProcess.length*n.actionExits.length&&(n.loadingActionProcess=!1,n.loadingAction=!1,n.btnStateVisible=!1,n.$store.dispatch("getActiveGetCounter",!n.activeGetCounter))}).catch(function(t){n.countProcessed+=1,n.activeNotify=!0,n.dossierSelected[i].statusAction=!1,n.countProcessed===n.dossierProcess.length*n.actionExits.length&&n.activeNotify?(n.dialog_statusAction=!0,n.$store.dispatch("getActiveGetCounter",!n.activeGetCounter)):n.countProcessed===n.dossierProcess.length*n.actionExits.length&&(n.loadingActionProcess=!1,n.loadingAction=!1,n.btnStateVisible=!1,n.$store.dispatch("getActiveGetCounter",!n.activeGetCounter))}))},doPrint02:function(t,e,i,n){var o=this;if(null===o.thuTucHanhChinhSelected||void 0===o.thuTucHanhChinhSelected||"undefined"===o.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var s={document:e.document,serviceCode:o.thuTucHanhChinhSelected.serviceCode,govAgencyCode:o.thuTucHanhChinhSelected.govAgencyCode,dossiers:a()(o.selected)};o.dialogPDFLoading=!0,o.dialogPDF=!0,o.$store.dispatch("doPrint02",s).then(function(t){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t})}},doPrint03:function(t,e,i,n){var a=this;a.dialogPDFLoading=!0,a.dialogPDF=!0;var o={dossierId:t.dossierId,document:e.document};a.$store.dispatch("doPrint03",o).then(function(t){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t})},doGuiding:function(t,e,i,n){var a=this;if(null===a.thuTucHanhChinhSelected||void 0===a.thuTucHanhChinhSelected||"undefined"===a.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var o={serviceConfigId:a.thuTucHanhChinhSelected.serviceConfigId};a.dialogPDFLoading=!0,a.dialogPDF=!0,a.$store.dispatch("doGuiding",o).then(function(t){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t})}},getNextActions:function(){var t=this,e=(t.$router.history.current.query,{dossierId:t.dossierSelected[0].dossierId}),i=t.$router.history.current.query;t.$store.dispatch("pullNextactions",e).then(function(e){e=e.filter(function(t){return 1===t.enable});var n=t.actionActive.action.split(",");if(1===n.length){t.actionExits=n;var a=e.filter(function(e){return e.actionCode.toString()===t.actionActive.action.toString()});t.dialogActionProcess=!0,t.mutilpleAction=!1,t.processPullBtnDetail(a[0],i.btnIndex)}else{t.mutilpleAction=!0,t.actionExits=[];for(var o in n){var s,r=!1;for(var l in e)if(n[o].toString()===e[l].actionCode.toString()){r=!0,s=e[l];break}r&&t.actionExits.push(s)}t.dialogActionProcess=!0,t.processPullBtnDetail(t.actionExits[0],i.btnIndex)}})},postNextActions:function(t){var e=this;if(t.dossierId=e.thongTinChiTietHoSo.dossierId,t.allowAssignUser>0)e.$store.dispatch("reassignDossier",t).then(function(i){var n={dossierId:e.dossierId,actionCode:t.actionCode,actionNote:e.actionNote,actionUser:"",payload:"",security:"",assignUsers:"",payment:"",createDossiers:""};e.$store.dispatch("postAction",n).then(function(t){})});else{var i={dossierId:e.dossierId,actionCode:t.actionCode,actionNote:e.actionNote,actionUser:"",payload:"",security:"",assignUsers:"",payment:"",createDossiers:""};e.$store.dispatch("postAction",i).then(function(t){})}},closeDialogStatusAction:function(){this.dialog_statusAction=!1,this.btnStateVisible=!1}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear()+" | "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}return""},getMaxDueDate:function(t){return Math.max.apply(Math,t.map(function(t){return t.actionOverdue}))}}}},756:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.loading?i("content-placeholders",{staticClass:"mt-3"},[i("content-placeholders-text",{attrs:{lines:1}})],1):i("div",{staticClass:"row-header"},[i("div",{staticClass:"background-triangle-big"},[i("span",[t._v("XỬ LÝ HỒ SƠ")])]),t._v(" "),i("div",{staticClass:"layout row wrap header_tools row-blue"},[i("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:t.dossierSelected[0].serviceName}},[t._v("\n        "+t._s(t.dossierSelected[0].serviceName)+"\n      ")]),t._v(" "),i("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[i("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:t.goBack}},[t._v("\n          Quay lại  \n          "),i("v-icon",{attrs:{size:"16"}},[t._v("undo")])],1)],1)])]),t._v(" "),i("v-expansion-panel",{staticClass:"expansion-pl"},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[i("v-card",[i("v-card-text",{staticClass:"px-0 pt-0"},[i("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:t.headersTable,items:t.dossierSelected,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[i("tr",{class:{active:e.index%2==1}},[i("td",{staticClass:"text-xs-center"},[i("div",[i("span",[t._v(t._s(e.index+1))])])]),t._v(" "),i("td",{staticClass:"text-xs-left"},[i("div",[i("span",[t._v(t._s(e.item.dossierNo))]),i("br"),t._v(" "),e.item.online?i("span",{staticStyle:{color:"blue"}},[t._v("Hồ sơ trực tuyến")]):i("span",{staticStyle:{color:"green"}},[t._v("Hồ sơ một cửa")])])]),t._v(" "),i("td",{staticClass:"text-xs-left"},[i("div",[i("span",[t._v(t._s(e.item.applicantName))])])]),t._v(" "),i("td",{staticClass:"text-xs-left"},[i("div",[i("span",[t._v(t._s(e.item.wardName)+", "+t._s(e.item.districtName)+", "+t._s(e.item.cityName))])])]),t._v(" "),i("td",{staticClass:"text-xs-left"},[i("div",[i("span",[t._v(" Tiếp nhận: "+t._s(e.item.receiveDate)),i("br"),t._v("\n                      Hẹn trả: "+t._s(e.item.receiveDate)),i("br"),t._v(" "),i("span",[t._v(t._s(e.item.dossierOverdue))])])])])])]}}])})],1)],1)],1)],1),t._v(" "),i("v-dialog",{attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("File đính kèm")]),t._v(" "),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("clear")])],1),t._v(" "),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),t._v(" "),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),t._v(" "),i("div",[t.btnStateVisible?i("v-layout",{attrs:{wrap:""}},[t.showFormBoSungThongTinNgan?i("form-bo-sung-thong-tin",{ref:"formBoSungThongTinNgan",attrs:{dossier_id:Number(t.id),action_id:Number(t.actionIdCurrent)}}):t._e(),t._v(" "),t.showPhanCongNguoiThucHien?i("phan-cong",{ref:"phancong",attrs:{type:t.type_assign},model:{value:t.assign_items,callback:function(e){t.assign_items=e},expression:"assign_items"}}):t._e(),t._v(" "),t.showTraKetQua?i("tra-ket-qua",{attrs:{resultFiles:t.returnFiles}}):t._e(),t._v(" "),t.showThuPhi?i("thu-phi",{attrs:{viaPortal:t.viaPortalDetail},model:{value:t.payments,callback:function(e){t.payments=e},expression:"payments"}}):t._e(),t._v(" "),t.showKyPheDuyetTaiLieu?i("ky-duyet",{ref:"kypheduyettailieu",attrs:{detailDossier:t.thongTinChiTietHoSo}}):t._e(),t._v(" "),t.showYkienCanBoThucHien?i("y-kien-can-bo",{ref:"ykiencanbo",attrs:{user_note:t.userNote}}):t._e(),t._v(" "),i("v-btn",{attrs:{color:"primary",loading:t.loadingActionProcess,disabled:t.loadingActionProcess},nativeOn:{click:function(e){t.processAction()}}},[i("v-icon",[t._v("save")]),t._v(" \n        Xác nhận\n        "),i("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1),t._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.goBack()}}},[i("v-icon",[t._v("undo")]),t._v(" \n        Quay lại\n      ")],1)],1):t._e(),t._v(" "),t.btnStateVisible?t._e():i("v-alert",{attrs:{outline:"",color:"success",icon:"check_circle",value:!0}},[t._v("\n      Thực hiện thành công!\n    ")])],1),t._v(" "),i("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_statusAction,callback:function(e){t.dialog_statusAction=e},expression:"dialog_statusAction"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("\n        Trạng thái xử lý\n      ")]),t._v(" "),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.closeDialogStatusAction(e)}}},[i("v-icon",[t._v("clear")])],1),t._v(" "),i("v-card-text",{staticStyle:{"max-height":"350px"}},t._l(t.dossierSelected,function(e,n){return i("div",{key:e.dossierId},[i("v-layout",{staticClass:"py-1 align-center row-list-style",staticStyle:{"border-bottom":"1px solid #ddd",position:"relative"},attrs:{wrap:""}},[i("v-flex",{attrs:{xs11:""}},[i("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[t._v(t._s(n+1)+".")]),t._v(" "),i("div",{staticClass:"ml-4"},[i("span",{staticClass:"text-bold"},[t._v(t._s(e.dossierNo))]),t._v(" - "+t._s(e.applicantName))])]),t._v(" "),i("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[e.statusAction?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{attrs:{slot:"activator",size:"20",color:"primary"},slot:"activator"},[t._v("\n                  check\n                ")]),t._v(" "),i("span",[t._v("Thành công")])],1):i("v-tooltip",{attrs:{top:""}},[i("v-icon",{attrs:{slot:"activator",size:"20",color:"red darken-3"},slot:"activator"},[t._v("\n                  block\n                ")]),t._v(" "),i("span",[t._v("Thất bại")])],1)],1)],1)],1)})),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(e){t.processAction()}}},[i("v-icon",{attrs:{size:"20"}},[t._v("refresh")]),t._v(" \n          Thử lại\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1),t._v(" "),i("v-btn",{attrs:{color:"red",dark:"",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(e){return t.closeDialogStatusAction(e)}}},[i("v-icon",[t._v("undo")]),t._v(" \n          Thoát\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=5.a73db526d077d6b323fb.js.map