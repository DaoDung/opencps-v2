webpackJsonp([30],{253:function(e,t,s){var n=s(146)(s(603),s(618),null,null);e.exports=n.exports},603:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(39);t.default={props:["serviceCode"],data:function(){return{govAgencies:[],serviceOptions:[],serviceConfigSelect:null}},computed:{currentIndex:function(){return this.$store.getters.index}},created:function(){var e=this;e.$store.dispatch("loadServiceConfigsGov",{}).then(function(t){if(e.govAgencies=t,"0"!==String(e.serviceCode))for(var s in e.govAgencies){var n=e.govAgencies[s].govAgencyCode;for(var i in e.govAgencies[s].domains)for(var o in e.govAgencies[s].domains[i].serviceConfigs){var r=e.govAgencies[s].domains[i].serviceConfigs[o],c=r.serviceConfigId;if(String(e.serviceCode)===String(c)){e.pullServiceOptions(r,n);break}}}})},updated:function(){},watch:{},methods:{pullServiceOptions:function(e,t){console.log("govAgencyCode++++++++++",t);var s=this;s.serviceConfigSelect=e,s.$store.dispatch("getServiceOpionByProcess",e).then(function(i){1===i.length?s.$store.dispatch("getServiceInfo",{serviceInfoId:e.serviceInfoId}).then(function(e){console.log("resServiceInfo+++++++++++",e);var o={serviceCode:e.serviceCode,govAgencyCode:t,templateNo:i[0].templateNo,originality:s.getOriginality()};s.$store.dispatch("postDossier",o).then(function(e){s.loadingAction=!1,s.indexAction=-1,n.a.push({path:"/danh-sach-ho-so/0/ho-so/"+e.dossierId+"/NEW",query:s.$router.history.current.query})})}):s.serviceOptions=i})},selectServiceOption:function(e,t){var s=this;console.log("govAgencyCode+++++++++++",t),s.$store.dispatch("getServiceInfo",{serviceInfoId:s.serviceConfigSelect.serviceInfoId}).then(function(i){console.log("resServiceInfo+++++++++++",i);var o={serviceCode:i.serviceCode,govAgencyCode:t,templateNo:e.templateNo,originality:s.getOriginality()};s.$store.dispatch("postDossier",o).then(function(e){s.loadingAction=!1,s.indexAction=-1,n.a.push({path:"/danh-sach-ho-so/0/ho-so/"+e.dossierId+"/NEW",query:s.$router.history.current.query})})})}}}},618:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["0"!==String(e.serviceCode)?s("div",{staticClass:"text-center mt-4"},[s("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}}),e._v(" "),s("p",{staticClass:"mt-4"},[e._v("đang tạo hồ sơ ...")])],1):s("v-expansion-panel",{staticClass:"expand__select__gov",attrs:{expand:""}},e._l(e.govAgencies,function(t,n){return s("v-expansion-panel-content",{key:n},[s("div",{staticClass:"ml-3",attrs:{slot:"header"},slot:"header"},[s("v-icon",[e._v("account_balance")]),e._v(" "+e._s(t.govAgencyName))],1),e._v(" "),s("v-card",[s("v-card-text",{staticClass:"grey lighten-3 px-0 py-0"},[s("v-expansion-panel",{staticClass:"expand__select__domain",attrs:{expand:""}},e._l(t.domains,function(n,i){return t.domains?s("v-expansion-panel-content",{key:i},[s("div",{staticStyle:{"margin-left":"40px"},attrs:{slot:"header"},slot:"header"},[e._v(e._s(n.domainName))]),e._v(" "),s("v-card",[s("v-card-text",{staticClass:"card__text__gov",staticStyle:{"font-size":"13px","margin-left":"38px"}},[s("div",{attrs:{slot:"header"},slot:"header"},e._l(n.serviceConfigs,function(i,o){return n.serviceConfigs?s("v-layout",{key:o,staticClass:"center-all ml-2 mb-2",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm9:""}},[s("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(o+1)+".")]),e._v("  \n                        "),s("span",[e._v(e._s(i.serviceInfoName))])]),e._v(" "),s("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm1:""}},[e._v("\n                        Mức "+e._s(i.level)+"\n                      ")]),e._v(" "),s("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm2:""}},[s("v-menu",{attrs:{left:""}},[s("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",small:""},on:{click:function(s){e.pullServiceOptions(i,t.govAgencyCode)}},slot:"activator"},[e._v("\n                            Chọn\n                          ")]),e._v(" "),e.serviceOptions.length>1?s("v-list",e._l(e.serviceOptions,function(n,i){return s("v-list-tile",{key:i,on:{click:function(s){e.selectServiceOption(n,t.govAgencyCode)}}},[s("v-list-tile-title",[e._v(e._s(n.optionName))])],1)})):e._e()],1)],1)],1):e._e()}))])],1)],1):e._e()}))],1)],1)],1)}))],1)},staticRenderFns:[]}}});
//# sourceMappingURL=30.0fa7bdd37dae960712ea.js.map