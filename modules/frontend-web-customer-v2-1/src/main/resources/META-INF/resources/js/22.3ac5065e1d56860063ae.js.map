{"version":3,"sources":["webpack:///o/frontend-web-customer-v2-1/js/22.3ac5065e1d56860063ae.js","webpack:///./src/components/TiepNhan/TiepNhanHoSo_ThanhPhanHoSo.vue?7895***","webpack:///TiepNhanHoSo_ThanhPhanHoSo.vue?8c7c***","webpack:///./src/components/TiepNhan/TiepNhanHoSo_ThanhPhanHoSo.vue?7f5c****"],"names":["webpackJsonp","209","module","exports","__webpack_require__","Component","509","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_jquery__","__WEBPACK_IMPORTED_MODULE_1_jquery___default","data","dossierTemplateItems","dossierMarksItems","dossierFilesItems","thongTinHoSo","computed","loading","this","$store","getters","mounted","vm","page","$nextTick","methods","resetCounterTemplate","_ref","commit","state","forEach","val","partNo","hasForm","count","recountFileTemplates","itemTemplate","itemFile","dossierPartNo","initData","arrTemp","console","log","dossierId","push","dispatch","a","all","then","values","dossierTemplates","dossierMarks","dossierFiles","map","index","fileType","fileCheck","setTimeout","argument","length","dossierFilesEform","filter","file","eForm","dossierTemplatesHasForm","template","partType","itemFiles","dossierTemplateNo","showAlpacaJSFORM","findIndex","item","catch","reject","resScript","resData","formScript","formData","eval","alpaca","saveAlpacaForm","fileFind","find","files","resPostEform","resFiles","onDeleteAttackFiles","confirm","result","xhr","pickFile","document","getElementById","click","onUploadSingleFile","e","dataItem","loadAlpcaForm","viewFile","_this","511","render","_vm","_h","$createElement","_c","_self","_l","key","staticClass","staticStyle","position","class","no_acction__event","attrs","hide-actions","slot","width","display","align-items","min-height","background","padding-left","_v","_s","on","$event","partName","color","_e","font-size","wrap","xs12","id","lines","row","light","model","callback","$$v","$set","expression","disabled","top","icon","type","change","size","height","fab","dark","small","_m","staticRenderFns"],"mappings":"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","file":"o/frontend-web-customer-v2-1/js/22.3ac5065e1d56860063ae.js","sourcesContent":["webpackJsonp([22],{\n\n/***/ 209:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(138)(\n  /* script */\n  __webpack_require__(509),\n  /* template */\n  __webpack_require__(511),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 509:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(139);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      dossierTemplateItems: [],\n      dossierMarksItems: [],\n      dossierFilesItems: [],\n      thongTinHoSo: {}\n    };\n  },\n  computed: {\n    loading: function loading() {\n      return this.$store.getters.loading;\n    }\n  },\n  mounted: function mounted() {\n    var vm = this;\n    vm.page = 1;\n    vm.$nextTick(function () {});\n  },\n\n  methods: {\n    resetCounterTemplate: function resetCounterTemplate(_ref, data) {\n      var commit = _ref.commit,\n          state = _ref.state;\n\n      var vm = this;\n      vm.dossierTemplateItems.forEach(function (val) {\n        if (val.partNo === data.partNo) {\n          if (val.hasForm) {\n            val.count = 1;\n          } else {\n            val.count = 0;\n          }\n        }\n      });\n    },\n    recountFileTemplates: function recountFileTemplates() {\n      var vm = this;\n      vm.dossierTemplateItems.forEach(function (itemTemplate) {\n        itemTemplate.count = 0;\n        vm.dossierFilesItems.forEach(function (itemFile) {\n          if (itemTemplate.partNo === itemFile.dossierPartNo) {\n            itemTemplate.count++;\n          }\n        });\n      });\n    },\n    initData: function initData(data) {\n      var vm = this;\n      var arrTemp = [];\n      console.log(data.dossierId);\n      arrTemp.push(vm.$store.dispatch('loadDossierTemplates', data));\n      arrTemp.push(vm.$store.dispatch('loadDossierMark', data));\n      arrTemp.push(vm.$store.dispatch('loadDossierFiles', data.dossierId));\n      vm.thongTinHoSo = data;\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.all(arrTemp).then(function (values) {\n        var dossierTemplates = values[0];\n        var dossierMarks = values[1];\n        var dossierFiles = values[2];\n        var dossierTemplateItems = [];\n        if (dossierMarks) {\n          dossierTemplateItems = dossierTemplates.map(function (itemTemplate) {\n            if (itemTemplate.hasForm) {\n              itemTemplate.count = 1;\n            } else {\n              itemTemplate.count = 0;\n            }\n            dossierMarks.forEach(function (val, index) {\n              if (val.dossierPartNo === itemTemplate.partNo) {\n                itemTemplate.fileType = val.fileType;\n                itemTemplate.fileCheck = val.fileCheck;\n              }\n            });\n            return itemTemplate;\n          });\n        } else {\n          dossierTemplateItems = dossierTemplates.map(function (itemTemplate) {\n            if (itemTemplate.hasForm) {\n              itemTemplate.count = 1;\n            } else {\n              itemTemplate.count = 0;\n            }\n            itemTemplate.fileType = 0;\n            itemTemplate.fileCheck = false;\n            return itemTemplate;\n          });\n        }\n        vm.dossierTemplateItems = dossierTemplateItems;\n        vm.dossierFilesItems = dossierFiles;\n        vm.dossierMarksItems = dossierMarks;\n        setTimeout(function (argument) {\n          if (dossierFiles.length > 0) {\n            var dossierFilesEform = dossierFiles.filter(function (file) {\n              return file.eForm;\n            });\n            var dossierTemplatesHasForm = dossierTemplateItems.filter(function (template) {\n              return template.hasForm && template.partType === 1;\n            });\n            if (dossierFilesEform.length > 0) {\n              dossierFilesEform.forEach(function (itemFiles) {\n                if (itemFiles.eForm) {\n                  vm.$store.dispatch('loadAlpcaForm', itemFiles);\n                }\n              });\n            } else {\n              dossierTemplateItems.forEach(function (val) {\n                if (val.hasForm && val.partType === 1) {\n                  val['templateFileNo'] = data.dossierTemplateNo;\n                  vm.showAlpacaJSFORM(val);\n                }\n              });\n            }\n            if (dossierTemplatesHasForm.length !== dossierFilesEform.length) {\n              dossierTemplatesHasForm.forEach(function (template) {\n                var indexFromFile = dossierFilesEform.findIndex(function (item) {\n                  return template.partNo === item.dossierPartNo;\n                });\n                if (indexFromFile === -1) {\n                  template['templateFileNo'] = data.dossierTemplateNo;\n                  vm.showAlpacaJSFORM(template);\n                }\n              });\n            }\n          } else {\n            dossierTemplateItems.forEach(function (val) {\n              if (val.hasForm && val.partType === 1) {\n                val['templateFileNo'] = data.dossierTemplateNo;\n                vm.showAlpacaJSFORM(val);\n              }\n            });\n          }\n        }, 500);\n        console.log('dossierTemplateItems', vm.dossierTemplateItems);\n      }).catch(function (reject) {});\n    },\n    showAlpacaJSFORM: function showAlpacaJSFORM(item) {\n      var vm = this;\n      vm.$store.dispatch('loadFormScript', item).then(function (resScript) {\n        vm.$store.dispatch('loadFormData', item).then(function (resData) {\n          var formScript, formData;\n\n          if (resScript) {\n            formScript = eval('(' + resScript + ')');\n          } else {\n            formScript = {};\n          }\n          if (resData) {\n            formData = eval('(' + resData + ')');\n          } else {\n            formData = {};\n          }\n\n          formScript.data = formData;\n          __WEBPACK_IMPORTED_MODULE_1_jquery___default()('#formAlpaca' + item.partNo).alpaca(formScript);\n        });\n      });\n    },\n    saveAlpacaForm: function saveAlpacaForm(item) {\n      var vm = this;\n      var fileFind = vm.dossierFilesItems.find(function (itemFile) {\n        return itemFile.dossierPartNo === item.partNo;\n      });\n      if (fileFind) {\n        fileFind['dossierId'] = vm.thongTinHoSo.dossierId;\n        vm.$store.dispatch('putAlpacaForm', files).then(function (resData) {});\n      } else {\n        item['dossierId'] = vm.thongTinHoSo.dossierId;\n        vm.$store.dispatch('postEform', item).then(function (resPostEform) {\n          vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId).then(function (resFiles) {\n            vm.dossierFilesItems = resFiles;\n          });\n        });\n      }\n    },\n    onDeleteAttackFiles: function onDeleteAttackFiles(item) {\n      var vm = this;\n      console.log('delete');\n      var x = confirm('Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?');\n      if (x) {\n        vm.dossierFilesItems.forEach(function (val) {\n          if (val.dossierPartNo === item.partNo) {\n            val['dossierId'] = vm.thongTinHoSo.dossierId;\n            vm.$store.dispatch('deleteAttackFiles', val).then(function (result) {\n              vm.resetCounterTemplate(item);\n              vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId);\n            }).catch(function (xhr) {});\n          }\n        });\n      }\n    },\n    pickFile: function pickFile(item) {\n      document.getElementById('file' + item.partNo).click();\n    },\n    onUploadSingleFile: function onUploadSingleFile(e, data) {\n      var vm = this;\n      e.dataItem = data;\n      e['dossierId'] = vm.thongTinHoSo.dossierId;\n      e['dossierTemplateNo'] = vm.thongTinHoSo.dossierTemplateNo;\n      vm.$store.dispatch('uploadSingleFile', e).then(function (result) {\n        vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId).then(function (result) {\n          vm.dossierFilesItems = result;\n          vm.recountFileTemplates();\n        });\n      }).catch(function (xhr) {});\n    },\n    loadAlpcaForm: function loadAlpcaForm(data) {\n      var vm = this;\n      var fileFind = vm.dossierFilesItems.find(function (itemFile) {\n        return itemFile.dossierPartNo === item.partNo && itemFile.eForm;\n      });\n      if (fileFind) {\n        vm.$store.dispatch('loadAlpcaForm', fileFind);\n      } else {\n        vm.dossierTemplateItems.forEach(function (val) {\n          if (val.hasForm && data.partNo === val.partNo) {\n            val['templateFileNo'] = vm.thongTinHoSo.dossierTemplateNo;\n            vm.showAlpacaJSFORM(val);\n          }\n        });\n      }\n    },\n    viewFile: function viewFile(data) {\n      var _this = this;\n\n      var vm = this;\n      vm.dossierFilesItems.forEach(function (val) {\n        val['dossierId'] = vm.thongTinHoSo.dossierId;\n        if (val.dossierPartNo === data.partNo) {\n          _this.$store.dispatch('viewFile', val);\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 511:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('v-card', _vm._l((_vm.dossierTemplateItems), function(item, index) {\n    return (item.partType === 1) ? _c('div', {\n      key: item.partNo,\n      staticClass: \"form_alpaca\",\n      staticStyle: {\n        \"position\": \"relative\"\n      }\n    }, [_c('v-expansion-panel', {\n      staticClass: \"expaned__list__data\",\n      class: {\n        \"no_acction__event\": !item.hasForm\n      }\n    }, [_c('v-expansion-panel-content', {\n      attrs: {\n        \"hide-actions\": \"\",\n        \"value\": false\n      }\n    }, [_c('div', {\n      attrs: {\n        \"slot\": \"header\"\n      },\n      slot: \"header\"\n    }, [_c('div', {\n      staticStyle: {\n        \"width\": \"calc(100% - 370px)\",\n        \"display\": \"flex\",\n        \"align-items\": \"center\",\n        \"min-height\": \"38px\",\n        \"background\": \"#fff\",\n        \"padding-left\": \"15px\"\n      }\n    }, [_c('span', {\n      staticClass: \"text-bold mr-2\"\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\" \"), _c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.loadAlpcaForm(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item.partName) + \" \"), (item.required) ? _c('span', {\n      staticStyle: {\n        \"color\": \"red\"\n      }\n    }, [_vm._v(\" (*)\")]) : _vm._e(), _vm._v(\" \"), (item.hasForm) ? _c('i', {\n      staticStyle: {\n        \"font-size\": \"10px\",\n        \"color\": \"#0d71bb\"\n      }\n    }, [_vm._v(\"(Form trực tuyến)\")]) : _vm._e()])])]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', [_c('v-layout', {\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      staticClass: \"text-xs-right\",\n      attrs: {\n        \"xs12\": \"\"\n      }\n    }, [_c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.saveAlpacaForm(item)\n        }\n      }\n    }, [_vm._v(\"Lưu lại\")]), _vm._v(\" \"), _c('div', {\n      attrs: {\n        \"id\": 'formAlpaca' + item.partNo\n      }\n    })], 1)], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n      staticClass: \"absolute__btn group__thanh_phan\"\n    }, [(_vm.loading) ? _c('content-placeholders', {\n      staticClass: \"mt-1\"\n    }, [_c('content-placeholders-text', {\n      attrs: {\n        \"lines\": 1\n      }\n    })], 1) : _c('v-layout', {\n      staticClass: \"flex__checkbox\",\n      attrs: {\n        \"row\": \"\",\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      staticClass: \"layout wrap\",\n      staticStyle: {\n        \"width\": \"260px\"\n      }\n    }, [_c('v-checkbox', {\n      staticClass: \"flex\",\n      attrs: {\n        \"light\": \"\",\n        \"color\": \"secondary\"\n      },\n      model: {\n        value: (_vm.dossierTemplateItems[index].fileCheck),\n        callback: function($$v) {\n          _vm.$set(_vm.dossierTemplateItems[index], \"fileCheck\", $$v)\n        },\n        expression: \"dossierTemplateItems[index].fileCheck\"\n      }\n    }), _vm._v(\" \"), _c('v-radio-group', {\n      attrs: {\n        \"row\": \"\"\n      },\n      model: {\n        value: (_vm.dossierTemplateItems[index].fileType),\n        callback: function($$v) {\n          _vm.$set(_vm.dossierTemplateItems[index], \"fileType\", $$v)\n        },\n        expression: \"dossierTemplateItems[index].fileType\"\n      }\n    }, [_c('v-radio', {\n      attrs: {\n        \"value\": 2,\n        \"disabled\": !_vm.dossierTemplateItems[index].fileCheck\n      }\n    }), _vm._v(\" \"), _c('v-radio', {\n      attrs: {\n        \"value\": 0,\n        \"disabled\": !_vm.dossierTemplateItems[index].fileCheck\n      }\n    }), _vm._v(\" \"), _c('v-radio', {\n      attrs: {\n        \"value\": 1,\n        \"disabled\": !_vm.dossierTemplateItems[index].fileCheck\n      }\n    })], 1)], 1), _vm._v(\" \"), _c('v-flex', {\n      staticStyle: {\n        \"width\": \"110px\",\n        \"background\": \"#fff\"\n      }\n    }, [_c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"icon\": \"\"\n      },\n      slot: \"activator\"\n    }, [_c('v-badge', [_c('input', {\n      staticStyle: {\n        \"display\": \"none\"\n      },\n      attrs: {\n        \"type\": \"file\",\n        \"id\": 'file' + item.partNo\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.onUploadSingleFile($event, item)\n        }\n      }\n    }), _vm._v(\" \"), _c('v-icon', {\n      attrs: {\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.pickFile(item)\n        }\n      }\n    }, [_vm._v(\"attach_file\")])], 1)], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Tải file lên\")])], 1), _vm._v(\" \"), _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0\",\n      staticStyle: {\n        \"height\": \"20px\",\n        \"width\": \"20px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"fab\": \"\",\n        \"dark\": \"\",\n        \"small\": \"\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.viewFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"\\n                \" + _vm._s(item.count) + \"\\n              \")]), _vm._v(\" \"), _c('span', [_vm._v(\"Xem\")])], 1), _vm._v(\" \"), _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"icon\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.onDeleteAttackFiles(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_c('v-icon', {\n      staticClass: \"mx-0\",\n      attrs: {\n        \"size\": \"16\",\n        \"color\": \"red darken-3\"\n      }\n    }, [_vm._v(\"delete\")])], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Xóa\")])], 1)], 1)], 1)], 1)], 1) : _vm._e()\n  })), _vm._v(\" \"), _vm._m(0)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"absolute-lable\",\n    staticStyle: {\n      \"font-size\": \"12px\"\n    }\n  }, [_c('span', [_vm._v(\"Bản chính\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Bản chụp\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Công chứng\")])])\n}]}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// o/frontend-web-customer-v2-1/js/22.3ac5065e1d56860063ae.js","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TiepNhanHoSo_ThanhPhanHoSo.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-687ee6a0\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TiepNhanHoSo_ThanhPhanHoSo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TiepNhan/TiepNhanHoSo_ThanhPhanHoSo.vue\n// module id = 209\n// module chunks = 0 4 5 8 22","<template>\r\n  <div>\r\n    <v-card>\r\n      <div class=\"form_alpaca\" style=\"position: relative;\" v-for=\"(item, index) in dossierTemplateItems\" v-if=\"item.partType === 1\" v-bind:key=\"item.partNo\">\r\n        <v-expansion-panel class=\"expaned__list__data\" :class='{\"no_acction__event\": !item.hasForm}'>\r\n          <v-expansion-panel-content hide-actions :value=\"false\">\r\n            <div slot=\"header\">\r\n              <div style=\"width: calc(100% - 370px);display: flex;align-items: center;min-height: 38px;background: #fff;padding-left: 15px;\">\r\n                <span class=\"text-bold mr-2\">{{index + 1}}.</span>\r\n                <span @click=\"loadAlpcaForm(item)\">{{item.partName}} <span v-if=\"item.required\" style=\"color: red\"> (*)</span> <i v-if=\"item.hasForm\" style=\"font-size: 10px;color: #0d71bb;\">(Form trực tuyến)</i></span>\r\n              </div>\r\n            </div>\r\n            <v-card>\r\n              <v-card-text>\r\n                <v-layout wrap>\r\n                  <v-flex xs12 class=\"text-xs-right\">\r\n                    <v-btn color=\"primary\" @click=\"saveAlpacaForm(item)\">Lưu lại</v-btn>\r\n                    <div :id=\"'formAlpaca' + item.partNo\">\r\n                    </div>\r\n                  </v-flex>\r\n                </v-layout>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expansion-panel-content>\r\n        </v-expansion-panel>\r\n        <div class=\"absolute__btn group__thanh_phan\">\r\n          <content-placeholders class=\"mt-1\" v-if=\"loading\">\r\n            <content-placeholders-text :lines=\"1\" />\r\n          </content-placeholders>\r\n          <v-layout row wrap class=\"flex__checkbox\" v-else>\r\n            <v-flex style=\"width: 260px;\" class=\"layout wrap\">\r\n              <v-checkbox light color=\"secondary\" class=\"flex\" v-model=\"dossierTemplateItems[index].fileCheck\"></v-checkbox>\r\n              <v-radio-group v-model=\"dossierTemplateItems[index].fileType\" row>\r\n                <v-radio :value=\"2\" :disabled=\"!dossierTemplateItems[index].fileCheck\" ></v-radio>\r\n                <v-radio :value=\"0\" :disabled=\"!dossierTemplateItems[index].fileCheck\" ></v-radio>\r\n                <v-radio :value=\"1\" :disabled=\"!dossierTemplateItems[index].fileCheck\" ></v-radio>\r\n              </v-radio-group>\r\n            </v-flex>\r\n            <v-flex style=\"width: 110px;background: #fff;\">\r\n              <v-tooltip top>\r\n                <v-btn slot=\"activator\" icon class=\"mx-0 my-0\">\r\n                  <v-badge>\r\n                    <input\r\n                    type=\"file\"\r\n                    style=\"display: none\"\r\n                    :id=\"'file' + item.partNo\"\r\n                    @change=\"onUploadSingleFile($event,item)\"\r\n                    >\r\n                    <v-icon size=\"16\" color=\"primary\" @click=\"pickFile(item)\">attach_file</v-icon>\r\n                  </v-badge>\r\n                </v-btn>\r\n                <span>Tải file lên</span>\r\n              </v-tooltip>\r\n              <v-tooltip top>\r\n                <v-btn slot=\"activator\" class=\"mx-0\" fab dark small color=\"primary\" @click=\"viewFile(item)\" style=\"height:20px;width:20px\">\r\n                  {{item.count}}\r\n                </v-btn>\r\n                <span>Xem</span>\r\n              </v-tooltip>\r\n              <v-tooltip top>\r\n                <v-btn slot=\"activator\" @click=\"onDeleteAttackFiles(item)\" icon class=\"mx-0 my-0\">\r\n                  <v-icon size=\"16\" class=\"mx-0\" color=\"red darken-3\">delete</v-icon>\r\n                </v-btn>\r\n                <span>Xóa</span>\r\n              </v-tooltip>\r\n            </v-flex>\r\n          </v-layout>\r\n        </div>\r\n      </div>\r\n      <!-- <v-card-text class=\"note_trichyeu\">\r\n        <v-layout wrap>\r\n          <v-flex xs12 sm2>\r\n            <content-placeholders class=\"mt-1\" v-if=\"loading\">\r\n              <content-placeholders-text :lines=\"1\" />\r\n            </content-placeholders>\r\n            <v-subheader v-else class=\"pl-0 text-right\">Trích yếu: </v-subheader>\r\n          </v-flex>\r\n          <v-flex xs12 sm10>\r\n            <content-placeholders class=\"mt-1\" v-if=\"loading\">\r\n              <content-placeholders-text :lines=\"1\" />\r\n            </content-placeholders>\r\n            <v-text-field\r\n              v-else\r\n              v-model=\"thongTinHoSo.applicantNote\"\r\n              multi-line\r\n              rows=\"2\"\r\n            ></v-text-field>\r\n          </v-flex>\r\n        </v-layout>\r\n      </v-card-text> -->\r\n    </v-card>\r\n    <!--  <i><span style=\"color: red\">(*)</span> Những thành phần bắt buộc</i> -->\r\n    <div class=\"absolute-lable\" style=\"font-size: 12px\">\r\n      <span>Bản chính</span>\r\n      <span>Bản chụp</span>\r\n      <span>Công chứng</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\n// import * as utils from '../store/onegate_utils'\r\nexport default {\r\n  data: () => ({\r\n    dossierTemplateItems: [],\r\n    dossierMarksItems: [],\r\n    dossierFilesItems: [],\r\n    thongTinHoSo: {}\r\n  }),\r\n  computed: {\r\n    loading () {\r\n      return this.$store.getters.loading\r\n    }\r\n  },\r\n  mounted () {\r\n    var vm = this\r\n    vm.page = 1\r\n    vm.$nextTick(function () {\r\n    })\r\n  },\r\n  methods: {\r\n    resetCounterTemplate ({commit, state}, data) {\r\n      var vm = this\r\n      vm.dossierTemplateItems.forEach(val => {\r\n        if (val.partNo === data.partNo) {\r\n          if (val.hasForm) {\r\n            val.count = 1\r\n          } else {\r\n            val.count = 0\r\n          }\r\n        }\r\n      })\r\n    },\r\n    recountFileTemplates () {\r\n      var vm = this\r\n      vm.dossierTemplateItems.forEach(itemTemplate => {\r\n        itemTemplate.count = 0\r\n        vm.dossierFilesItems.forEach(itemFile => {\r\n          if (itemTemplate.partNo === itemFile.dossierPartNo) {\r\n            itemTemplate.count ++\r\n          }\r\n        })\r\n      })\r\n    },\r\n    initData (data) {\r\n      var vm = this\r\n      var arrTemp = []\r\n      console.log(data.dossierId)\r\n      arrTemp.push(vm.$store.dispatch('loadDossierTemplates', data))\r\n      arrTemp.push(vm.$store.dispatch('loadDossierMark', data))\r\n      arrTemp.push(vm.$store.dispatch('loadDossierFiles', data.dossierId))\r\n      vm.thongTinHoSo = data\r\n      Promise.all(arrTemp).then(values => {\r\n        let dossierTemplates = values[0]\r\n        let dossierMarks = values[1]\r\n        let dossierFiles = values[2]\r\n        var dossierTemplateItems = []\r\n        if (dossierMarks) {\r\n          dossierTemplateItems = dossierTemplates.map(itemTemplate => {\r\n            if (itemTemplate.hasForm) {\r\n              itemTemplate.count = 1\r\n            } else {\r\n              itemTemplate.count = 0\r\n            }\r\n            dossierMarks.forEach(function (val, index) {\r\n              if (val.dossierPartNo === itemTemplate.partNo) {\r\n                itemTemplate.fileType = val.fileType\r\n                itemTemplate.fileCheck = val.fileCheck\r\n              }\r\n            })\r\n            return itemTemplate\r\n          })\r\n        } else {\r\n          dossierTemplateItems = dossierTemplates.map(itemTemplate => {\r\n            if (itemTemplate.hasForm) {\r\n              itemTemplate.count = 1\r\n            } else {\r\n              itemTemplate.count = 0\r\n            }\r\n            itemTemplate.fileType = 0\r\n            itemTemplate.fileCheck = false\r\n            return itemTemplate\r\n          })\r\n        }\r\n        vm.dossierTemplateItems = dossierTemplateItems\r\n        vm.dossierFilesItems = dossierFiles\r\n        vm.dossierMarksItems = dossierMarks\r\n        setTimeout(function (argument) {\r\n          if (dossierFiles.length > 0) {\r\n            var dossierFilesEform = dossierFiles.filter(file => {\r\n              return file.eForm\r\n            })\r\n            var dossierTemplatesHasForm = dossierTemplateItems.filter(template => {\r\n              return template.hasForm && template.partType === 1\r\n            })\r\n            if (dossierFilesEform.length > 0) {\r\n              dossierFilesEform.forEach(itemFiles => {\r\n                if (itemFiles.eForm) {\r\n                  vm.$store.dispatch('loadAlpcaForm', itemFiles)\r\n                }\r\n              })\r\n            } else {\r\n              dossierTemplateItems.forEach(val => {\r\n                if (val.hasForm && val.partType === 1) {\r\n                  val['templateFileNo'] = data.dossierTemplateNo\r\n                  vm.showAlpacaJSFORM(val)\r\n                }\r\n              })\r\n            }\r\n            if (dossierTemplatesHasForm.length !== dossierFilesEform.length) {\r\n              dossierTemplatesHasForm.forEach(template => {\r\n                let indexFromFile = dossierFilesEform.findIndex(item => {\r\n                  return template.partNo === item.dossierPartNo\r\n                })\r\n                if (indexFromFile === -1) {\r\n                  template['templateFileNo'] = data.dossierTemplateNo\r\n                  vm.showAlpacaJSFORM(template)\r\n                }\r\n              })\r\n            }\r\n          } else {\r\n            dossierTemplateItems.forEach(val => {\r\n              if (val.hasForm && val.partType === 1) {\r\n                val['templateFileNo'] = data.dossierTemplateNo\r\n                vm.showAlpacaJSFORM(val)\r\n              }\r\n            })\r\n          }\r\n        }, 500)\r\n        console.log('dossierTemplateItems', vm.dossierTemplateItems)\r\n      }).catch(reject => {\r\n      })\r\n    },\r\n    showAlpacaJSFORM (item) {\r\n      var vm = this\r\n      vm.$store.dispatch('loadFormScript', item).then(resScript => {\r\n        vm.$store.dispatch('loadFormData', item).then(resData => {\r\n          var formScript, formData\r\n          /* eslint-disable */\r\n          if (resScript) {\r\n            formScript = eval('(' + resScript + ')')\r\n          } else {\r\n            formScript = {}\r\n          }\r\n          if (resData) {\r\n            formData = eval('(' + resData + ')')\r\n          } else {\r\n            formData = {}\r\n          }\r\n          /* eslint-disable */\r\n          formScript.data = formData\r\n          $('#formAlpaca' + item.partNo).alpaca(formScript)\r\n        })\r\n      })\r\n    },\r\n    saveAlpacaForm (item) {\r\n      var vm = this\r\n      var fileFind = vm.dossierFilesItems.find(itemFile => {\r\n        return itemFile.dossierPartNo === item.partNo\r\n      })\r\n      if (fileFind) {\r\n        fileFind['dossierId'] = vm.thongTinHoSo.dossierId\r\n        vm.$store.dispatch('putAlpacaForm', files).then(resData => {\r\n        })\r\n      } else {\r\n        item['dossierId'] = vm.thongTinHoSo.dossierId\r\n        vm.$store.dispatch('postEform', item).then(resPostEform => {\r\n          vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId).then(resFiles => {\r\n            vm.dossierFilesItems = resFiles\r\n          })\r\n        })\r\n      }\r\n    },\r\n    onDeleteAttackFiles (item) {\r\n      var vm = this\r\n      console.log('delete')\r\n      let x = confirm('Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?')\r\n      if (x) {\r\n        vm.dossierFilesItems.forEach(val => {\r\n          if (val.dossierPartNo === item.partNo) {\r\n            val['dossierId'] = vm.thongTinHoSo.dossierId\r\n            vm.$store.dispatch('deleteAttackFiles', val).then(function (result) {\r\n              vm.resetCounterTemplate(item)\r\n              vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId)\r\n            }).catch(function (xhr) {\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    pickFile (item) {\r\n      document.getElementById('file' + item.partNo).click()\r\n    },\r\n    onUploadSingleFile (e, data) {\r\n      var vm = this\r\n      e.dataItem = data\r\n      e['dossierId'] = vm.thongTinHoSo.dossierId\r\n      e['dossierTemplateNo'] = vm.thongTinHoSo.dossierTemplateNo\r\n      vm.$store.dispatch('uploadSingleFile', e).then(function (result) {\r\n        vm.$store.dispatch('loadDossierFiles', vm.thongTinHoSo.dossierId).then(result => {\r\n          vm.dossierFilesItems = result\r\n          vm.recountFileTemplates()\r\n        })\r\n      }).catch(function (xhr) {\r\n      })\r\n    },\r\n    loadAlpcaForm (data) {\r\n      var vm = this\r\n      var fileFind = vm.dossierFilesItems.find(itemFile => {\r\n        return itemFile.dossierPartNo === item.partNo && itemFile.eForm\r\n      })\r\n      if (fileFind) {\r\n        vm.$store.dispatch('loadAlpcaForm', fileFind)\r\n      } else {\r\n        vm.dossierTemplateItems.forEach(val => {\r\n          if (val.hasForm && data.partNo === val.partNo) {\r\n            val['templateFileNo'] = vm.thongTinHoSo.dossierTemplateNo\r\n            vm.showAlpacaJSFORM(val)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    viewFile (data) {\r\n      var vm = this\r\n      vm.dossierFilesItems.forEach(val => {\r\n        val['dossierId'] = vm.thongTinHoSo.dossierId\r\n        if (val.dossierPartNo === data.partNo) {\r\n          this.$store.dispatch('viewFile', val)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// TiepNhanHoSo_ThanhPhanHoSo.vue?57dc7007","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('v-card', _vm._l((_vm.dossierTemplateItems), function(item, index) {\n    return (item.partType === 1) ? _c('div', {\n      key: item.partNo,\n      staticClass: \"form_alpaca\",\n      staticStyle: {\n        \"position\": \"relative\"\n      }\n    }, [_c('v-expansion-panel', {\n      staticClass: \"expaned__list__data\",\n      class: {\n        \"no_acction__event\": !item.hasForm\n      }\n    }, [_c('v-expansion-panel-content', {\n      attrs: {\n        \"hide-actions\": \"\",\n        \"value\": false\n      }\n    }, [_c('div', {\n      attrs: {\n        \"slot\": \"header\"\n      },\n      slot: \"header\"\n    }, [_c('div', {\n      staticStyle: {\n        \"width\": \"calc(100% - 370px)\",\n        \"display\": \"flex\",\n        \"align-items\": \"center\",\n        \"min-height\": \"38px\",\n        \"background\": \"#fff\",\n        \"padding-left\": \"15px\"\n      }\n    }, [_c('span', {\n      staticClass: \"text-bold mr-2\"\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\" \"), _c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.loadAlpcaForm(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item.partName) + \" \"), (item.required) ? _c('span', {\n      staticStyle: {\n        \"color\": \"red\"\n      }\n    }, [_vm._v(\" (*)\")]) : _vm._e(), _vm._v(\" \"), (item.hasForm) ? _c('i', {\n      staticStyle: {\n        \"font-size\": \"10px\",\n        \"color\": \"#0d71bb\"\n      }\n    }, [_vm._v(\"(Form trực tuyến)\")]) : _vm._e()])])]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', [_c('v-layout', {\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      staticClass: \"text-xs-right\",\n      attrs: {\n        \"xs12\": \"\"\n      }\n    }, [_c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.saveAlpacaForm(item)\n        }\n      }\n    }, [_vm._v(\"Lưu lại\")]), _vm._v(\" \"), _c('div', {\n      attrs: {\n        \"id\": 'formAlpaca' + item.partNo\n      }\n    })], 1)], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n      staticClass: \"absolute__btn group__thanh_phan\"\n    }, [(_vm.loading) ? _c('content-placeholders', {\n      staticClass: \"mt-1\"\n    }, [_c('content-placeholders-text', {\n      attrs: {\n        \"lines\": 1\n      }\n    })], 1) : _c('v-layout', {\n      staticClass: \"flex__checkbox\",\n      attrs: {\n        \"row\": \"\",\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      staticClass: \"layout wrap\",\n      staticStyle: {\n        \"width\": \"260px\"\n      }\n    }, [_c('v-checkbox', {\n      staticClass: \"flex\",\n      attrs: {\n        \"light\": \"\",\n        \"color\": \"secondary\"\n      },\n      model: {\n        value: (_vm.dossierTemplateItems[index].fileCheck),\n        callback: function($$v) {\n          _vm.$set(_vm.dossierTemplateItems[index], \"fileCheck\", $$v)\n        },\n        expression: \"dossierTemplateItems[index].fileCheck\"\n      }\n    }), _vm._v(\" \"), _c('v-radio-group', {\n      attrs: {\n        \"row\": \"\"\n      },\n      model: {\n        value: (_vm.dossierTemplateItems[index].fileType),\n        callback: function($$v) {\n          _vm.$set(_vm.dossierTemplateItems[index], \"fileType\", $$v)\n        },\n        expression: \"dossierTemplateItems[index].fileType\"\n      }\n    }, [_c('v-radio', {\n      attrs: {\n        \"value\": 2,\n        \"disabled\": !_vm.dossierTemplateItems[index].fileCheck\n      }\n    }), _vm._v(\" \"), _c('v-radio', {\n      attrs: {\n        \"value\": 0,\n        \"disabled\": !_vm.dossierTemplateItems[index].fileCheck\n      }\n    }), _vm._v(\" \"), _c('v-radio', {\n      attrs: {\n        \"value\": 1,\n        \"disabled\": !_vm.dossierTemplateItems[index].fileCheck\n      }\n    })], 1)], 1), _vm._v(\" \"), _c('v-flex', {\n      staticStyle: {\n        \"width\": \"110px\",\n        \"background\": \"#fff\"\n      }\n    }, [_c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"icon\": \"\"\n      },\n      slot: \"activator\"\n    }, [_c('v-badge', [_c('input', {\n      staticStyle: {\n        \"display\": \"none\"\n      },\n      attrs: {\n        \"type\": \"file\",\n        \"id\": 'file' + item.partNo\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.onUploadSingleFile($event, item)\n        }\n      }\n    }), _vm._v(\" \"), _c('v-icon', {\n      attrs: {\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.pickFile(item)\n        }\n      }\n    }, [_vm._v(\"attach_file\")])], 1)], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Tải file lên\")])], 1), _vm._v(\" \"), _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0\",\n      staticStyle: {\n        \"height\": \"20px\",\n        \"width\": \"20px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"fab\": \"\",\n        \"dark\": \"\",\n        \"small\": \"\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.viewFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"\\n                \" + _vm._s(item.count) + \"\\n              \")]), _vm._v(\" \"), _c('span', [_vm._v(\"Xem\")])], 1), _vm._v(\" \"), _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"icon\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.onDeleteAttackFiles(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_c('v-icon', {\n      staticClass: \"mx-0\",\n      attrs: {\n        \"size\": \"16\",\n        \"color\": \"red darken-3\"\n      }\n    }, [_vm._v(\"delete\")])], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Xóa\")])], 1)], 1)], 1)], 1)], 1) : _vm._e()\n  })), _vm._v(\" \"), _vm._m(0)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"absolute-lable\",\n    staticStyle: {\n      \"font-size\": \"12px\"\n    }\n  }, [_c('span', [_vm._v(\"Bản chính\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Bản chụp\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Công chứng\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-687ee6a0\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/TiepNhan/TiepNhanHoSo_ThanhPhanHoSo.vue\n// module id = 511\n// module chunks = 0 4 5 8 22"],"sourceRoot":""}