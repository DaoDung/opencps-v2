{"version":3,"sources":["webpack:///o/frontend-web-customer-v2-1/js/24.e43b740680416478dcb6.js","webpack:///./src/components/form_xu_ly/TaoTaiLieuKetQua.vue?efcc**","webpack:///TaoTaiLieuKetQua.vue?5c3c**","webpack:///./src/components/form_xu_ly/TaoTaiLieuKetQua.vue?52e9***"],"names":["webpackJsonp","231","module","exports","__webpack_require__","Component","694","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_jquery__","__WEBPACK_IMPORTED_MODULE_0_jquery___default","n","__WEBPACK_IMPORTED_MODULE_1_toastr__","__WEBPACK_IMPORTED_MODULE_1_toastr___default","props","id","type","String","default","detailDossier","createFiles","Array","data","dossierTemplateItems","dossierMarksItems","dossierFilesItems","thongTinHoSo","valid","stateView","dialogAddOtherTemp","loadingAddOther","otherDossierTemplate","sheet","partView","dossierFileIdView","stateEdit","progressUploadPart","dialogPDF","dialogPDFLoading","stateAddFileOther","dossierTemplatesItemSelect","fileViews","sampleCount","fileTemplateItems","computed","loading","this","$store","getters","originality","getOriginality","initDataResource","loadingInitData","created","vm","page","$nextTick","dispatch","dossierId","then","resFiles","mergeDossierTemplateVsDossierFiles","catch","reject","mounted","length","setTimeout","genAllAlpacaForm","methods","dossierFiles","dossierFilesEform","filter","file","eForm","dossierTemplatesHasForm","template","forEach","itemFiles","val","dossierTemplateNo","showAlpacaJSFORM","findIndex","item","partNo","dossierPartNo","itemFind","find","resScript","resData","empty","formScript","formData","eval","alpaca","saveAlpacaForm","index","fileFind","itemFile","a","error","resPostEform","daKhai","onDeleteAttackFiles","confirm","result","xhr","pickFile","document","getElementById","click","onUploadSingleFile","e","loadAlpcaForm","deleteSingleFileEform","resFile","fileViewsTemp","previewFileEfom","src","deleteSingleFile","splice","viewFile","_this","viewFile2","fileType","url","dossierApi","referenceUid","window","open","viewFileWithPartNo","checkStyle","downloadFileTemplate","fileTemplateNo","serviceInfoApi","serviceCode","cancelDialog","addFileOther","changeDisplayName","params","displayName","701","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","background-color","width","attrs","hide-actions","slot","size","color","_v","_l","key","position","on","$event","align-items","min-height","background","padding-left","style","min-width","display","_s","partName","_e","top","font-size","aria-hidden","itemFileView","cursor","stopPropagation","modifiedDate","icon","ripple","wrap","xs12","lines","row","change","indeterminate","overflow","max-width","transition","model","callback","$$v","expression","dark","nativeOn","text-align","margin","padding","directives","name","rawName","height","frameborder","staticRenderFns"],"mappings":"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","file":"o/frontend-web-customer-v2-1/js/24.e43b740680416478dcb6.js","sourcesContent":["webpackJsonp([24],{\n\n/***/ 231:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(138)(\n  /* script */\n  __webpack_require__(694),\n  /* template */\n  __webpack_require__(701),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 694:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_toastr__ = __webpack_require__(143);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_toastr__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    id: {\n      type: String,\n      default: function _default() {\n        return 'nm';\n      }\n    },\n    detailDossier: {\n      type: Object,\n      default: function _default() {}\n    },\n    createFiles: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      dossierTemplateItems: [],\n      dossierMarksItems: [],\n      dossierFilesItems: [],\n      thongTinHoSo: {},\n      valid: true,\n      stateView: false,\n      dialogAddOtherTemp: false,\n      loadingAddOther: false,\n      otherDossierTemplate: '',\n      sheet: false,\n      partView: '',\n      dossierFileIdView: '',\n      stateEdit: false,\n      progressUploadPart: '',\n      dialogPDF: false,\n      dialogPDFLoading: true,\n      stateAddFileOther: false,\n      dossierTemplatesItemSelect: {},\n      fileViews: [],\n      sampleCount: 0,\n      fileTemplateItems: []\n    };\n  },\n  computed: {\n    loading: function loading() {\n      return this.$store.getters.loading;\n    },\n    originality: function originality() {\n      var vm = this;\n      return vm.getOriginality();\n    },\n    initDataResource: function initDataResource() {\n      return this.$store.getters.loadingInitData;\n    }\n  },\n  created: function created() {\n    var vm = this;\n    vm.page = 1;\n    vm.$nextTick(function () {\n      if (vm.detailDossier['dossierId']) {\n        vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(function (resFiles) {\n          vm.dossierFilesItems = resFiles;\n          vm.createFiles = vm.mergeDossierTemplateVsDossierFiles(vm.createFiles, resFiles);\n        }).catch(function (reject) {});\n      }\n    });\n  },\n  mounted: function mounted() {\n    var vm = this;\n    vm.$nextTick(function () {\n      if (vm.createFiles.length > 0) {\n        setTimeout(function () {\n          vm.genAllAlpacaForm(vm.dossierFilesItems, vm.createFiles);\n        }, 300);\n      }\n    });\n  },\n\n  methods: {\n    genAllAlpacaForm: function genAllAlpacaForm(dossierFiles, createFiles) {\n      var vm = this;\n      if (vm.length > 0) {\n        var dossierFilesEform = dossierFiles.filter(function (file) {\n          return file.eForm;\n        });\n        var dossierTemplatesHasForm = createFiles.filter(function (template) {\n          return template.eForm;\n        });\n        if (dossierFilesEform.length > 0) {\n          dossierFilesEform.forEach(function (itemFiles) {\n            if (itemFiles.eForm) {\n              vm.$store.dispatch('loadAlpcaForm', itemFiles);\n            }\n          });\n        } else {\n          createFiles.forEach(function (val) {\n            if (val.eForm) {\n              val['templateFileNo'] = vm.detailDossier.dossierTemplateNo;\n              vm.showAlpacaJSFORM(val);\n            }\n          });\n        }\n        if (dossierTemplatesHasForm.length !== dossierFilesEform.length) {\n          dossierTemplatesHasForm.forEach(function (template) {\n            var indexFromFile = dossierFilesEform.findIndex(function (item) {\n              return template.partNo === item.dossierPartNo;\n            });\n            if (indexFromFile === -1) {\n              template['templateFileNo'] = vm.detailDossier.dossierTemplateNo;\n              vm.showAlpacaJSFORM(template);\n            }\n          });\n        }\n      } else {\n        createFiles.forEach(function (val) {\n          if (val.eForm) {\n            val['templateFileNo'] = vm.detailDossier.dossierTemplateNo;\n            vm.showAlpacaJSFORM(val);\n          }\n        });\n      }\n    },\n    mergeDossierTemplateVsDossierFiles: function mergeDossierTemplateVsDossierFiles(createFiles, dossierFiles) {\n      var vm = this;\n      if (dossierFiles.length !== 0) {\n        createFiles.forEach(function (template) {\n          var itemFind = dossierFiles.find(function (file) {\n            return template.partNo === file.dossierPartNo && file.eForm;\n          });\n          if (itemFind) {\n            template['daKhai'] = true;\n          } else if (!itemFind && template.eForm) {\n            template['daKhai'] = false;\n          }\n        });\n      } else {\n        createFiles.forEach(function (template) {\n          if (template.eForm) {\n            template['daKhai'] = false;\n          }\n        });\n      }\n      return createFiles;\n    },\n    showAlpacaJSFORM: function showAlpacaJSFORM(item) {\n      var vm = this;\n      item['dossierId'] = vm.detailDossier.dossierId;\n      vm.$store.dispatch('loadFormScript', item).then(function (resScript) {\n        vm.$store.dispatch('loadFormData', item).then(function (resData) {\n          __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#formAlpaca' + item.partNo + vm.id).empty();\n          var formScript, formData;\n\n          if (resScript) {\n            formScript = eval('(' + resScript + ')');\n          } else {\n            formScript = {};\n          }\n          if (resData) {\n            formData = eval('(' + resData + ')');\n          } else {\n            formData = {};\n          }\n\n          formScript.data = formData;\n          __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#formAlpaca' + item.partNo + vm.id).alpaca(formScript);\n        });\n      });\n    },\n    saveAlpacaForm: function saveAlpacaForm(item, index) {\n      var vm = this;\n      var fileFind = vm.dossierFilesItems.find(function (itemFile) {\n        return itemFile.dossierPartNo === item.partNo && itemFile.eForm;\n      });\n      if (fileFind) {\n        fileFind['dossierId'] = vm.detailDossier.dossierId;\n        fileFind['id'] = vm.id;\n        vm.$store.dispatch('putAlpacaForm', fileFind).then(function (resData) {}).catch(function (reject) {\n          __WEBPACK_IMPORTED_MODULE_1_toastr___default.a.error('Yêu cầu của bạn được thực hiện thất bại.');\n        });\n      } else {\n        item['dossierId'] = vm.detailDossier.dossierId;\n        item['id'] = vm.id;\n        vm.$store.dispatch('postEform', item).then(function (resPostEform) {\n          vm.createFiles[index].daKhai = true;\n          vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(function (resFiles) {\n            vm.dossierFilesItems = resFiles;\n          }).catch(function (reject) {\n            __WEBPACK_IMPORTED_MODULE_1_toastr___default.a.error('Yêu cầu của bạn được thực hiện thất bại.');\n          });\n        }).catch(function (reject) {\n          __WEBPACK_IMPORTED_MODULE_1_toastr___default.a.error('Yêu cầu của bạn được thực hiện thất bại.');\n        });\n      }\n    },\n    onDeleteAttackFiles: function onDeleteAttackFiles(item) {\n      var vm = this;\n\n      var x = confirm('Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?');\n      if (x) {\n        vm.dossierFilesItems.forEach(function (val) {\n          if (val.dossierPartNo === item.partNo) {\n            val['dossierId'] = vm.detailDossier.dossierId;\n            vm.$store.dispatch('deleteAttackFiles', val).then(function (result) {\n              vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId);\n            }).catch(function (xhr) {});\n          }\n        });\n      }\n    },\n    pickFile: function pickFile(item) {\n      var vm = this;\n      vm.stateAddFileOther = false;\n      document.getElementById('file' + item.partNo).click();\n    },\n    onUploadSingleFile: function onUploadSingleFile(e, data) {\n      var vm = this;\n      vm.dossierTemplatesItemSelect = data;\n      vm.progressUploadPart = data.partNo;\n      data['dossierId'] = vm.detailDossier.dossierId;\n      data['dossierTemplateNo'] = vm.detailDossier.dossierTemplateNo;\n      vm.$store.dispatch('uploadSingleFile', data).then(function (result) {\n        vm.progressUploadPart = '';\n        vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(function (result) {\n          vm.dossierFilesItems = result;\n        });\n      }).catch(function (xhr) {\n        vm.progressUploadPart = '';\n      });\n    },\n    loadAlpcaForm: function loadAlpcaForm(data) {\n      var vm = this;\n      var fileFind = vm.dossierFilesItems.find(function (itemFile) {\n        return itemFile.dossierPartNo === data.partNo && itemFile.eForm;\n      });\n      if (fileFind) {\n        fileFind['id'] = vm.id;\n        vm.$store.dispatch('loadAlpcaForm', fileFind);\n      } else {\n        vm.createFiles.forEach(function (val) {\n          if (val.eForm && data.partNo === val.partNo) {\n            val['templateFileNo'] = vm.detailDossier.dossierTemplateNo;\n            vm.showAlpacaJSFORM(val);\n          }\n        });\n      }\n    },\n    deleteSingleFileEform: function deleteSingleFileEform(item, index) {\n      var vm = this;\n      var x = confirm('Bạn có muốn xóa?');\n      if (x) {\n        vm.dossierFilesItems.forEach(function (file) {\n          if (file.dossierPartNo === item.partNo && file.eForm) {\n            file['dossierId'] = vm.detailDossier.dossierId;\n            vm.$store.dispatch('deleteDossierFile', file).then(function (resFile) {\n              vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(function (result) {\n                vm.dossierFilesItems = result;\n                var fileViewsTemp = vm.dossierFilesItems.filter(function (file) {\n                  return file.dossierPartNo === item.partNo && !file.eForm;\n                });\n                if (fileViewsTemp) {\n                  vm.fileViews = fileViewsTemp;\n                }\n              });\n            });\n          }\n        });\n        vm.createFiles[index].daKhai = false;\n      }\n    },\n    previewFileEfom: function previewFileEfom(item, index) {\n      var vm = this;\n      vm.dossierFilesItems.forEach(function (file) {\n        if (file.dossierPartNo === item.partNo && file.eForm) {\n          file['dossierId'] = vm.detailDossier.dossierId;\n          vm.dialogPDFLoading = true;\n          vm.dialogPDF = true;\n          file['id'] = vm.id;\n          vm.$store.dispatch('putAlpacaForm', file).then(function (resData) {\n            setTimeout(function () {\n              vm.$store.dispatch('viewFile', file).then(function (result) {\n                vm.dialogPDFLoading = false;\n                document.getElementById('dialogPDFPreview' + vm.id).src = result;\n              });\n            }, 1000);\n          }).catch(function (reject) {\n            __WEBPACK_IMPORTED_MODULE_1_toastr___default.a.error('Yêu cầu của bạn được thực hiện thất bại.');\n          });\n        }\n      });\n    },\n    deleteSingleFile: function deleteSingleFile(item, index) {\n      var vm = this;\n      var x = confirm('Bạn có muốn xóa?');\n      if (x) {\n        item['dossierId'] = vm.detailDossier.dossierId;\n        vm.$store.dispatch('deleteDossierFile', item).then(function (resFile) {\n          vm.fileViews.splice(index, 1);\n          vm.stateView = true;\n          vm.partView = item.dossierPartNo;\n          vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(function (result) {\n            vm.dossierFilesItems = result;\n          });\n        }).catch(function (reject) {\n          __WEBPACK_IMPORTED_MODULE_1_toastr___default.a.error('Yêu cầu của bạn được thực hiện thất bại.');\n        });\n      }\n    },\n    viewFile: function viewFile(data) {\n      var _this = this;\n\n      var vm = this;\n      vm.dossierFilesItems.forEach(function (val) {\n        val['dossierId'] = vm.detailDossier.dossierId;\n        if (val.dossierPartNo === data.partNo) {\n          _this.$store.dispatch('viewFile', val);\n        }\n      });\n    },\n    viewFile2: function viewFile2(data) {\n      var vm = this;\n      if (data.fileType === 'doc' || data.fileType === 'docx' || data.fileType === 'xsl') {\n        var url = vm.initDataResource.dossierApi + '/' + vm.detailDossier.dossierId + '/files/' + data.referenceUid;\n        window.open(url);\n      } else {\n        vm.dialogPDFLoading = true;\n        vm.dialogPDF = true;\n        data['dossierId'] = vm.detailDossier.dossierId;\n        vm.$store.dispatch('viewFile', data).then(function (result) {\n          vm.dialogPDFLoading = false;\n          document.getElementById('dialogPDFPreview' + vm.id).src = result;\n        });\n      }\n    },\n    viewFileWithPartNo: function viewFileWithPartNo(item) {\n      var vm = this;\n      if (vm.dossierFilesItems) {\n        var fileViewsTemp = vm.dossierFilesItems.filter(function (file) {\n          return file.dossierPartNo === item.partNo && !file.eForm;\n        });\n        if (fileViewsTemp) {\n          vm.fileViews = fileViewsTemp;\n          if (vm.partView !== item.partNo) {\n            vm.stateView = true;\n            vm.partView = item.partNo;\n          } else {\n            vm.stateView = !vm.stateView;\n            vm.partView = item.partNo;\n          }\n        } else {\n          return;\n        }\n      }\n      return;\n    },\n    checkStyle: function checkStyle(item) {\n      return 'calc(100% - ' + 50 + 'px)';\n    },\n    downloadFileTemplate: function downloadFileTemplate(item, index) {\n      var vm = this;\n      if (vm.fileTemplateItems.length > 0) {\n        var fileFind = vm.fileTemplateItems.find(function (file) {\n          return item.fileTemplateNo === file.fileTemplateNo;\n        });\n        if (fileFind) {\n          var url = vm.initDataResource.serviceInfoApi + '/' + fileFind.serviceCode + '/filetemplates/' + fileFind.fileTemplateNo;\n          window.open(url);\n        } else {}\n      }\n    },\n    cancelDialog: function cancelDialog() {\n      var vm = this;\n      vm.dialogAddOtherTemp = false;\n      vm.progressUploadPart = '';\n    },\n    addFileOther: function addFileOther(item) {\n      var vm = this;\n      vm.dialogAddOtherTemp = true;\n      vm.stateAddFileOther = true;\n      vm.dossierTemplatesItemSelect = item;\n    },\n    changeDisplayName: function changeDisplayName(item, index) {\n      var vm = this;\n      var params = {\n        dossierId: vm.detailDossier.dossierId,\n        value: value\n      };\n      vm.$store.dispatch('changeDisplayNameFile', params).then(function (result) {\n        vm.fileViews[index].displayName = result.displayName;\n        vm.stateEdit = false;\n      }).catch(function (reject) {});\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 701:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"taotailieuketqua\",\n    staticStyle: {\n      \"background-color\": \"white\",\n      \"width\": \"100%\"\n    }\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\" Kết quả xử lý\\n        \")]), _vm._v(\" \"), _c('v-card', _vm._l((_vm.createFiles), function(item, index) {\n    return _c('div', {\n      key: item.partNo + 'cr',\n      staticClass: \"form_alpaca\",\n      staticStyle: {\n        \"position\": \"relative\"\n      }\n    }, [_c('v-expansion-panel', {\n      staticClass: \"expaned__list__data\"\n    }, [_c('v-expansion-panel-content', {\n      attrs: {\n        \"hide-actions\": \"\",\n        \"value\": false\n      }\n    }, [_c('div', {\n      staticStyle: {\n        \"background-color\": \"#fff\"\n      },\n      attrs: {\n        \"slot\": \"header\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.stateView = false\n        }\n      },\n      slot: \"header\"\n    }, [_c('div', {\n      staticStyle: {\n        \"align-items\": \"center\",\n        \"min-height\": \"38px\",\n        \"background\": \"#fff\",\n        \"padding-left\": \"15px\"\n      },\n      style: ({\n        width: _vm.checkStyle(item)\n      })\n    }, [_c('div', {\n      staticClass: \"mr-2\",\n      staticStyle: {\n        \"min-width\": \"18px\",\n        \"display\": \"flex\",\n        \"min-height\": \"38px\"\n      }\n    }, [_c('div', {\n      staticClass: \"header__tphs\"\n    }, [_c('span', {\n      staticClass: \"text-bold\"\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\"  \")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"header__tphs\"\n    }, [_vm._v(\"\\n                        \" + _vm._s(item.partName) + \" \"), (item.required) ? _c('span', {\n      staticStyle: {\n        \"color\": \"red\"\n      }\n    }, [_vm._v(\" (*)\")]) : _vm._e(), _vm._v(\" \"), (item.eForm) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-badge', [(item.daKhai) ? _c('i', {\n      staticClass: \"fa fa-file-o\",\n      staticStyle: {\n        \"color\": \"#0d71bb\",\n        \"font-size\": \"13px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"aria-hidden\": \"true\"\n      },\n      slot: \"activator\"\n    }) : _c('i', {\n      staticClass: \"fa fa-file-text-o\",\n      staticStyle: {\n        \"color\": \"#0d71bb\",\n        \"font-size\": \"13px\"\n      },\n      attrs: {\n        \"slot\": \"activator\"\n      },\n      slot: \"activator\"\n    })]), _vm._v(\" \"), _c('span', [_vm._v(\"Form trực tuyến \" + _vm._s(item.daKhai ? 'Đã khai' : 'Chưa khai '))])], 1) : _vm._e()], 1)]), _vm._v(\" \"), _vm._l((_vm.dossierFilesItems), function(itemFileView, index) {\n      return (item.partNo + _vm.id === itemFileView.dossierPartNo + _vm.id && !itemFileView.eForm) ? _c('div', {\n        key: index + 'cr'\n      }, [_c('div', {\n        staticStyle: {\n          \"width\": \"calc(100% - 370px)\",\n          \"display\": \"flex\",\n          \"align-items\": \"center\",\n          \"min-height\": \"38px\",\n          \"background\": \"#fff\",\n          \"padding-left\": \"15px\",\n          \"font-size\": \"12px\"\n        }\n      }, [_c('span', {\n        staticClass: \"ml-3\",\n        staticStyle: {\n          \"cursor\": \"pointer\"\n        },\n        on: {\n          \"click\": function($event) {\n            $event.stopPropagation();\n            _vm.viewFile2(itemFileView)\n          }\n        }\n      }, [(itemFileView.eForm) ? _c('v-icon', [_vm._v(\"border_color\")]) : _c('v-icon', [_vm._v(\"attach_file\")]), _vm._v(\"\\n                      \" + _vm._s(itemFileView.displayName) + \" - \\n                      \"), _c('i', [_vm._v(_vm._s(itemFileView.modifiedDate))])], 1), _vm._v(\" \"), _c('v-btn', {\n        staticClass: \"mx-0 my-0\",\n        attrs: {\n          \"icon\": \"\",\n          \"ripple\": \"\"\n        },\n        on: {\n          \"click\": function($event) {\n            $event.stopPropagation();\n            _vm.deleteSingleFile(itemFileView, index)\n          }\n        }\n      }, [_c('v-icon', {\n        staticStyle: {\n          \"color\": \"red\"\n        }\n      }, [_vm._v(\"delete_outline\")])], 1)], 1)]) : _vm._e()\n    })], 2)]), _vm._v(\" \"), (item.eForm) ? _c('v-card', [_c('v-card-text', {\n      staticStyle: {\n        \"background-color\": \"rgba(244, 247, 213, 0.19)\"\n      }\n    }, [_c('v-layout', {\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [(!_vm.stateView) ? _c('v-flex', {\n      staticClass: \"text-xs-right\",\n      attrs: {\n        \"xs12\": \"\"\n      }\n    }, [(item.eForm) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.saveAlpacaForm(item, index)\n        }\n      }\n    }, [_vm._v(\"Lưu lại\")]) : _vm._e(), _vm._v(\" \"), (item.daKhai && item.eForm) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteSingleFileEform(item, index)\n        }\n      }\n    }, [_vm._v(\"Xóa\")]) : _vm._e(), _vm._v(\" \"), (item.daKhai && item.eForm) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.previewFileEfom(item, index)\n        }\n      }\n    }, [_vm._v(\"Preview\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n      attrs: {\n        \"id\": 'formAlpaca' + item.partNo + _vm.id\n      }\n    })], 1) : _vm._e()], 1)], 1)], 1) : _vm._e()], 1)], 1), _vm._v(\" \"), _c('div', {\n      staticClass: \"absolute__btn group__thanh_phan pr-3 mr-1\"\n    }, [(_vm.loading) ? _c('content-placeholders', {\n      staticClass: \"mt-1\"\n    }, [_c('content-placeholders-text', {\n      attrs: {\n        \"lines\": 1\n      }\n    })], 1) : _c('v-layout', {\n      attrs: {\n        \"row\": \"\",\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      staticStyle: {\n        \"width\": \"50px\"\n      }\n    }, [_c('input', {\n      staticStyle: {\n        \"display\": \"none\"\n      },\n      attrs: {\n        \"type\": \"file\",\n        \"id\": 'file' + item.partNo\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.onUploadSingleFile($event, item)\n        }\n      }\n    }), _vm._v(\" \"), (_vm.progressUploadPart + _vm.id === item.partNo + _vm.id) ? _c('v-progress-circular', {\n      attrs: {\n        \"width\": 2,\n        \"size\": 25,\n        \"color\": \"green\",\n        \"indeterminate\": \"\"\n      }\n    }) : (_vm.progressUploadPart + _vm.id !== item.partNo + _vm.id) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"icon\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.pickFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_c('v-badge', [_c('v-icon', {\n      attrs: {\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      }\n    }, [_vm._v(\"cloud_upload\")])], 1)], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Tải file lên\")])], 1) : _vm._e()], 1)], 1)], 1)], 1)\n  })), _vm._v(\" \"), _c('v-dialog', {\n    staticStyle: {\n      \"overflow\": \"hidden\"\n    },\n    attrs: {\n      \"max-width\": \"900\",\n      \"transition\": \"fade-transition\"\n    },\n    model: {\n      value: (_vm.dialogPDF),\n      callback: function($$v) {\n        _vm.dialogPDF = $$v\n      },\n      expression: \"dialogPDF\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(\"File đính kèm\")]), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"mx-0 my-0 absolute__btn_panel mr-2\",\n    attrs: {\n      \"icon\": \"\",\n      \"dark\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialogPDF = false\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"clear\")])], 1), _vm._v(\" \"), (_vm.dialogPDFLoading) ? _c('div', {\n    staticStyle: {\n      \"min-height\": \"600px\",\n      \"text-align\": \"center\",\n      \"margin\": \"auto\",\n      \"padding\": \"25%\"\n    }\n  }, [_c('v-progress-circular', {\n    attrs: {\n      \"size\": 100,\n      \"width\": 1,\n      \"color\": \"primary\",\n      \"indeterminate\": \"\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('iframe', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.dialogPDFLoading),\n      expression: \"!dialogPDFLoading\"\n    }],\n    staticStyle: {\n      \"overflow\": \"auto\",\n      \"min-height\": \"600px\"\n    },\n    attrs: {\n      \"id\": 'dialogPDFPreview' + _vm.id,\n      \"src\": \"\",\n      \"type\": \"application/pdf\",\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"frameborder\": \"0\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// o/frontend-web-customer-v2-1/js/24.e43b740680416478dcb6.js","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TaoTaiLieuKetQua.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b77eb43\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TaoTaiLieuKetQua.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/TaoTaiLieuKetQua.vue\n// module id = 231\n// module chunks = 0 1 5 24","<template>\r\n  <div class=\"taotailieuketqua\" style=\"background-color: white;width:100%\">\r\n    <v-expansion-panel class=\"expansion-pl\">\r\n      <v-expansion-panel-content hide-actions value=\"1\">\r\n        <div slot=\"header\">\r\n          <div class=\"background-triangle-small\"> \r\n            <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \r\n          </div> Kết quả xử lý\r\n        </div>\r\n        <v-card>\r\n          <div class=\"form_alpaca\" style=\"position: relative;\" v-for=\"(item, index) in createFiles\" v-bind:key=\"item.partNo + 'cr'\">\r\n            <v-expansion-panel class=\"expaned__list__data\">\r\n              <v-expansion-panel-content hide-actions :value=\"false\">\r\n                <div slot=\"header\" @click=\"stateView = false\" style=\"background-color:#fff\">\r\n                  <div style=\"align-items: center;min-height: 38px;background: #fff; padding-left: 15px;\" :style=\"{width: checkStyle(item)}\">\r\n                    <div class=\"mr-2\" style=\"min-width: 18px; display: flex; min-height: 38px;\">\r\n                      <div class=\"header__tphs\"><span class=\"text-bold\">{{index + 1}}.</span> &nbsp;</div>\r\n                      <div class=\"header__tphs\">\r\n                        {{item.partName}} <span v-if=\"item.required\" style=\"color: red\"> (*)</span>\r\n                        <v-tooltip top v-if=\"item.eForm\">\r\n                          <v-badge>\r\n                            <i slot=\"activator\" v-if=\"item.daKhai\" style=\"color: #0d71bb; font-size: 13px;\" class=\"fa fa-file-o\" aria-hidden=\"true\"></i>\r\n                            <i slot=\"activator\" v-else style=\"color: #0d71bb; font-size: 13px;\" class=\"fa fa-file-text-o\"></i>\r\n                          </v-badge>\r\n                          <span>Form trực tuyến {{item.daKhai ? 'Đã khai' : 'Chưa khai '}}</span>\r\n                        </v-tooltip>\r\n                    <!-- <v-tooltip top v-if=\"!item.eForm && item.hasFileTemp\">\r\n                      <v-badge v-on:click.stop=\"downloadFileTemplate(item, index)\">\r\n                        <v-icon style=\"color: #0d71bb;\" size=\"16\" color=\"primary\">save_alt</v-icon>\r\n                      </v-badge>\r\n                      <span>Download file giấy tờ</span>\r\n                    </v-tooltip> -->\r\n                  </div>\r\n                </div>\r\n                <div v-for=\"(itemFileView, index) in dossierFilesItems\" :key=\"index + 'cr'\" v-if=\"item.partNo + id === itemFileView.dossierPartNo + id && !itemFileView.eForm\">\r\n                  <div style=\"width: calc(100% - 370px);display: flex;align-items: center;min-height: 38px;background: #fff;padding-left: 15px; font-size: 12px;\">\r\n                    <span v-on:click.stop=\"viewFile2(itemFileView)\" class=\"ml-3\" style=\"cursor: pointer;\">\r\n                      <v-icon v-if=\"itemFileView.eForm\">border_color</v-icon>\r\n                      <v-icon v-else>attach_file</v-icon>\r\n                      {{itemFileView.displayName}} - \r\n                      <i>{{itemFileView.modifiedDate}}</i>\r\n                    </span>\r\n                    <v-btn icon ripple v-on:click.stop=\"deleteSingleFile(itemFileView, index)\" class=\"mx-0 my-0\">\r\n                      <v-icon style=\"color: red\">delete_outline</v-icon>\r\n                    </v-btn>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <v-card v-if=\"item.eForm\">\r\n              <v-card-text style=\"background-color: rgba(244, 247, 213, 0.19);\">\r\n                <v-layout wrap>\r\n                  <v-flex xs12 class=\"text-xs-right\" v-if=\"!stateView\">\r\n                    <v-btn color=\"primary\" @click=\"saveAlpacaForm(item, index)\" \r\n                    v-if=\"item.eForm\">Lưu lại</v-btn>\r\n                    <v-btn color=\"primary\" @click=\"deleteSingleFileEform(item, index)\" v-if=\"item.daKhai && item.eForm\">Xóa</v-btn>\r\n                    <v-btn color=\"primary\" @click=\"previewFileEfom(item, index)\" v-if=\"item.daKhai && item.eForm\">Preview</v-btn>\r\n                    <div :id=\"'formAlpaca' + item.partNo + id\">\r\n                    </div>\r\n                  </v-flex>\r\n                </v-layout>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expansion-panel-content>\r\n        </v-expansion-panel>\r\n        <div class=\"absolute__btn group__thanh_phan pr-3 mr-1\">\r\n          <content-placeholders class=\"mt-1\" v-if=\"loading\">\r\n            <content-placeholders-text :lines=\"1\" />\r\n          </content-placeholders>\r\n          <v-layout row wrap v-else>\r\n            <v-flex style=\"width: 50px;\">\r\n              <input\r\n              type=\"file\"\r\n              style=\"display: none\"\r\n              :id=\"'file' + item.partNo\"\r\n              @change=\"onUploadSingleFile($event,item)\"\r\n              >\r\n              <v-progress-circular\r\n              :width=\"2\"\r\n              :size=\"25\"\r\n              color=\"green\"\r\n              indeterminate\r\n              v-if=\"progressUploadPart + id === item.partNo + id\"\r\n              ></v-progress-circular>\r\n              <v-tooltip top v-else-if=\"progressUploadPart + id !== item.partNo + id\">\r\n                <v-btn slot=\"activator\" icon class=\"mx-0 my-0\" @click=\"pickFile(item)\">\r\n                  <v-badge>\r\n                    <v-icon size=\"16\" color=\"primary\">cloud_upload</v-icon>\r\n                  </v-badge>\r\n                </v-btn>\r\n                <span>Tải file lên</span>\r\n              </v-tooltip>\r\n              <!-- <v-tooltip top>\r\n                <v-btn slot=\"activator\" class=\"mx-0\" fab dark small color=\"primary\" @click=\"viewFileWithPartNo(item)\" style=\"height:20px;width:20px\">\r\n                  {{item.count}}\r\n                </v-btn>\r\n                <span>Xem</span>\r\n              </v-tooltip> -->\r\n            </v-flex>\r\n          </v-layout>\r\n        </div>\r\n      </div>\r\n    </v-card>\r\n    <!-- <div class=\"absolute-lable\" style=\"font-size: 12px\" v-if=\"originality !== 1 && !onlyView\">\r\n      <span>Không chọn</span>\r\n      <span>Bản chính</span>\r\n      <span>Bản chụp</span>\r\n      <span>Công chứng</span>\r\n    </div> -->\r\n    <v-dialog v-model=\"dialogPDF\" max-width=\"900\" transition=\"fade-transition\" style=\"overflow: hidden;\">\r\n      <v-card>\r\n        <v-card-title class=\"headline\">File đính kèm</v-card-title>\r\n        <v-btn icon dark class=\"mx-0 my-0 absolute__btn_panel mr-2\" @click.native=\"dialogPDF = false\">\r\n          <v-icon>clear</v-icon>\r\n        </v-btn>\r\n        <div v-if=\"dialogPDFLoading\" style=\"\r\n        min-height: 600px;\r\n        text-align: center;\r\n        margin: auto;\r\n        padding: 25%;\r\n        \">\r\n        <v-progress-circular\r\n        :size=\"100\"\r\n        :width=\"1\"\r\n        color=\"primary\"\r\n        indeterminate\r\n        ></v-progress-circular>\r\n      </div>\r\n      <iframe v-show=\"!dialogPDFLoading\" :id=\"'dialogPDFPreview' + id\" src=\"\" type=\"application/pdf\" width=\"100%\" height=\"100%\" style=\"overflow: auto;min-height: 600px;\" frameborder=\"0\">\r\n      </iframe>\r\n    </v-card>\r\n  </v-dialog>\r\n</v-expansion-panel-content>\r\n</v-expansion-panel>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import $ from 'jquery'\r\n  import toastr from 'toastr'\r\n  export default {\r\n    props: {\r\n      id: {\r\n        type: String,\r\n        default: () => 'nm'\r\n      },\r\n      detailDossier: {\r\n        type: Object,\r\n        default: () => {}\r\n      },\r\n      createFiles: {\r\n        type: Array,\r\n        default: () => []\r\n      }\r\n    },\r\n    data: () => ({\r\n      dossierTemplateItems: [],\r\n      dossierMarksItems: [],\r\n      dossierFilesItems: [],\r\n      thongTinHoSo: {},\r\n      valid: true,\r\n      stateView: false,\r\n      dialogAddOtherTemp: false,\r\n      loadingAddOther: false,\r\n      otherDossierTemplate: '',\r\n      sheet: false,\r\n      partView: '',\r\n      dossierFileIdView: '',\r\n      stateEdit: false,\r\n      progressUploadPart: '',\r\n      dialogPDF: false,\r\n      dialogPDFLoading: true,\r\n      stateAddFileOther: false,\r\n      dossierTemplatesItemSelect: {},\r\n      fileViews: [],\r\n      sampleCount: 0,\r\n      fileTemplateItems: []\r\n    }),\r\n    computed: {\r\n      loading () {\r\n        return this.$store.getters.loading\r\n      },\r\n      originality () {\r\n        var vm = this\r\n        return vm.getOriginality()\r\n      },\r\n      initDataResource () {\r\n        return this.$store.getters.loadingInitData\r\n      }\r\n    },\r\n    created () {\r\n      var vm = this\r\n      vm.page = 1\r\n      vm.$nextTick(function () {\r\n        console.log('vm.detailDossier------------', vm.detailDossier)\r\n        if (vm.detailDossier['dossierId']) {\r\n          vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(resFiles => {\r\n            vm.dossierFilesItems = resFiles\r\n            vm.createFiles = vm.mergeDossierTemplateVsDossierFiles(vm.createFiles, resFiles)\r\n            console.log('vm.createFiles------------', vm.createFiles)\r\n            console.log('vm.dossierFilesItems------------', vm.dossierFilesItems)\r\n          }).catch(reject => {\r\n          })\r\n        }\r\n      })\r\n    },\r\n    mounted () {\r\n      var vm = this\r\n      vm.$nextTick(function () {\r\n        if (vm.createFiles.length > 0) {\r\n          setTimeout(function () {\r\n            console.log('vm.createFiles------------', vm.createFiles)\r\n            console.log('vm.dossierFilesItems------------', vm.dossierFilesItems)\r\n            vm.genAllAlpacaForm(vm.dossierFilesItems, vm.createFiles)\r\n          }, 300)\r\n        }\r\n      })\r\n    },\r\n    methods: {\r\n      genAllAlpacaForm (dossierFiles, createFiles) {\r\n        var vm = this\r\n        if (vm.length > 0) {\r\n          var dossierFilesEform = dossierFiles.filter(file => {\r\n            return file.eForm\r\n          })\r\n          var dossierTemplatesHasForm = createFiles.filter(template => {\r\n            return template.eForm\r\n          })\r\n          if (dossierFilesEform.length > 0) {\r\n            dossierFilesEform.forEach(itemFiles => {\r\n              if (itemFiles.eForm) {\r\n                vm.$store.dispatch('loadAlpcaForm', itemFiles)\r\n              }\r\n            })\r\n          } else {\r\n            createFiles.forEach(val => {\r\n              if (val.eForm) {\r\n                val['templateFileNo'] = vm.detailDossier.dossierTemplateNo\r\n                vm.showAlpacaJSFORM(val)\r\n              }\r\n            })\r\n          }\r\n          if (dossierTemplatesHasForm.length !== dossierFilesEform.length) {\r\n            dossierTemplatesHasForm.forEach(template => {\r\n              let indexFromFile = dossierFilesEform.findIndex(item => {\r\n                return template.partNo === item.dossierPartNo\r\n              })\r\n              if (indexFromFile === -1) {\r\n                template['templateFileNo'] = vm.detailDossier.dossierTemplateNo\r\n                vm.showAlpacaJSFORM(template)\r\n              }\r\n            })\r\n          }\r\n        } else {\r\n          createFiles.forEach(val => {\r\n            if (val.eForm) {\r\n              val['templateFileNo'] = vm.detailDossier.dossierTemplateNo\r\n              vm.showAlpacaJSFORM(val)\r\n            }\r\n          })\r\n        }\r\n      },\r\n      mergeDossierTemplateVsDossierFiles (createFiles, dossierFiles) {\r\n        var vm = this\r\n        if (dossierFiles.length !== 0) {\r\n          createFiles.forEach(template => {\r\n            var itemFind = dossierFiles.find(file => {\r\n              return template.partNo === file.dossierPartNo && file.eForm\r\n            })\r\n            if (itemFind) {\r\n              template['daKhai'] = true\r\n            } else if (!itemFind && template.eForm) {\r\n              template['daKhai'] = false\r\n            }\r\n          })\r\n        } else {\r\n          createFiles.forEach(template => {\r\n            if (template.eForm) {\r\n              template['daKhai'] = false\r\n            }\r\n          })\r\n        }\r\n        return createFiles\r\n      },\r\n      showAlpacaJSFORM (item) {\r\n        var vm = this\r\n        item['dossierId'] = vm.detailDossier.dossierId\r\n        vm.$store.dispatch('loadFormScript', item).then(resScript => {\r\n          vm.$store.dispatch('loadFormData', item).then(resData => {\r\n            $('#formAlpaca' + item.partNo + vm.id).empty()\r\n            var formScript, formData\r\n            /* eslint-disable */\r\n            if (resScript) {\r\n              formScript = eval('(' + resScript + ')')\r\n            } else {\r\n              formScript = {}\r\n            }\r\n            if (resData) {\r\n              formData = eval('(' + resData + ')')\r\n            } else {\r\n              formData = {}\r\n            }\r\n            /* eslint-disable */\r\n            formScript.data = formData\r\n            $('#formAlpaca' + item.partNo + vm.id).alpaca(formScript)\r\n          })\r\n        })\r\n      },\r\n      saveAlpacaForm (item, index) {\r\n        var vm = this\r\n        var fileFind = vm.dossierFilesItems.find(itemFile => {\r\n          return itemFile.dossierPartNo === item.partNo && itemFile.eForm\r\n        })\r\n        if (fileFind) {\r\n          fileFind['dossierId'] = vm.detailDossier.dossierId\r\n          fileFind['id'] = vm.id\r\n          vm.$store.dispatch('putAlpacaForm', fileFind).then(resData => {\r\n          // toastr.success('Yêu cầu của bạn được thực hiện thành công.')\r\n        }).catch(reject => {\r\n          toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\r\n        })\r\n      } else {\r\n        item['dossierId'] = vm.detailDossier.dossierId\r\n        item['id'] = vm.id\r\n        vm.$store.dispatch('postEform', item).then(resPostEform => {\r\n          // toastr.success('Yêu cầu của bạn được thực hiện thành công.')\r\n          vm.createFiles[index].daKhai = true\r\n          vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(resFiles => {\r\n            vm.dossierFilesItems = resFiles\r\n          }).catch(reject => {\r\n            toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\r\n          })\r\n        }).catch(reject => {\r\n          toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\r\n        })\r\n      }\r\n    },\r\n    onDeleteAttackFiles (item) {\r\n      var vm = this\r\n      console.log('delete')\r\n      let x = confirm('Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?')\r\n      if (x) {\r\n        vm.dossierFilesItems.forEach(val => {\r\n          if (val.dossierPartNo === item.partNo) {\r\n            val['dossierId'] = vm.detailDossier.dossierId\r\n            vm.$store.dispatch('deleteAttackFiles', val).then(function (result) {\r\n              vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId)\r\n            }).catch(function (xhr) {\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    pickFile (item) {\r\n      var vm = this\r\n      vm.stateAddFileOther = false\r\n      document.getElementById('file' + item.partNo).click()\r\n    },\r\n    onUploadSingleFile (e, data) {\r\n      var vm = this\r\n      vm.dossierTemplatesItemSelect = data\r\n      vm.progressUploadPart = data.partNo\r\n      data['dossierId'] = vm.detailDossier.dossierId\r\n      data['dossierTemplateNo'] = vm.detailDossier.dossierTemplateNo\r\n      vm.$store.dispatch('uploadSingleFile', data).then(function (result) {\r\n        vm.progressUploadPart = ''\r\n        vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(result => {\r\n          vm.dossierFilesItems = result\r\n        })\r\n      }).catch(function (xhr) {\r\n        vm.progressUploadPart = ''\r\n      })\r\n    },\r\n    loadAlpcaForm (data) {\r\n      var vm = this\r\n      var fileFind = vm.dossierFilesItems.find(itemFile => {\r\n        return itemFile.dossierPartNo === data.partNo && itemFile.eForm\r\n      })\r\n      if (fileFind) {\r\n        fileFind['id'] = vm.id\r\n        vm.$store.dispatch('loadAlpcaForm', fileFind)\r\n      } else {\r\n        vm.createFiles.forEach(val => {\r\n          if (val.eForm && data.partNo === val.partNo) {\r\n            val['templateFileNo'] = vm.detailDossier.dossierTemplateNo\r\n            vm.showAlpacaJSFORM(val)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    deleteSingleFileEform (item, index) {\r\n      var vm = this\r\n      let x = confirm('Bạn có muốn xóa?')\r\n      if (x) {\r\n        vm.dossierFilesItems.forEach(file => {\r\n          if (file.dossierPartNo === item.partNo && file.eForm) {\r\n            file['dossierId'] = vm.detailDossier.dossierId\r\n            vm.$store.dispatch('deleteDossierFile', file).then(resFile => {\r\n              console.log('success!')\r\n              vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(result => {\r\n                vm.dossierFilesItems = result\r\n                var fileViewsTemp = vm.dossierFilesItems.filter(file => {\r\n                  return file.dossierPartNo === item.partNo && !file.eForm\r\n                })\r\n                if (fileViewsTemp) {\r\n                  vm.fileViews = fileViewsTemp\r\n                }\r\n              })\r\n            })\r\n          }\r\n        })\r\n        vm.createFiles[index].daKhai = false\r\n      }\r\n    },\r\n    previewFileEfom (item, index) {\r\n      var vm = this\r\n      vm.dossierFilesItems.forEach(file => {\r\n        if (file.dossierPartNo === item.partNo && file.eForm) {\r\n          file['dossierId'] = vm.detailDossier.dossierId\r\n          vm.dialogPDFLoading = true\r\n          vm.dialogPDF = true\r\n          file['id'] = vm.id\r\n          vm.$store.dispatch('putAlpacaForm', file).then(resData => {\r\n            setTimeout(function () {\r\n              vm.$store.dispatch('viewFile', file).then(result => {\r\n                vm.dialogPDFLoading = false\r\n                document.getElementById('dialogPDFPreview' + vm.id).src = result\r\n              })\r\n            }, 1000)\r\n          }).catch(reject => {\r\n            toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\r\n          })\r\n        }\r\n      })\r\n    },\r\n    deleteSingleFile (item, index) {\r\n      var vm = this\r\n      let x = confirm('Bạn có muốn xóa?')\r\n      if (x) {\r\n        item['dossierId'] = vm.detailDossier.dossierId\r\n        vm.$store.dispatch('deleteDossierFile', item).then(resFile => {\r\n          vm.fileViews.splice(index, 1)\r\n          vm.stateView = true\r\n          vm.partView = item.dossierPartNo\r\n          vm.$store.dispatch('loadDossierFiles', vm.detailDossier.dossierId).then(result => {\r\n            vm.dossierFilesItems = result\r\n          })\r\n        }).catch(reject => {\r\n          toastr.error('Yêu cầu của bạn được thực hiện thất bại.')\r\n        })\r\n      }\r\n    },\r\n    viewFile (data) {\r\n      var vm = this\r\n      vm.dossierFilesItems.forEach(val => {\r\n        val['dossierId'] = vm.detailDossier.dossierId\r\n        if (val.dossierPartNo === data.partNo) {\r\n          this.$store.dispatch('viewFile', val)\r\n        }\r\n      })\r\n    },\r\n    viewFile2 (data) {\r\n      var vm = this\r\n      if (data.fileType === 'doc' || data.fileType === 'docx' || data.fileType === 'xsl') {\r\n        var url = vm.initDataResource.dossierApi + '/' + vm.detailDossier.dossierId + '/files/' + data.referenceUid\r\n        window.open(url)\r\n      } else {\r\n        vm.dialogPDFLoading = true\r\n        vm.dialogPDF = true\r\n        data['dossierId'] = vm.detailDossier.dossierId\r\n        vm.$store.dispatch('viewFile', data).then(result => {\r\n          vm.dialogPDFLoading = false\r\n          document.getElementById('dialogPDFPreview' + vm.id).src = result\r\n        })\r\n      }\r\n    },\r\n    viewFileWithPartNo (item) {\r\n      var vm = this\r\n      if (vm.dossierFilesItems) {\r\n        var fileViewsTemp = vm.dossierFilesItems.filter(file => {\r\n          return file.dossierPartNo === item.partNo && !file.eForm\r\n        })\r\n        if (fileViewsTemp) {\r\n          vm.fileViews = fileViewsTemp\r\n          if (vm.partView !== item.partNo) {\r\n            vm.stateView = true\r\n            vm.partView = item.partNo\r\n          } else {\r\n            vm.stateView = !vm.stateView\r\n            vm.partView = item.partNo\r\n          }\r\n        } else {\r\n          return\r\n        }\r\n      }\r\n      return\r\n    },\r\n    checkStyle (item) {\r\n      return 'calc(100% - ' + 50 + 'px)'\r\n    },\r\n    downloadFileTemplate (item, index) {\r\n      var vm = this\r\n      if (vm.fileTemplateItems.length > 0) {\r\n        let fileFind = vm.fileTemplateItems.find(file => {\r\n          return item.fileTemplateNo === file.fileTemplateNo\r\n        })\r\n        if (fileFind) {\r\n          let url = vm.initDataResource.serviceInfoApi + '/' + fileFind.serviceCode + '/filetemplates/' + fileFind.fileTemplateNo\r\n          window.open(url)\r\n        } else {\r\n          console.log('ko thay file')\r\n        }\r\n      }\r\n    },\r\n    cancelDialog () {\r\n      var vm = this\r\n      vm.dialogAddOtherTemp = false\r\n      vm.progressUploadPart = ''\r\n    },\r\n    addFileOther (item) {\r\n      var vm = this\r\n      vm.dialogAddOtherTemp = true\r\n      vm.stateAddFileOther = true\r\n      vm.dossierTemplatesItemSelect = item\r\n    },\r\n    changeDisplayName (item, index) {\r\n      var vm = this\r\n      let params = {\r\n        dossierId: vm.detailDossier.dossierId,\r\n        value: value\r\n      }\r\n      vm.$store.dispatch('changeDisplayNameFile', params).then(result => {\r\n        vm.fileViews[index].displayName = result.displayName\r\n        vm.stateEdit = false\r\n      }).catch(reject => {\r\n        console.log('error')\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// TaoTaiLieuKetQua.vue?7150707d","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"taotailieuketqua\",\n    staticStyle: {\n      \"background-color\": \"white\",\n      \"width\": \"100%\"\n    }\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\" Kết quả xử lý\\n        \")]), _vm._v(\" \"), _c('v-card', _vm._l((_vm.createFiles), function(item, index) {\n    return _c('div', {\n      key: item.partNo + 'cr',\n      staticClass: \"form_alpaca\",\n      staticStyle: {\n        \"position\": \"relative\"\n      }\n    }, [_c('v-expansion-panel', {\n      staticClass: \"expaned__list__data\"\n    }, [_c('v-expansion-panel-content', {\n      attrs: {\n        \"hide-actions\": \"\",\n        \"value\": false\n      }\n    }, [_c('div', {\n      staticStyle: {\n        \"background-color\": \"#fff\"\n      },\n      attrs: {\n        \"slot\": \"header\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.stateView = false\n        }\n      },\n      slot: \"header\"\n    }, [_c('div', {\n      staticStyle: {\n        \"align-items\": \"center\",\n        \"min-height\": \"38px\",\n        \"background\": \"#fff\",\n        \"padding-left\": \"15px\"\n      },\n      style: ({\n        width: _vm.checkStyle(item)\n      })\n    }, [_c('div', {\n      staticClass: \"mr-2\",\n      staticStyle: {\n        \"min-width\": \"18px\",\n        \"display\": \"flex\",\n        \"min-height\": \"38px\"\n      }\n    }, [_c('div', {\n      staticClass: \"header__tphs\"\n    }, [_c('span', {\n      staticClass: \"text-bold\"\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\"  \")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"header__tphs\"\n    }, [_vm._v(\"\\n                        \" + _vm._s(item.partName) + \" \"), (item.required) ? _c('span', {\n      staticStyle: {\n        \"color\": \"red\"\n      }\n    }, [_vm._v(\" (*)\")]) : _vm._e(), _vm._v(\" \"), (item.eForm) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-badge', [(item.daKhai) ? _c('i', {\n      staticClass: \"fa fa-file-o\",\n      staticStyle: {\n        \"color\": \"#0d71bb\",\n        \"font-size\": \"13px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"aria-hidden\": \"true\"\n      },\n      slot: \"activator\"\n    }) : _c('i', {\n      staticClass: \"fa fa-file-text-o\",\n      staticStyle: {\n        \"color\": \"#0d71bb\",\n        \"font-size\": \"13px\"\n      },\n      attrs: {\n        \"slot\": \"activator\"\n      },\n      slot: \"activator\"\n    })]), _vm._v(\" \"), _c('span', [_vm._v(\"Form trực tuyến \" + _vm._s(item.daKhai ? 'Đã khai' : 'Chưa khai '))])], 1) : _vm._e()], 1)]), _vm._v(\" \"), _vm._l((_vm.dossierFilesItems), function(itemFileView, index) {\n      return (item.partNo + _vm.id === itemFileView.dossierPartNo + _vm.id && !itemFileView.eForm) ? _c('div', {\n        key: index + 'cr'\n      }, [_c('div', {\n        staticStyle: {\n          \"width\": \"calc(100% - 370px)\",\n          \"display\": \"flex\",\n          \"align-items\": \"center\",\n          \"min-height\": \"38px\",\n          \"background\": \"#fff\",\n          \"padding-left\": \"15px\",\n          \"font-size\": \"12px\"\n        }\n      }, [_c('span', {\n        staticClass: \"ml-3\",\n        staticStyle: {\n          \"cursor\": \"pointer\"\n        },\n        on: {\n          \"click\": function($event) {\n            $event.stopPropagation();\n            _vm.viewFile2(itemFileView)\n          }\n        }\n      }, [(itemFileView.eForm) ? _c('v-icon', [_vm._v(\"border_color\")]) : _c('v-icon', [_vm._v(\"attach_file\")]), _vm._v(\"\\n                      \" + _vm._s(itemFileView.displayName) + \" - \\n                      \"), _c('i', [_vm._v(_vm._s(itemFileView.modifiedDate))])], 1), _vm._v(\" \"), _c('v-btn', {\n        staticClass: \"mx-0 my-0\",\n        attrs: {\n          \"icon\": \"\",\n          \"ripple\": \"\"\n        },\n        on: {\n          \"click\": function($event) {\n            $event.stopPropagation();\n            _vm.deleteSingleFile(itemFileView, index)\n          }\n        }\n      }, [_c('v-icon', {\n        staticStyle: {\n          \"color\": \"red\"\n        }\n      }, [_vm._v(\"delete_outline\")])], 1)], 1)]) : _vm._e()\n    })], 2)]), _vm._v(\" \"), (item.eForm) ? _c('v-card', [_c('v-card-text', {\n      staticStyle: {\n        \"background-color\": \"rgba(244, 247, 213, 0.19)\"\n      }\n    }, [_c('v-layout', {\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [(!_vm.stateView) ? _c('v-flex', {\n      staticClass: \"text-xs-right\",\n      attrs: {\n        \"xs12\": \"\"\n      }\n    }, [(item.eForm) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.saveAlpacaForm(item, index)\n        }\n      }\n    }, [_vm._v(\"Lưu lại\")]) : _vm._e(), _vm._v(\" \"), (item.daKhai && item.eForm) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteSingleFileEform(item, index)\n        }\n      }\n    }, [_vm._v(\"Xóa\")]) : _vm._e(), _vm._v(\" \"), (item.daKhai && item.eForm) ? _c('v-btn', {\n      attrs: {\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.previewFileEfom(item, index)\n        }\n      }\n    }, [_vm._v(\"Preview\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n      attrs: {\n        \"id\": 'formAlpaca' + item.partNo + _vm.id\n      }\n    })], 1) : _vm._e()], 1)], 1)], 1) : _vm._e()], 1)], 1), _vm._v(\" \"), _c('div', {\n      staticClass: \"absolute__btn group__thanh_phan pr-3 mr-1\"\n    }, [(_vm.loading) ? _c('content-placeholders', {\n      staticClass: \"mt-1\"\n    }, [_c('content-placeholders-text', {\n      attrs: {\n        \"lines\": 1\n      }\n    })], 1) : _c('v-layout', {\n      attrs: {\n        \"row\": \"\",\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      staticStyle: {\n        \"width\": \"50px\"\n      }\n    }, [_c('input', {\n      staticStyle: {\n        \"display\": \"none\"\n      },\n      attrs: {\n        \"type\": \"file\",\n        \"id\": 'file' + item.partNo\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.onUploadSingleFile($event, item)\n        }\n      }\n    }), _vm._v(\" \"), (_vm.progressUploadPart + _vm.id === item.partNo + _vm.id) ? _c('v-progress-circular', {\n      attrs: {\n        \"width\": 2,\n        \"size\": 25,\n        \"color\": \"green\",\n        \"indeterminate\": \"\"\n      }\n    }) : (_vm.progressUploadPart + _vm.id !== item.partNo + _vm.id) ? _c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      attrs: {\n        \"slot\": \"activator\",\n        \"icon\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.pickFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_c('v-badge', [_c('v-icon', {\n      attrs: {\n        \"size\": \"16\",\n        \"color\": \"primary\"\n      }\n    }, [_vm._v(\"cloud_upload\")])], 1)], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Tải file lên\")])], 1) : _vm._e()], 1)], 1)], 1)], 1)\n  })), _vm._v(\" \"), _c('v-dialog', {\n    staticStyle: {\n      \"overflow\": \"hidden\"\n    },\n    attrs: {\n      \"max-width\": \"900\",\n      \"transition\": \"fade-transition\"\n    },\n    model: {\n      value: (_vm.dialogPDF),\n      callback: function($$v) {\n        _vm.dialogPDF = $$v\n      },\n      expression: \"dialogPDF\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(\"File đính kèm\")]), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"mx-0 my-0 absolute__btn_panel mr-2\",\n    attrs: {\n      \"icon\": \"\",\n      \"dark\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialogPDF = false\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"clear\")])], 1), _vm._v(\" \"), (_vm.dialogPDFLoading) ? _c('div', {\n    staticStyle: {\n      \"min-height\": \"600px\",\n      \"text-align\": \"center\",\n      \"margin\": \"auto\",\n      \"padding\": \"25%\"\n    }\n  }, [_c('v-progress-circular', {\n    attrs: {\n      \"size\": 100,\n      \"width\": 1,\n      \"color\": \"primary\",\n      \"indeterminate\": \"\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('iframe', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.dialogPDFLoading),\n      expression: \"!dialogPDFLoading\"\n    }],\n    staticStyle: {\n      \"overflow\": \"auto\",\n      \"min-height\": \"600px\"\n    },\n    attrs: {\n      \"id\": 'dialogPDFPreview' + _vm.id,\n      \"src\": \"\",\n      \"type\": \"application/pdf\",\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"frameborder\": \"0\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b77eb43\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/TaoTaiLieuKetQua.vue\n// module id = 701\n// module chunks = 0 1 5 24"],"sourceRoot":""}