(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d237b33"],{fbde:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list-thu-tuc"},[i("v-layout",{staticClass:"white py-2",attrs:{wrap:""}},[i("v-flex",{staticClass:"px-2 input-group--text-field-box",attrs:{xs12:"",sm6:"",md3:""}},[i("v-select",{staticClass:"select-border",attrs:{items:e.govAgencyList,placeholder:"Chọn cơ quan","item-text":"administrationName","item-value":"administrationCode","hide-selected":!0,clearable:"",box:""},on:{change:e.changeAdministration},model:{value:e.govAgencySelected,callback:function(t){e.govAgencySelected=t},expression:"govAgencySelected"}})],1),i("v-flex",{staticClass:"px-2 input-group--text-field-box",attrs:{xs12:"",sm6:"",md3:""}},[i("v-select",{staticClass:"select-border",attrs:{items:e.domainListCurrent,placeholder:"Chọn lĩnh vực","item-text":"domainName","item-value":"domainCode","hide-selected":!0,clearable:"",box:""},on:{change:e.changeDomain},model:{value:e.domainSelected,callback:function(t){e.domainSelected=t},expression:"domainSelected"}})],1),i("v-flex",{staticClass:"px-2 input-group--text-field-box",attrs:{xs12:"",sm6:"",md3:""}},[i("v-select",{staticClass:"select-border",attrs:{items:e.levelList,autocomplete:"",placeholder:"Chọn mức độ","item-text":"textLevel","item-value":"level","hide-selected":!0,clearable:"",box:""},on:{change:e.changeLevel},model:{value:e.levelSelected,callback:function(t){e.levelSelected=t},expression:"levelSelected"}})],1),i("v-flex",{staticClass:"pl-2 pr-2",attrs:{xs12:"",sm6:"",md3:""}},[i("div",{staticStyle:{position:"relative"}},[i("v-text-field",{staticClass:"input-border input-search",attrs:{placeholder:"Nhập tên thủ tục hành chính",box:"","append-icon":"search","append-icon-cb":e.filterServiceName},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.filterServiceName()}},model:{value:e.serviceNameKey,callback:function(t){e.serviceNameKey=t},expression:"serviceNameKey"}})],1)])],1),e.loading?i("content-placeholders",{staticClass:"mt-3"},[i("content-placeholders-text",{attrs:{lines:10}})],1):i("div",{staticClass:"service__info__table mt-2"},[i("v-card",{staticClass:"mx-2"},[i("div",{staticClass:"px-2 py-2 blue text-bold white--text"},[e._v("\n        STT | Tên thủ tục\n      ")]),i("v-list",{staticClass:"py-0"},[e._l(e.serviceInfoList,function(t,a){return[i("v-layout",{key:a,staticStyle:{"border-bottom":"1px solid #dedede",height:"auto"},attrs:{wrap:""}},[i("v-flex",{staticClass:"text-xs-center text-bold",attrs:{xs1:""}},[i("span",[e._v(e._s(a+1))])]),i("v-flex",{attrs:{xs10:""},on:{click:function(i){e.viewDetail(t)}}},[i("div",{staticStyle:{color:"#1e5018"}},[e._v(e._s(t.serviceName))]),i("div",[i("span",{staticClass:"text-bold"},[e._v("Lĩnh vực: ")]),i("span",[e._v(e._s(t.domainName))])]),i("div",[i("span",{staticClass:"text-bold"},[e._v("Mức độ: ")]),i("span",[e._v(e._s(t.maxLevel))])])]),i("v-flex",{staticClass:"text-xs-center mt-1",attrs:{xs1:""}},[i("v-menu",{staticStyle:{position:"relative !important"},attrs:{"close-on-content-click":!1,left:""}},[i("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"100%"},attrs:{slot:"activator",icon:""},slot:"activator"},[i("v-icon",{attrs:{color:"primary lighten-1"}},[e._v("more_vert")])],1),i("v-list",[t.serviceConfigs&&e.serviceConfigs(t.serviceConfigs).length>1?i("v-menu",{staticStyle:{position:"relative !important"},attrs:{"close-on-content-click":!1,bottom:"",right:"","offset-y":""}},[t.maxLevel>=3?i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",small:"",color:"primary"},slot:"activator"},[e._v("Nộp hồ sơ   "),i("v-icon",{attrs:{size:"18"}},[e._v("arrow_drop_down")])],1):i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",small:"",color:"primary"},slot:"activator"},[e._v("Xem hướng dẫn   "),i("v-icon",{attrs:{size:"18"}},[e._v("arrow_drop_down")])],1),t.serviceConfigs?i("v-list",e._l(e.serviceConfigs(t.serviceConfigs),function(t,a){return i("v-list-tile",{key:a},[t.serviceLevel>=3?i("v-list-tile-title",{on:{click:function(i){e.createDossier(t)}}},[e._v(e._s(t.govAgencyName))]):i("v-list-tile-title",{on:{click:function(i){e.viewGuide(t)}}},[e._v(e._s(t.govAgencyName))])],1)}),1):e._e()],1):e._e(),t.serviceConfigs&&1===e.serviceConfigs(t.serviceConfigs).length&&Number(e.serviceConfigs(t.serviceConfigs)[0]["serviceLevel"])>2?i("v-btn",{staticClass:"mx-0 my-0",attrs:{small:"",color:"primary"},on:{click:function(i){e.createDossier(e.serviceConfigs(t.serviceConfigs)[0])}}},[e._v("\n                    Nộp hồ sơ\n                  ")]):e._e(),t.serviceConfigs&&1===e.serviceConfigs(t.serviceConfigs).length&&Number(e.serviceConfigs(t.serviceConfigs)[0]["serviceLevel"])<=2?i("v-btn",{staticClass:"mx-0 my-0",attrs:{small:"",color:"primary"},on:{click:function(i){e.viewGuide(e.serviceConfigs(t.serviceConfigs)[0])}}},[e._v("\n                    Xem hướng dẫn\n                  ")]):e._e()],1)],1)],1)],1)]})],2)],1),i("div",{class:e.viewMobile?"mt-2":"text-xs-right layout wrap mt-2",staticStyle:{position:"relative"}},[i("div",{staticClass:"flex pagging-table px-2"},[i("tiny-pagination",{attrs:{total:e.totalThuTuc,page:e.thutucPage,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)])],1),i("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"600"},model:{value:e.dialogGuide,callback:function(t){e.dialogGuide=t},expression:"dialogGuide"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("Hướng dẫn nộp hồ sơ")]),e.serviceDetail?i("v-card-text",{staticStyle:{"max-height":"400px"},domProps:{innerHTML:e._s(e.serviceDetail.serviceInstruction)}}):e._e(),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(t){e.dialogGuide=!1}}},[e._v("\n          Đóng\n        ")])],1)],1)],1)],1)},n=[],r=(i("1157"),i("bbd0"),i("d7f8")),s=i("9029"),o={props:[],components:{"tiny-pagination":r["a"]},data:function(){return{pathRouter:"/thu-tuc-hanh-chinh/",serviceInfoList:[],totalThuTuc:0,thutucPage:1,govAgencySelected:{},domainListCurrent:[],domainSelected:{},levelSelected:{},serviceNameKey:"",serviceDetail:"",dialogGuide:!1,loading:!0,headers:[{text:"STT",align:"center",sortable:!1},{text:"Tên thủ tục",align:"center",sortable:!1},{text:"Lĩnh vực",align:"center",sortable:!1},{text:"Mức độ",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}]}},computed:{govAgencyList:function(){return this.$store.getters.getAgencyList},domainList:function(){return this.$store.getters.getDomainList},levelList:function(){return this.$store.getters.getLevelList},viewMobile:function(){return s["isMobile"]}},created:function(){var e=this;e.$nextTick(function(){e.pathRouter=s["isMobile"]?"/m/thu-tuc-hanh-chinh/":"/thu-tuc-hanh-chinh/";var t=e.$router.history.current,i=t.query;if(e.govAgencySelected=e.domainSelected=e.levelSelected=e.serviceNameKey="",e.govAgencySelected=i.hasOwnProperty("agency")?i.agency:"",e.domainSelected=i.hasOwnProperty("domain")?i.domain:"",e.levelSelected=i.hasOwnProperty("level")&&!isNaN(i.hasOwnProperty("level"))?Number(i.level):"",e.serviceNameKey=i.hasOwnProperty("keyword")?i.keyword:"",i.hasOwnProperty("agency")){var a={agencyCode:i["agency"]};e.$store.dispatch("getDomain",a).then(function(t){e.domainListCurrent=t})}else{var n={agencyCode:""};e.$store.dispatch("getDomain",n).then(function(t){e.domainListCurrent=t})}e.doLoadingThuTuc()})},updated:function(){var e=this;e.$nextTick(function(){})},watch:{$route:function(e,t){var i=this,a=(e.params,e.query);if(i.domainListCurrent=[],a.hasOwnProperty("agency")){var n={agencyCode:a["agency"]};i.$store.dispatch("getDomain",n).then(function(e){i.domainListCurrent=e})}else i.domainListCurrent=i.domainList;i.govAgencySelected=i.domainSelected=i.levelSelected=i.serviceNameKey="",i.govAgencySelected=a.hasOwnProperty("agency")?a.agency:"",i.domainSelected=a.hasOwnProperty("domain")?a.domain:"",i.levelSelected=a.hasOwnProperty("level")&&!isNaN(a.hasOwnProperty("level"))?Number(a.level):"",i.serviceNameKey=a.hasOwnProperty("keyword")?a.keyword:"",i.doLoadingThuTuc()}},methods:{changeAdministration:function(){var e=this;setTimeout(function(){var t=e.$router.history.current,i=t.query,a="?";for(var n in i["page"]=1,i["agency"]=e.govAgencySelected,i["domain"]="",i["keyword"]="",i)""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&null!==i[n]&&(a+=n+"="+i[n]+"&");e.$router.push({path:e.pathRouter+a,query:{renew:Math.floor(100*Math.random())+1}})},100)},changeDomain:function(){var e=this;setTimeout(function(){var t=e.$router.history.current,i=t.query,a="?";for(var n in i["page"]=1,i["domain"]=e.domainSelected,i["keyword"]=e.serviceNameKey,i)""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&null!==i[n]&&(a+=n+"="+i[n]+"&");e.$router.push({path:e.pathRouter+a,query:{renew:Math.floor(100*Math.random())+1}})},100)},changeLevel:function(){var e=this;setTimeout(function(){var t=e.$router.history.current,i=t.query,a="?";for(var n in i["page"]=1,i["level"]=e.levelSelected,i["keyword"]=e.serviceNameKey,i)""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&null!==i[n]&&(a+=n+"="+i[n]+"&");e.$router.push({path:e.pathRouter+a,query:{renew:Math.floor(100*Math.random())+1}})},100)},filterServiceName:function(){var e=this;setTimeout(function(){var t=e.$router.history.current,i=t.query,a="?";for(var n in i["page"]=1,i["keyword"]=e.serviceNameKey,i)""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&null!==i[n]&&(a+=n+"="+i[n]+"&");e.$router.push({path:e.pathRouter+a,query:{renew:i["renew"]?i["renew"]+1:101}})},100)},doLoadingThuTuc:function(){var e=this;e.serviceInfoList=[],e.loading=!0;var t=e.$router.history.current.query,i=null;i={page:t.page?t.page:1,administration:t.hasOwnProperty("agency")?t.agency:"",keyword:t.hasOwnProperty("keyword")?t.keyword:"",level:t.hasOwnProperty("level")?t.level:"",domain:t.hasOwnProperty("domain")?t.domain:""},e.$store.dispatch("getServiceLists",i).then(function(i){e.loading=!1,i.data?(e.serviceInfoList=i.data,e.thutucPage=Number(t.page)?Number(t.page):1,e.totalThuTuc=i.total):(e.totalThuTuc=0,e.serviceInfoList=[]),e.serviceItemTotal=i.total}).catch(function(t){e.loading=!1,e.serviceInfoList=[],e.totalThuTuc=0,e.thutucPage=1})},paggingData:function(e){var t=this,i=t.$router.history.current,a=i.query,n="?";for(var r in a["page"]="",a)""!==a[r]&&"undefined"!==a[r]&&void 0!==a[r]&&null!==a[r]&&"null"!==a[r]&&(n+=r+"="+a[r]+"&");n+="page="+e.page,t.$router.push({path:i.path+n})},viewDetail:function(e){console.log("item",e);var t=this;t.$router.push({path:t.pathRouter+e.serviceInfoId})},createDossier:function(e){var t=window.themeDisplay?window.themeDisplay.isSignedIn():"";if(t){var i=window.themeDisplay.getLayoutRelativeURL().substring(0,window.themeDisplay.getLayoutRelativeURL().lastIndexOf("/")),a=i+"/dich-vu-cong#/add-dvc/"+e.serviceConfigId;window.open(a,"_self")}else alert("Vui lòng đăng nhập để thực hiện")},viewGuide:function(e){var t=this;t.serviceDetail=e,t.dialogGuide=!0},serviceConfigs:function(e){return Array.isArray(e)?e:e.hasOwnProperty("serviceConfigId")?[e]:[]},getColor:function(e){return 2===e?"green":3===e?"orange darken-1":4===e?"red":void 0}}},c=o,l=i("2877"),d=i("6544"),v=i.n(d),u=i("8336"),h=i("b0af"),g=i("99d9"),m=i("12b2"),p=i("169a"),y=i("0e8f"),f=i("132d"),x=i("a722"),C=i("8860"),w=i("ba95"),b=i("5d23"),L=i("e449"),_=i("b56d"),S=i("9910"),k=i("2677"),T=Object(l["a"])(c,a,n,!1,null,null,null);t["default"]=T.exports;v()(T,{VBtn:u["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:m["a"],VDialog:p["a"],VFlex:y["a"],VIcon:f["a"],VLayout:x["a"],VList:C["a"],VListTile:w["a"],VListTileTitle:b["b"],VMenu:L["a"],VSelect:_["a"],VSpacer:S["a"],VTextField:k["a"]})}}]);
//# sourceMappingURL=chunk-2d237b33.js.map