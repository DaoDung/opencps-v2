(function(e){function n(n){for(var i,r,c=n[0],s=n[1],u=n[2],l=0,d=[];l<c.length;l++)r=c[l],o[r]&&d.push(o[r][0]),o[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);p&&p(n);while(d.length)d.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],i=!0,r=1;r<t.length;r++){var c=t[r];0!==o[c]&&(i=!1)}i&&(a.splice(n--,1),e=s(s.s=t[0]))}return e}var i={},r={app:0},o={app:0},a=[];function c(e){return s.p+"../../o/opencps-store/js/cli/serviceinfo/app/js/"+({}[e]||e)+".js"}function s(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(e){var n=[],t={"chunk-d2f3ddec":1,"chunk-22808652":1,"chunk-5a38bf54":1,"chunk-6c81b952":1,"chunk-dcc57398":1,"chunk-a5a71f02":1};r[e]?n.push(r[e]):0!==r[e]&&t[e]&&n.push(r[e]=new Promise(function(n,t){for(var i="../../o/opencps-store/js/cli/serviceinfo/app/css/"+({}[e]||e)+".css",o=s.p+i,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var u=a[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===o))return n()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===i||l===o)return n()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=n,p.onerror=function(n){var i=n&&n.target&&n.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");a.request=i,delete r[e],p.parentNode.removeChild(p),t(a)},p.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(p)}).then(function(){r[e]=0}));var i=o[e];if(0!==i)if(i)n.push(i[2]);else{var a=new Promise(function(n,t){i=o[e]=[n,t]});n.push(i[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e),u=function(n){l.onerror=l.onload=null,clearTimeout(d);var t=o[e];if(0!==t){if(t){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src,a=new Error("Loading chunk "+e+" failed.\n("+i+": "+r+")");a.type=i,a.request=r,t[1](a)}o[e]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(n)},s.m=e,s.c=i,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)s.d(t,i,function(n){return e[n]}.bind(null,i));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=n,u=u.slice();for(var d=0;d<u.length;d++)n(u[d]);var p=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var i=t("1356"),r=t.n(i);r.a},1356:function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("0f18");var i=t("a026"),r=t("bb71");t("74ef");i["a"].use(r["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",{staticStyle:{border:"1px solid #dedede","max-width":"1300px",margin:"0 auto"},attrs:{id:"app_serviceinfo"}},[e.isMobile?e._e():t("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"265"}},[t("v-list",{staticClass:"py-0"},e._l(e.menuServiceInfos,function(n,i){return t("v-list-group",{key:i,attrs:{"prepend-icon":n.icon,"append-icon":"all"===n.mappingCode?"":"expand_less",value:i===e.activeTab}},[t("v-list-tile",{attrs:{slot:"activator"},on:{click:function(t){"all"===n.mappingCode?e.filterAll():e.activeAll=!1}},slot:"activator"},[t("v-list-tile-title",[e._v(e._s(n.name))]),"all"===n.mappingCode?t("span",{staticClass:"status__counter",staticStyle:{color:"#0b72ba"}},[e._v("\n            "+e._s(e.countAllService)+"\n          ")]):e._e()],1),e._l(n["children"],function(r,o){return t("v-list-tile",{key:o},[t("v-list-tile-action",[String(e.currentAgency)===String(r[n.mappingCode])||String(e.currentDomain)===String(r[n.mappingCode])||String(e.currentLevel)===String(r[n.mappingCode])||String(e.currentMethod)===String(r[n.mappingCode])?t("v-icon",{attrs:{color:"#00aeef"}},[e._v("play_arrow")]):e._e()],1),t("v-list-tile-content",{on:{click:function(n){e.filterAction(i,r)}}},[t("v-list-tile-title",{staticStyle:{width:"calc(100% - 45px)"},attrs:{title:r[n.mappingName]},domProps:{textContent:e._s(r[n.mappingName])}}),t("span",{staticClass:"status__counter",staticStyle:{color:"#0b72ba"}},[e._v("\n              "+e._s(r[n.mappingCount])+"\n            ")])],1)],1)})],2)}),1)],1),t("v-content",[t("router-view")],1),e.isMobile?t("go-top",{attrs:{size:42,"bg-color":"#0064c7"}}):e._e()],1)},a=[],c=t("49ec"),s=t.n(c),u={data:function(){return{active:null,activeAll:!1,activeTab:0,pathRouter:"/thu-tuc-hanh-chinh",currentAgency:"",currentDomain:"",currentLevel:"",currentMethod:"",countAllService:0,isDetail:!1,text:"",menuServiceInfos:[{id:1,name:"Cơ quan quản lý",mappingName:"administrationName",mappingCode:"administrationCode",mappingCount:"count",children:[],icon:"account_balance"},{id:2,name:"Lĩnh vực",mappingName:"domainName",mappingCode:"domainCode",mappingCount:"count",children:[],icon:"domain"},{id:3,name:"Mức độ",mappingName:"levelName",mappingCode:"level",mappingCount:"count",children:[],icon:"sort"},{id:4,name:"Tất cả thủ tục",mappingName:"all",mappingCode:"all",mappingCount:"count",children:[],icon:"select_all"}]}},components:{GoTop:s.a},computed:{currentIndex:function(){return this.$store.getters.index},govAgencyList:function(){return this.$store.getters.getAgencyList},domainList:function(){return this.$store.getters.getDomainList},levelList:function(){return this.$store.getters.getLevelList},isMobile:function(){return this.$store.getters.getIsMobile}},beforeDestroy:function(){"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize,{passive:!0})},created:function(){var e=this;e.$nextTick(function(){var n=e.$router.history.current,t=n.query;e.$store.dispatch("getGovAgency").then(function(i){if(e.currentAgency=t.hasOwnProperty("agency")?t.agency:"",e.menuServiceInfos[0].children=i,e.$store.commit("setAgencyList",i),console.log("run app",n),e.govAgencyList.length>0&&n.hasOwnProperty("name")&&"Landing"===n.name&&!t.hasOwnProperty("agency")||e.govAgencyList.length>0&&n.hasOwnProperty("name")&&"NotFound"===n.name&&!t.hasOwnProperty("agency")){e.currentAgency=e.govAgencyList[0].administrationCode;var r="?";for(var o in t["page"]=1,t["agency"]=e.govAgencyList[0].administrationCode,t)""!==t[o]&&"undefined"!==t[o]&&void 0!==t[o]&&null!==t[o]&&(r+=o+"="+t[o]+"&");e.$router.push({path:e.pathRouter+r,query:{renew:Math.floor(100*Math.random())+1}})}else e.currentAgency=t.hasOwnProperty("agency")?t.agency:""});var i={agencyCode:""};e.$store.dispatch("getDomain",i).then(function(n){e.menuServiceInfos[1].children=n,e.$store.commit("setDomainList",n),e.currentDomain=t.hasOwnProperty("domain")?t.domain:""}),e.$store.dispatch("getLevelList").then(function(n){e.menuServiceInfos[2].children=n,e.$store.commit("setLevelList",n),e.currentLevel=t.hasOwnProperty("level")?t.level:""}),e.currentMethod=t.hasOwnProperty("level")&&"2"===String(t.level)?"MC":t.hasOwnProperty("level")&&String("3,4"===t.level)?"DVC":"",e.activeAll=t.hasOwnProperty("all")&&t["all"],e.getCountAll()})},watch:{$route:function(e,n){var t=this,i=e.params,r=e.query;i.hasOwnProperty("index")&&i["index"]?t.isDetail=!0:t.isDetail=!1,t.currentAgency=r.hasOwnProperty("agency")?r.agency:"",t.currentDomain=r.hasOwnProperty("domain")?r.domain:"",t.currentLevel=r.hasOwnProperty("level")?r.level:"",t.currentMethod=r.hasOwnProperty("level")&&"2"===String(r.level)?"MC":r.hasOwnProperty("level")&&String("3,4"===r.level)?"DVC":"",t.activeAll=r.hasOwnProperty("all")&&r["all"]},levelList:function(e){if(Array.isArray(e)&&e.length>0)for(var n in e)Number(e[n]["level"])>2?Number(e[n]["count"]):Number(e[n]["count"])}},methods:{onResize:function(){var e=this,n=window.innerWidth<1024;e.$store.commit("setIsMobile",n)},filterAction:function(e,n){var t=this;0===e?t.filterAgency(n):1===e?t.filterDomain(n):2===e?t.filterLevel(n):3===e?t.filterMethod(n):5===e&&t.filterAll()},filterAgency:function(e){var n=this;n.currentAgency=e.administrationCode;var t=n.$router.history.current,i=t.query,r="?";for(var o in i["page"]=1,i["agency"]=e.administrationCode,i["domain"]="",i["level"]="",i["all"]=!1,i)""!==i[o]&&"undefined"!==i[o]&&void 0!==i[o]&&null!==i[o]&&(r+=o+"="+i[o]+"&");n.$router.push({path:n.pathRouter+r,query:{renew:Math.floor(100*Math.random())+1}})},filterDomain:function(e){var n=this;n.currentDomain=e.domainCode;var t=n.$router.history.current,i=t.query,r="?";for(var o in i["page"]=1,i["domain"]=e.domainCode,i["agency"]="",i["level"]="",i["all"]=!1,i)""!==i[o]&&"undefined"!==i[o]&&void 0!==i[o]&&null!==i[o]&&(r+=o+"="+i[o]+"&");n.$router.push({path:n.pathRouter+r,query:{renew:Math.floor(100*Math.random())+1}})},filterLevel:function(e){var n=this;n.currentLevel=e.level;var t=n.$router.history.current,i=t.query,r="?";for(var o in i["page"]=1,i["domain"]="",i["agency"]="",i["all"]=!1,i["level"]=e.level,i)""!==i[o]&&"undefined"!==i[o]&&void 0!==i[o]&&null!==i[o]&&(r+=o+"="+i[o]+"&");n.$router.push({path:n.pathRouter+r,query:{renew:Math.floor(100*Math.random())+1}})},filterMethod:function(e){var n=this;n.currentLevel=e.level;var t=n.$router.history.current,i=t.query,r="?";for(var o in i["page"]=1,i["domain"]="",i["agency"]="",i["all"]=!1,i["level"]=e.level,i)""!==i[o]&&"undefined"!==i[o]&&void 0!==i[o]&&null!==i[o]&&(r+=o+"="+i[o]+"&");n.$router.push({path:n.pathRouter+r,query:{renew:Math.floor(100*Math.random())+1}})},filterAll:function(){var e=this;e.activeAll=!0,e.currentLevel="";var n=e.$router.history.current,t=n.query,i="?";for(var r in t["page"]=1,t["domain"]="",t["agency"]="",t["level"]="",t["all"]=!0,t)""!==t[r]&&"undefined"!==t[r]&&void 0!==t[r]&&null!==t[r]&&(i+=r+"="+t[r]+"&");e.$router.push({path:e.pathRouter+i,query:{renew:Math.floor(100*Math.random())+1}})},getCountAll:function(){var e=this,n={page:1};e.$store.dispatch("getServiceLists",n).then(function(n){n.data&&(e.countAllService=n.total,console.log("countAllService",e.countAllService))}).catch(function(e){})},goBack:function(){window.history.back()}}},l=u,d=(t("034f"),t("2877")),p=t("6544"),h=t.n(p),f=t("7496"),m=t("549c"),v=t("132d"),g=t("8860"),y=t("56b0"),w=t("ba95"),b=t("40fe"),L=t("5d23"),D=t("f774"),k=Object(d["a"])(l,o,a,!1,null,null,null),A=k.exports;h()(k,{VApp:f["a"],VContent:m["a"],VIcon:v["a"],VList:g["a"],VListGroup:y["a"],VListTile:w["a"],VListTileAction:b["a"],VListTileContent:L["a"],VListTileTitle:L["b"],VNavigationDrawer:D["a"]});var C=t("8c4f"),S=[{path:"/thu-tuc-hanh-chinh",name:"Landing",component:function(){return Promise.all([t.e("chunk-d2f3ddec"),t.e("chunk-dcc57398"),t.e("chunk-a5a71f02")]).then(t.bind(null,"e77d"))},props:!0},{path:"/m/thu-tuc-hanh-chinh",name:"LandingMobile",component:function(){return Promise.all([t.e("chunk-d2f3ddec"),t.e("chunk-dcc57398"),t.e("chunk-2d237b33")]).then(t.bind(null,"fbde"))},props:!0},{path:"/thu-tuc-hanh-chinh/:index",name:"ChiTietThuTuc",component:function(){return Promise.all([t.e("chunk-d2f3ddec"),t.e("chunk-22808652"),t.e("chunk-5a38bf54")]).then(t.bind(null,"87b0"))},props:!0},{path:"/m/thu-tuc-hanh-chinh/:index",name:"ChiTietThuTucMobile",component:function(){return Promise.all([t.e("chunk-d2f3ddec"),t.e("chunk-22808652"),t.e("chunk-6c81b952")]).then(t.bind(null,"0b5d"))},props:!0},{path:"/danh-sach-ho-so/:index",name:"LandingFake",component:function(){return t.e("chunk-2d0b8b00").then(t.bind(null,"306c"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:function(){return t.e("chunk-2d21d44a").then(t.bind(null,"d129"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:function(){return t.e("chunk-2d207f36").then(t.bind(null,"a35c"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:function(){return t.e("chunk-2d2109fb").then(t.bind(null,"b94b"))},props:!0,meta:{requiresAuth:!1}},{path:"*",name:"NotFound",component:function(){return Promise.all([t.e("chunk-d2f3ddec"),t.e("chunk-dcc57398"),t.e("chunk-a5a71f02")]).then(t.bind(null,"e77d"))},props:!0}];i["a"].use(C["a"]);var P=new C["a"]({routes:S}),I=P,M=t("2f62"),$=t("854a"),x=t.n($),_=t("bc3a"),T=t.n(_);i["a"].use(x.a),i["a"].use(M["a"]);var O=new M["a"].Store({state:{initData:{},endPoint:"/o/rest/v2",loading:!1,index:0,agencyList:[],domainList:[],levelList:[],isMobile:!1},actions:{loadInitResource:function(e){e.commit;var n=e.state;return new Promise(function(e,t){null!==window.themeDisplay&&void 0!==window.themeDisplay?(n.initData["groupId"]=window.themeDisplay.getScopeGroupId(),n.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(n.initData["groupId"]=0,n.initData["user"]={userName:"",userEmail:"",userId:20103}),e(n.initData)})},getGovAgency:function(e,n){e.commit;var t=e.state;return new Promise(function(e,n){O.dispatch("loadInitResource").then(function(n){var i={headers:{groupId:t.initData.groupId},params:{sort:"siblingSearch"}};T.a.get(t.endPoint+"/serviceinfos/statistics/agencies",i).then(function(n){var t=n.data;if(t.data){var i=t.data;e(i)}else e([])}).catch(function(e){console.log(e)})})})},getDomain:function(e,n){e.commit;var t=e.state;return new Promise(function(e,i){O.dispatch("loadInitResource").then(function(i){var r={headers:{groupId:t.initData.groupId},params:{agency:n.agencyCode,sort:"siblingSearch"}};T.a.get(t.endPoint+"/serviceinfos/statistics/domains",r).then(function(n){var t=n.data;if(t.data){var i=t.data;e(i)}else e([])}).catch(function(e){console.log(e)})})})},getLevelList:function(e,n){e.commit;var t=e.state;return new Promise(function(e,n){O.dispatch("loadInitResource").then(function(i){var r={headers:{groupId:t.initData.groupId}};T.a.get(t.endPoint+"/serviceinfos/statistics/levels",r).then(function(n){var t=n.data;if(t.data){var i=t.data;for(var r in i)i[r]["levelName"]="Mức độ "+i[r].level;e(i)}else e([])}).catch(function(e){console.log(e),n(e)})})})},getServiceLists:function(e,n){e.commit;var t=e.state;return new Promise(function(e,i){O.dispatch("loadInitResource").then(function(r){var o={start:15*n.page-15,end:15*n.page,administration:n.administration?n.administration:"",keyword:n.keyword?n.keyword:"",level:n.level?n.level:0,domain:n.domain?n.domain:"",sort:""};n.domain&&(o.sort="siblingSearch");var a={headers:{groupId:t.initData.groupId},params:o};T.a.get(t.endPoint+"/serviceinfos",a).then(function(n){var t=n.data;e(t)}).catch(function(e){console.log(e),i(e)})})})},getServiceDetail:function(e,n){e.commit;var t=e.state;return new Promise(function(e,i){O.dispatch("loadInitResource").then(function(r){var o={headers:{groupId:t.initData.groupId}};T.a.get(t.endPoint+"/serviceinfos/"+n.index,o).then(function(n){var t=n.data;e(t)}).catch(function(e){console.log(e),i(e)})})})}},mutations:{setLoading:function(e,n){e.loading=n},setInitData:function(e,n){e.initData=n},setAgencyList:function(e,n){e.agencyList=n},setDomainList:function(e,n){e.domainList=n},setLevelList:function(e,n){e.levelList=n},setIsMobile:function(e,n){e.isMobile=n}},getters:{loading:function(e){return e.loading},index:function(e){return e.index},getAgencyList:function(e){return e.agencyList},getDomainList:function(e){return e.domainList},getLevelList:function(e){return e.levelList},getIsMobile:function(e){return e.isMobile}}}),N=t("967d"),q=t("9029");i["a"].use(N["default"]);var R=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0;T.a.defaults.withCredentials=!0,T.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",T.a.defaults.headers.common["groupId"]=R,i["a"].config.productionTip=!0,i["a"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new i["a"]({router:I,store:O,created:function(){var e=this;e.$nextTick(function(){q["isMobile"]?(e.$router.push("/m"),window.$(".mWrapper > header").css("display","none"),window.$(".mWrapper > footer").css("display","none"),window.$(".mWrapper > nav").css("display","none"),window.$(".mWrapper > footer > .container > .left").css("width","100%"),window.$(".mWrapper > footer > .container > .right").css("width","100%")):(window.$(".mWrapper > header").css("display","block"),window.$(".mWrapper > footer").css("display","block"),window.$(".mWrapper > nav").css("display","block"))})},render:function(e){return e(A)}}).$mount("#app_serviceinfo")},"74ef":function(e,n,t){}});
//# sourceMappingURL=app.js.map